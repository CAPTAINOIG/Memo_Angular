import{$ as B,$a as ii,$b as it,A as Cd,Aa as zt,Ab as d,Ac as Ct,B as Ir,Ba as zs,Bb as h,Bc as Te,C as Ot,Ca as Md,Cb as y,Cc as H,D as Or,Da as Om,Db as _e,Dc as af,E as nn,Ea as Fm,Eb as ye,Ec as Ya,F as _m,Fa as $s,Fb as Ws,Fc as Bi,G as wd,Ga as Nr,Gb as R,Gc as $r,H as Bt,Ha as Rr,Hb as k,Hc as lf,I as ym,Ia as Nm,Ib as b,Ic as z,J as Bn,Ja as Rm,Jb as ja,Jc as cf,K as rn,Ka as Pm,Kb as Ga,Kc as Gn,L as Sd,La as Vm,Lb as xi,Lc as Hr,M as bm,Ma as Bm,Mb as Ym,Mc as df,N as Cm,Na as zm,Nb as Od,Nc as Qa,O as wm,Oa as $m,Ob as pi,Oc as hf,P as Sm,Pa as $n,Pb as Ht,Pc as uf,Q as Xe,Qa as ti,Qb as jt,Qc as Fd,R as Ra,Ra as pt,Rb as _i,Rc as pf,S as He,Sa as Hm,Sb as m,T as le,Ta as jm,Tb as $,U as sn,Ua as Hs,Ub as O,V as Zt,Va as g,Vb as Ua,W as V,Wa as w,Wb as je,X as pe,Xa as Pa,Xb as Ge,Xc as mf,Y as Tm,Ya as js,Yb as Ue,Yc as Ys,Z as ee,Za as Gm,Zb as bt,Zc as Ka,_ as Td,_a as Pr,_b as Re,a as M,aa as N,ab as Gs,ac as Br,b as Q,ba as Pi,bb as Um,bc as J,c as Ib,ca as kd,cb as Wm,cc as de,cd as ff,d as ht,da as km,db as Dd,dc as on,dd as Ja,e as pm,ea as zn,eb as D,ec as an,f as mm,fa as ei,fb as me,fc as Wa,fd as gf,g as fm,ga as Ae,gb as Me,gc as Qm,h as _d,ha as E,hb as qm,hc as Km,i as yd,ia as A,ib as _t,ic as ln,j as tt,ja as q,jb as Va,jc as Jm,k as Ne,ka as di,kb as T,kc as Zm,kd as vf,l as Ri,la as Em,lb as Ld,lc as Hn,m as gm,ma as ut,mb as Xm,mc as zr,n as $e,na as Am,nb as Ba,nc as Vi,o as P,oa as Mm,ob as za,oc as qa,p as Vn,pa as Vs,pb as Id,pc as ef,q as Oa,qa as X,qb as $a,qc as jn,r as vm,ra as Be,rb as Us,rc as tf,s as K,sa as Ed,sb as Ha,sc as nf,t as Fa,ta as Dm,tb as hi,tc as Ye,u as Vt,ua as Le,ub as fe,uc as rf,v as bd,va as Bs,vb as x,vc as qs,w as Na,wa as Fr,wb as ui,wc as sf,x as Dr,xa as Lm,xb as yt,xc as of,y as xm,ya as Ad,yb as $t,yc as Xs,z as Lr,za as Im,zb as Vr,zc as Xa}from"./chunk-BCG3PYLS.js";var at=Ib((b_,Lc)=>{(function(i,t){typeof Lc=="object"&&Lc.exports?Lc.exports=t():i.Toastify=t()})(b_,function(i){var t=function(s){return new t.lib.init(s)},e="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:e,constructor:t,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||t.defaults.text,this.options.node=s.node||t.defaults.node,this.options.duration=s.duration===0?0:s.duration||t.defaults.duration,this.options.selector=s.selector||t.defaults.selector,this.options.callback=s.callback||t.defaults.callback,this.options.destination=s.destination||t.defaults.destination,this.options.newWindow=s.newWindow||t.defaults.newWindow,this.options.close=s.close||t.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=s.positionLeft||t.defaults.positionLeft,this.options.position=s.position||t.defaults.position,this.options.backgroundColor=s.backgroundColor||t.defaults.backgroundColor,this.options.avatar=s.avatar||t.defaults.avatar,this.options.className=s.className||t.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?t.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||t.defaults.onClick,this.options.offset=s.offset||t.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||t.defaults.ariaLive,this.options.style=s.style||t.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var o in this.options.style)s.style[o]=this.options.style[o];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var a=document.createElement("img");a.src=this.options.avatar,a.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(a):s.insertAdjacentElement("afterbegin",a)}if(this.options.close===!0){var l=document.createElement("button");l.type="button",l.setAttribute("aria-label","Close"),l.className="toast-close",l.innerHTML="&#10006;",l.addEventListener("click",function(C){C.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var c=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&c>360?s.insertAdjacentElement("afterbegin",l):s.appendChild(l)}if(this.options.stopOnFocus&&this.options.duration>0){var u=this;s.addEventListener("mouseover",function(C){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){u.removeElement(s)},u.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",function(C){C.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",function(C){C.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var p=n("x",this.options),f=n("y",this.options),v=this.options.position=="left"?p:"-"+p,_=this.options.gravity=="toastify-top"?f:"-"+f;s.style.transform="translate("+v+","+_+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var o=t.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,o),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var s={top:15,bottom:15},o={top:15,bottom:15},a={top:15,bottom:15},l=document.getElementsByClassName("toastify"),c,u=0;u<l.length;u++){r(l[u],"toastify-top")===!0?c="toastify-top":c="toastify-bottom";var p=l[u].offsetHeight;c=c.substr(9,c.length-1);var f=15,v=window.innerWidth>0?window.innerWidth:screen.width;v<=360?(l[u].style[c]=a[c]+"px",a[c]+=p+f):r(l[u],"toastify-left")===!0?(l[u].style[c]=s[c]+"px",s[c]+=p+f):(l[u].style[c]=o[c]+"px",o[c]+=p+f)}return this};function n(s,o){return o.offset[s]?isNaN(o.offset[s])?o.offset[s]:o.offset[s]+"px":"0px"}function r(s,o){return!s||typeof o!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(o)>-1)}return t.lib.init.prototype=t.lib,t})});var Ks=class{},el=class{},Gt=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),s=e.slice(n+1).trim();this.addHeaderEntry(r,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Rd=class{encodeKey(t){return xf(t)}encodeValue(t){return xf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Nb(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var Rb=/%(\d[a-f0-9])/gi,Pb={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xf(i){return encodeURIComponent(i).replace(Rb,(t,e)=>Pb[e]??t)}function Za(i){return`${i}`}var cn=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Rd,t.fromString){if(t.fromObject)throw new le(2805,!1);this.map=Nb(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(Za):[Za(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Za(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Za(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Pd=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Vb(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _f(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function yf(i){return typeof Blob<"u"&&i instanceof Blob}function bf(i){return typeof FormData<"u"&&i instanceof FormData}function Bb(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Cf="Content-Type",wf="Accept",Ef="X-Request-URL",Af="text/plain",Mf="application/json",zb=`${Mf}, ${Af}, */*`,Qs=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let s;if(Vb(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gt,this.context??=new Pd,!this.params)this.params=new cn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_f(this.body)||yf(this.body)||bf(this.body)||Bb(this.body)?this.body:this.body instanceof cn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bf(this.body)?null:yf(this.body)?this.body.type||null:_f(this.body)?null:typeof this.body=="string"?Af:this.body instanceof cn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Mf:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,v)=>f.set(v,t.setHeaders[v]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,v)=>f.set(v,t.setParams[v]),u)),new i(e,n,o,{params:u,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},jr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(jr||{}),Js=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new Gt,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Vd=class i extends Js{constructor(t={}){super(t)}type=jr.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},tl=class i extends Js{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=jr.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},il=class extends Js{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},$b=200,Hb=204;function Nd(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Un=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof Qs)s=e;else{let l;r.headers instanceof Gt?l=r.headers:l=new Gt(r.headers);let c;r.params&&(r.params instanceof cn?c=r.params:c=new cn({fromObject:r.params})),s=new Qs(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=P(s).pipe(nn(l=>this.handler.handle(l)));if(e instanceof Qs||r.observe==="events")return o;let a=o.pipe(Ot(l=>l instanceof tl));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new le(2806,!1);return l.body}));case"blob":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new le(2807,!1);return l.body}));case"text":return a.pipe(K(l=>{if(l.body!==null&&typeof l.body!="string")throw new le(2808,!1);return l.body}));case"json":default:return a.pipe(K(l=>l.body))}case"response":return a;default:throw new le(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new cn().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Nd(r,n))}post(e,n,r={}){return this.request("POST",e,Nd(r,n))}put(e,n,r={}){return this.request("PUT",e,Nd(r,n))}static \u0275fac=function(n){return new(n||i)(B(Ks))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();var jb=new ee("");function Df(i,t){return t(i)}function Gb(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function Ub(i,t,e){return(n,r)=>ei(e,()=>t(n,s=>i(s,r)))}var Wb=new ee(""),Bd=new ee(""),qb=new ee(""),Lf=new ee("",{providedIn:"root",factory:()=>!0});function Xb(){let i=null;return(t,e)=>{i===null&&(i=(N(Wb,{optional:!0})??[]).reduceRight(Gb,Df));let n=N(Vs);if(N(Lf)){let s=n.add();return i(t,e).pipe(Bn(()=>n.remove(s)))}else return i(t,e)}}var Sf=(()=>{class i extends Ks{backend;injector;chain=null;pendingTasks=N(Vs);contributeToStability=N(Lf);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Bd),...this.injector.get(qb,[])]));this.chain=n.reduceRight((r,s)=>Ub(r,s,this.injector),Df)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Bn(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(B(el),B(zn))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();var Yb=/^\)\]\}',?\n/,Qb=RegExp(`^${Ef}:`,"m");function Kb(i){return"responseURL"in i&&i.responseURL?i.responseURL:Qb.test(i.getAllResponseHeaders())?i.getResponseHeader(Ef):null}var Tf=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new le(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?$e(n.\u0275loadImpl()):P(null)).pipe(Xe(()=>new fm(s=>{let o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((C,S)=>o.setRequestHeader(C,S.join(","))),e.headers.has(wf)||o.setRequestHeader(wf,zb),!e.headers.has(Cf)){let C=e.detectContentTypeHeader();C!==null&&o.setRequestHeader(Cf,C)}if(e.responseType){let C=e.responseType.toLowerCase();o.responseType=C!=="json"?C:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=o.statusText||"OK",S=new Gt(o.getAllResponseHeaders()),I=Kb(o)||e.url;return l=new Vd({headers:S,status:o.status,statusText:C,url:I}),l},u=()=>{let{headers:C,status:S,statusText:I,url:ie}=c(),G=null;S!==Hb&&(G=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=G?$b:0);let Ve=S>=200&&S<300;if(e.responseType==="json"&&typeof G=="string"){let ke=G;G=G.replace(Yb,"");try{G=G!==""?JSON.parse(G):null}catch(et){G=ke,Ve&&(Ve=!1,G={error:et,text:G})}}Ve?(s.next(new tl({body:G,headers:C,status:S,statusText:I,url:ie||void 0})),s.complete()):s.error(new il({error:G,headers:C,status:S,statusText:I,url:ie||void 0}))},p=C=>{let{url:S}=c(),I=new il({error:C,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(I)},f=!1,v=C=>{f||(s.next(c()),f=!0);let S={type:jr.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),e.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),s.next(S)},_=C=>{let S={type:jr.UploadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),s.next(S)};return o.addEventListener("load",u),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",_)),o.send(a),s.next({type:jr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",u),o.removeEventListener("timeout",p),e.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(n){return new(n||i)(B(Qa))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),If=new ee(""),Jb="XSRF-TOKEN",Zb=new ee("",{providedIn:"root",factory:()=>Jb}),eC="X-XSRF-TOKEN",tC=new ee("",{providedIn:"root",factory:()=>eC}),nl=class{},iC=(()=>{class i{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xa(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)(B(Ye),B(zt),B(Zb))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function nC(i,t){let e=i.url.toLowerCase();if(!N(If)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=N(nl).getToken(),r=N(tC);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Of=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Of||{});function rC(i,t){return{\u0275kind:i,\u0275providers:t}}function sC(...i){let t=[Un,Tf,Sf,{provide:Ks,useExisting:Sf},{provide:el,useFactory:()=>N(jb,{optional:!0})??N(Tf)},{provide:Bd,useValue:nC,multi:!0},{provide:If,useValue:!0},{provide:nl,useClass:iC}];for(let e of i)t.push(...e.\u0275providers);return Pi(t)}var kf=new ee("");function oC(){return rC(Of.LegacyInterceptors,[{provide:kf,useFactory:Xb},{provide:Bd,useExisting:kf,multi:!0}])}var Ff=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({providers:[sC(oC())]})}return i})();var Hd=class extends nf{supportsDOMEvents=!0},jd=class i extends Hd{static makeCurrent(){tf(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=lC();return e==null?null:cC(e)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xa(document.cookie,t)}},Zs=null;function lC(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}function cC(i){return new URL(i,document.baseURI).pathname}var Gd=class{addToWindow(t){sn.getAngularTestability=(n,r=!0)=>{let s=t.findTestabilityInTree(n,r);if(s==null)throw new le(5103,!1);return s},sn.getAllAngularTestabilities=()=>t.getAllTestabilities(),sn.getAllAngularRootElements=()=>t.getAllRootElements();let e=n=>{let r=sn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,n){if(e==null)return null;let r=t.getTestability(e);return r??(n?jn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},dC=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Ud=new ee(""),zf=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,s){return this._findPluginFor(n).addEventListener(e,n,r,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new le(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(B(Ud),B(Be))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),sl=class{_doc;constructor(t){this._doc=t}manager},rl="ng-app-id";function Nf(i){for(let t of i)t.remove()}function Rf(i,t){let e=t.createElement("style");return e.textContent=i,e}function hC(i,t,e,n){let r=i.head?.querySelectorAll(`style[${rl}="${t}"],link[${rl}="${t}"]`);if(r)for(let s of r)s.removeAttribute(rl),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Wd(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var $f=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=Hr(s),hC(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Rf);n?.forEach(r=>this.addUsage(r,this.external,Wd))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let s=n.get(e);s?s.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Nf(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Nf(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Rf(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Wd(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(rl,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(B(Ye),B(Ad),B(Md,8),B(zt))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),$d={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xd=/%COMP%/g;var Hf="%COMP%",uC=`_nghost-${Hf}`,pC=`_ngcontent-${Hf}`,mC=!0,fC=new ee("",{providedIn:"root",factory:()=>mC});function gC(i){return pC.replace(Xd,i)}function vC(i){return uC.replace(Xd,i)}function jf(i,t){return t.map(e=>e.replace(Xd,i))}var Gr=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,s,o,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Hr(a),this.defaultRenderer=new eo(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===$s.ShadowDom&&(n=Q(M({},n),{encapsulation:$s.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof ol?r.applyToHost(e):r instanceof to&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,s=r.get(n.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer,f=this.tracingService;switch(n.encapsulation){case $s.Emulated:s=new ol(l,c,n,this.appId,u,o,a,p,f);break;case $s.ShadowDom:return new qd(l,c,e,n,o,a,this.nonce,p,f);default:s=new to(l,c,n,u,o,a,p,f);break}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(B(zf),B($f),B(Ad),B(fC),B(Ye),B(zt),B(Be),B(Md),B(Om,8))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),eo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,s){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS($d[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Pf(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Pf(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new le(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let s=$d[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=$d[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(js.DashCase|js.Important)?t.style.setProperty(e,n,r&js.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&js.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=jn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let s=this.decoratePreventDefault(n);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Pf(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var qd=class extends eo{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,s,o,a,l,c){super(t,s,o,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=jf(r.id,u);for(let f of u){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=f,this.shadowRoot.appendChild(v)}let p=r.getExternalStyles?.();if(p)for(let f of p){let v=Wd(f,s);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},to=class extends eo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,s,o,a,l,c){super(t,s,o,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=n.styles;this.styles=c?jf(c,u):u,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ol=class extends to{contentAttr;hostAttr;constructor(t,e,n,r,s,o,a,l,c){let u=r+"-"+n.id;super(t,e,n,s,o,a,l,c,u),this.contentAttr=gC(u),this.hostAttr=vC(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},xC=(()=>{class i extends sl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,s){return e.addEventListener(n,r,s),()=>this.removeEventListener(e,n,r,s)}removeEventListener(e,n,r,s){return e.removeEventListener(n,r,s)}static \u0275fac=function(n){return new(n||i)(B(Ye))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Vf=["alt","control","meta","shift"],_C={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yC={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},bC=(()=>{class i extends sl{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,s){let o=i.parseEventName(n),a=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let s=i._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),Vf.forEach(c=>{let u=n.indexOf(c);u>-1&&(n.splice(u,1),o+=c+".")}),o+=s,n.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let r=_C[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Vf.forEach(o=>{if(o!==r){let a=yC[o];a(e)&&(s+=o+".")}}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(B(Ye))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function Gf(i,t){return Zm(M({rootComponent:i},CC(t)))}function CC(i){return{appProviders:[...Uf,...i?.providers??[]],platformProviders:kC}}function wC(){jd.makeCurrent()}function SC(){return new Ed}function TC(){return Lm(document),document}var kC=[{provide:zt,useValue:cf},{provide:Im,useValue:wC,multi:!0},{provide:Ye,useFactory:TC,deps:[]}];var EC=[{provide:Ba,useClass:Gd,deps:[]},{provide:Xm,useClass:za,deps:[Be,Id,Ba]},{provide:za,useClass:za,deps:[Be,Id,Ba]}],Uf=[{provide:km,useValue:"root"},{provide:Ed,useFactory:SC,deps:[]},{provide:Ud,useClass:xC,multi:!0,deps:[Ye,Be,zt]},{provide:Ud,useClass:bC,multi:!0,deps:[Ye]},Gr,$f,zf,{provide:Pr,useExisting:Gr},{provide:Qa,useClass:dC,deps:[]},[]],Wf=(()=>{class i{constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({providers:[...Uf,...EC],imports:[z,Jm]})}return i})();var qf=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(B(Ye))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Yd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=B(AC),r},providedIn:"root"})}return i})(),AC=(()=>{class i extends Yd{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case $n.NONE:return n;case $n.HTML:return Rr(n,"HTML")?Nr(n):$m(this._doc,String(n)).toString();case $n.STYLE:return Rr(n,"Style")?Nr(n):n;case $n.SCRIPT:if(Rr(n,"Script"))return Nr(n);throw new le(5200,!1);case $n.URL:return Rr(n,"URL")?Nr(n):zm(String(n));case $n.RESOURCE_URL:if(Rr(n,"ResourceURL"))return Nr(n);throw new le(5201,!1);default:throw new le(5202,!1)}}bypassSecurityTrustHtml(e){return Nm(e)}bypassSecurityTrustStyle(e){return Rm(e)}bypassSecurityTrustScript(e){return Pm(e)}bypassSecurityTrustUrl(e){return Vm(e)}bypassSecurityTrustResourceUrl(e){return Bm(e)}static \u0275fac=function(n){return new(n||i)(B(Ye))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Z="primary",go=Symbol("RouteTitle"),eh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Qr(i){return new eh(i)}function MC(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=i[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function DC(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!yi(i[e],t[e]))return!1;return!0}function yi(i,t){let e=i?th(i):void 0,n=t?th(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!rg(i[r],t[r]))return!1;return!0}function th(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function rg(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}else return i===t}function sg(i){return i.length>0?i[i.length-1]:null}function hn(i){return Oa(i)?i:$a(i)?$e(Promise.resolve(i)):P(i)}var LC={exact:ag,subset:lg},og={exact:IC,subset:OC,ignored:()=>!0};function Yf(i,t,e){return LC[e.paths](i.root,t.root,e.matrixParams)&&og[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function IC(i,t){return yi(i,t)}function ag(i,t,e){if(!qn(i.segments,t.segments)||!cl(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!ag(i.children[n],t.children[n],e))return!1;return!0}function OC(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>rg(i[e],t[e]))}function lg(i,t,e){return cg(i,t,t.segments,e)}function cg(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!qn(r,e)||t.hasChildren()||!cl(r,e,n))}else if(i.segments.length===e.length){if(!qn(i.segments,e)||!cl(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!lg(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!qn(i.segments,r)||!cl(i.segments,r,n)||!i.children[Z]?!1:cg(i.children[Z],t,s,n)}}function cl(i,t,e){return t.every((n,r)=>og[e](i[r].parameters,n.parameters))}var $i=class{root;queryParams;fragment;_queryParamMap;constructor(t=new be([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){return RC.serialize(this)}},be=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},Wn=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Qr(this.parameters),this._parameterMap}toString(){return hg(this)}};function FC(i,t){return qn(i,t)&&i.every((e,n)=>yi(e.parameters,t[n].parameters))}function qn(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function NC(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Z&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Z&&(e=e.concat(t(r,n)))}),e}var vo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>new Kr,providedIn:"root"})}return i})(),Kr=class{parse(t){let e=new nh(t);return new $i(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${io(t.root,!0)}`,n=BC(t.queryParams),r=typeof t.fragment=="string"?`#${PC(t.fragment)}`:"";return`${e}${n}${r}`}},RC=new Kr;function dl(i){return i.segments.map(t=>hg(t)).join("/")}function io(i,t){if(!i.hasChildren())return dl(i);if(t){let e=i.children[Z]?io(i.children[Z],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==Z&&n.push(`${r}:${io(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=NC(i,(n,r)=>r===Z?[io(i.children[Z],!1)]:[`${r}:${io(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Z]!=null?`${dl(i)}/${e[0]}`:`${dl(i)}/(${e.join("//")})`}}function dg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function al(i){return dg(i).replace(/%3B/gi,";")}function PC(i){return encodeURI(i)}function ih(i){return dg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(i){return decodeURIComponent(i)}function Qf(i){return hl(i.replace(/\+/g,"%20"))}function hg(i){return`${ih(i.path)}${VC(i.parameters)}`}function VC(i){return Object.entries(i).map(([t,e])=>`;${ih(t)}=${ih(e)}`).join("")}function BC(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${al(e)}=${al(r)}`).join("&"):`${al(e)}=${al(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var zC=/^[^\/()?;#]+/;function Qd(i){let t=i.match(zC);return t?t[0]:""}var $C=/^[^\/()?;=#]+/;function HC(i){let t=i.match($C);return t?t[0]:""}var jC=/^[^=?&#]+/;function GC(i){let t=i.match(jC);return t?t[0]:""}var UC=/^[^&#]+/;function WC(i){let t=i.match(UC);return t?t[0]:""}var nh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Z]=new be(t,e)),n}parseSegment(){let t=Qd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new Wn(hl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=HC(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Qd(this.remaining);r&&(n=r,this.capture(n))}t[hl(e)]=hl(n)}parseQueryParam(t){let e=GC(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=WC(this.remaining);o&&(n=o,this.capture(n))}let r=Qf(e),s=Qf(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Qd(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new le(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Z);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[Z]:new be([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}};function ug(i){return i.segments.length>0?new be([],{[Z]:i}):i}function pg(i){let t={};for(let[n,r]of Object.entries(i.children)){let s=pg(r);if(n===Z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new be(i.segments,t);return qC(e)}function qC(i){if(i.numberOfChildren===1&&i.children[Z]){let t=i.children[Z];return new be(i.segments.concat(t.segments),t.children)}return i}function Xn(i){return i instanceof $i}function XC(i,t,e=null,n=null){let r=mg(i);return fg(r,t,e,n)}function mg(i){let t;function e(s){let o={};for(let l of s.children){let c=e(l);o[l.outlet]=c}let a=new be(s.url,o);return s===i&&(t=a),a}let n=e(i.root),r=ug(n);return t??r}function fg(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Kd(r,r,r,e,n);let s=YC(t);if(s.toRoot())return Kd(r,r,new be([],{}),e,n);let o=QC(s,r,i),a=o.processChildren?ro(o.segmentGroup,o.index,s.commands):vg(o.segmentGroup,o.index,s.commands);return Kd(r,o.segmentGroup,a,e,n)}function ul(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function ao(i){return typeof i=="object"&&i!=null&&i.outlets}function Kd(i,t,e,n,r){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;i===t?o=e:o=gg(i,t,e);let a=ug(pg(o));return new $i(a,s,r)}function gg(i,t,e){let n={};return Object.entries(i.children).forEach(([r,s])=>{s===t?n[r]=e:n[r]=gg(s,t,e)}),new be(i.segments,n)}var pl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ul(n[0]))throw new le(4003,!1);let r=n.find(ao);if(r&&r!==sg(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YC(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new pl(!0,0,i);let t=0,e=!1,n=i.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new pl(e,t,n)}var qr=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function QC(i,t,e){if(i.isAbsolute)return new qr(t,!0,0);if(!e)return new qr(t,!1,NaN);if(e.parent===null)return new qr(e,!0,0);let n=ul(i.commands[0])?0:1,r=e.segments.length-1+n;return KC(e,r,i.numberOfDoubleDots)}function KC(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new le(4005,!1);r=n.segments.length}return new qr(n,!1,r-s)}function JC(i){return ao(i[0])?i[0].outlets:{[Z]:i}}function vg(i,t,e){if(i??=new be([],{}),i.segments.length===0&&i.hasChildren())return ro(i,t,e);let n=ZC(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let s=new be(i.segments.slice(0,n.pathIndex),{});return s.children[Z]=new be(i.segments.slice(n.pathIndex),i.children),ro(s,0,r)}else return n.match&&r.length===0?new be(i.segments,{}):n.match&&!i.hasChildren()?rh(i,t,e):n.match?ro(i,0,r):rh(i,t,e)}function ro(i,t,e){if(e.length===0)return new be(i.segments,{});{let n=JC(e),r={};if(Object.keys(n).some(s=>s!==Z)&&i.children[Z]&&i.numberOfChildren===1&&i.children[Z].segments.length===0){let s=ro(i.children[Z],t,e);return new be(i.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=vg(i.children[s],t,o))}),Object.entries(i.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new be(i.segments,r)}}function ZC(i,t,e){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;let o=i.segments[r],a=e[n];if(ao(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Jf(l,c,o))return s;n+=2}else{if(!Jf(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function rh(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(ao(s)){let l=ew(s.outlets);return new be(n,l)}if(r===0&&ul(e[0])){let l=i.segments[t];n.push(new Wn(l.path,Kf(e[0]))),r++;continue}let o=ao(s)?s.outlets[Z]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&ul(a)?(n.push(new Wn(o,Kf(a))),r+=2):(n.push(new Wn(o,{})),r++)}return new be(n,{})}function ew(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=rh(new be([],{}),0,n))}),t}function Kf(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Jf(i,t,e){return i==e.path&&yi(t,e.parameters)}var so="imperative",Qe=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Qe||{}),ni=class{id;url;constructor(t,e){this.id=t,this.url=e}},Jr=class extends ni{type=Qe.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bi=class extends ni{urlAfterRedirects;type=Qe.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Wt||{}),ml=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(ml||{}),zi=class extends ni{reason;code;type=Qe.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dn=class extends ni{reason;code;type=Qe.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},lo=class extends ni{error;target;type=Qe.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fl=class extends ni{urlAfterRedirects;state;type=Qe.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends ni{urlAfterRedirects;state;type=Qe.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class extends ni{urlAfterRedirects;state;shouldActivate;type=Qe.GuardsCheckEnd;constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ah=class extends ni{urlAfterRedirects;state;type=Qe.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends ni{urlAfterRedirects;state;type=Qe.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ch=class{route;type=Qe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dh=class{route;type=Qe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hh=class{snapshot;type=Qe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{snapshot;type=Qe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{snapshot;type=Qe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mh=class{snapshot;type=Qe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gl=class{routerEvent;position;anchor;type=Qe.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},co=class{},Zr=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function tw(i,t){return i.providers&&!i._injector&&(i._injector=Dd(i.providers,t,`Route: ${i.path}`)),i._injector??t}function mi(i){return i.outlet||Z}function iw(i,t){let e=i.filter(n=>mi(n)===t);return e.push(...i.filter(n=>mi(n)!==t)),e}function xo(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new _o(this.rootInjector)}},_o=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new fh(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(B(zn))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),vl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=gh(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=gh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=vh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vh(t,this._root).map(e=>e.value)}};function gh(i,t){if(i===t.value)return t;for(let e of t.children){let n=gh(i,e);if(n)return n}return null}function vh(i,t){if(i===t.value)return[t];for(let e of t.children){let n=vh(i,e);if(n.length)return n.unshift(t),n}return[]}var Ut=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Wr(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var xl=class extends vl{snapshot;constructor(t,e){super(t),this.snapshot=e,kh(this,t)}toString(){return this.snapshot.toString()}};function xg(i){let t=nw(i),e=new Ne([new Wn("",{})]),n=new Ne({}),r=new Ne({}),s=new Ne({}),o=new Ne(""),a=new ri(e,n,s,o,r,Z,i,t.root);return a.snapshot=t.root,new xl(new Ut(a,[]),t)}function nw(i){let t={},e={},n={},r="",s=new Xr([],t,n,r,e,Z,i,null,{});return new yl("",new Ut(s,[]))}var ri=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(c=>c[go]))??P(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>Qr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>Qr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _l(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:M(M({},t.params),i.params),data:M(M({},t.data),i.data),resolve:M(M(M(M({},i.data),t.data),r?.data),i._resolvedData)}:n={params:M({},i.params),data:M({},i.data),resolve:M(M({},i.data),i._resolvedData??{})},r&&yg(r)&&(n.resolve[go]=r.title),n}var Xr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[go]}constructor(t,e,n,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},yl=class extends vl{url;constructor(t,e){super(e),this.url=t,kh(this,e)}toString(){return _g(this._root)}};function kh(i,t){t.value._routerState=i,t.children.forEach(e=>kh(i,e))}function _g(i){let t=i.children.length>0?` { ${i.children.map(_g).join(", ")} } `:"";return`${i.value}${t}`}function Jd(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,yi(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),yi(t.params,e.params)||i.paramsSubject.next(e.params),DC(t.url,e.url)||i.urlSubject.next(e.url),yi(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function xh(i,t){let e=yi(i.params,t.params)&&FC(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||xh(i.parent,t.parent))}function yg(i){return typeof i.title=="string"||i.title===null}var rw=new ee(""),Yn=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new X;deactivateEvents=new X;attachEvents=new X;detachEvents=new X;routerOutletData=Dm(void 0);parentContexts=N(_o);location=N(Gs);changeDetector=N(ln);inputBinder=N(Sl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _h(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Me({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ae]})}return i})(),_h=class i{route;childContexts;parent;outletData;__ngOutletInjector(t){return new i(this.route,this.childContexts,t,this.outletData)}constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===ri?this.route:t===_o?this.childContexts:t===rw?this.outletData:this.parent.get(t,e)}},Sl=new ee(""),Zf=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Fa([n.queryParams,n.params,n.data]).pipe(Xe(([s,o,a],l)=>(a=M(M(M({},s),o),a),l===0?P(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=ef(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function sw(i,t,e){let n=ho(i,t._root,e?e._root:void 0);return new xl(n,t)}function ho(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=ow(i,t,e);return new Ut(n,r)}else{if(i.shouldAttach(t.value)){let s=i.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>ho(i,a)),o}}let n=aw(t.value),r=t.children.map(s=>ho(i,s));return new Ut(n,r)}}function ow(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return ho(i,n,r);return ho(i,n)})}function aw(i){return new ri(new Ne(i.url),new Ne(i.params),new Ne(i.queryParams),new Ne(i.fragment),new Ne(i.data),i.outlet,i.component,i)}var uo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},bg="ngNavigationCancelingError";function bl(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Xn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Cg(!1,Wt.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function Cg(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[bg]=!0,e.cancellationCode=t,e}function lw(i){return wg(i)&&Xn(i.url)}function wg(i){return!!i&&i[bg]}var cw=(i,t,e,n)=>K(r=>(new yh(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),yh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Jd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Wr(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=Wr(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=Wr(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Wr(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new mh(s.value.snapshot))}),t.children.length&&this.forwardEvent(new uh(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(Jd(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jd(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},Cl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Yr=class{component;route;constructor(t,e){this.component=t,this.route=e}};function dw(i,t,e){let n=i._root,r=t?t._root:null;return no(n,r,e,[n.value])}function hw(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function ts(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Tm(i)?i:t.get(i):n}function no(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Wr(t);return i.children.forEach(o=>{uw(o,s[o.value.outlet],e,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>oo(a,e.getContext(o),r)),r}function uw(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=pw(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Cl(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?no(i,t,a?a.children:null,n,r):no(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yr(a.outlet.component,o))}else o&&oo(t,a,r),r.canActivateChecks.push(new Cl(n)),s.component?no(i,null,a?a.children:null,n,r):no(i,null,e,n,r);return r}function pw(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!qn(i.url,t.url);case"pathParamsOrQueryParamsChange":return!qn(i.url,t.url)||!yi(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xh(i,t)||!yi(i.queryParams,t.queryParams);case"paramsChange":default:return!xh(i,t)}}function oo(i,t,e){let n=Wr(i),r=i.value;Object.entries(n).forEach(([s,o])=>{r.component?t?oo(o,t.children.getContext(s),e):oo(o,null,e):oo(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Yr(t.outlet.component,r)):e.canDeactivateChecks.push(new Yr(null,r)):e.canDeactivateChecks.push(new Yr(null,r))}function yo(i){return typeof i=="function"}function mw(i){return typeof i=="boolean"}function fw(i){return i&&yo(i.canLoad)}function gw(i){return i&&yo(i.canActivate)}function vw(i){return i&&yo(i.canActivateChild)}function xw(i){return i&&yo(i.canDeactivate)}function _w(i){return i&&yo(i.canMatch)}function Sg(i){return i instanceof vm||i?.name==="EmptyError"}var ll=Symbol("INITIAL_VALUE");function es(){return Xe(i=>Fa(i.map(t=>t.pipe(Bt(1),Sm(ll)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===ll)return ll;if(e===!1||yw(e))return e}return!0}),Ot(t=>t!==ll),Bt(1)))}function yw(i){return Xn(i)||i instanceof uo}function bw(i,t){return Vt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?P(Q(M({},e),{guardsResult:!0})):Cw(o,n,r,i).pipe(Vt(a=>a&&mw(a)?ww(n,s,i,t):P(a)),K(a=>Q(M({},e),{guardsResult:a})))})}function Cw(i,t,e,n){return $e(i).pipe(Vt(r=>Aw(r.component,r.route,e,t,n)),rn(r=>r!==!0,!0))}function ww(i,t,e,n){return $e(t).pipe(nn(r=>Na(Tw(r.route.parent,n),Sw(r.route,n),Ew(i,r.path,e),kw(i,r.route,e))),rn(r=>r!==!0,!0))}function Sw(i,t){return i!==null&&t&&t(new ph(i)),P(!0)}function Tw(i,t){return i!==null&&t&&t(new hh(i)),P(!0)}function kw(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return P(!0);let r=n.map(s=>Dr(()=>{let o=xo(t)??e,a=ts(s,o),l=gw(a)?a.canActivate(t,i):ei(o,()=>a(t,i));return hn(l).pipe(rn())}));return P(r).pipe(es())}function Ew(i,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>hw(o)).filter(o=>o!==null).map(o=>Dr(()=>{let a=o.guards.map(l=>{let c=xo(o.node)??e,u=ts(l,c),p=vw(u)?u.canActivateChild(n,i):ei(c,()=>u(n,i));return hn(p).pipe(rn())});return P(a).pipe(es())}));return P(s).pipe(es())}function Aw(i,t,e,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let l=xo(t)??r,c=ts(a,l),u=xw(c)?c.canDeactivate(i,t,e,n):ei(l,()=>c(i,t,e,n));return hn(u).pipe(rn())});return P(o).pipe(es())}function Mw(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return P(!0);let s=r.map(o=>{let a=ts(o,i),l=fw(a)?a.canLoad(t,e):ei(i,()=>a(t,e));return hn(l)});return P(s).pipe(es(),Tg(n))}function Tg(i){return mm(He(t=>{if(typeof t!="boolean")throw bl(i,t)}),K(t=>t===!0))}function Dw(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return P(!0);let s=r.map(o=>{let a=ts(o,i),l=_w(a)?a.canMatch(t,e):ei(i,()=>a(t,e));return hn(l)});return P(s).pipe(es(),Tg(n))}var po=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},mo=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Ur(i){return Vn(new po(i))}function Lw(i){return Vn(new le(4e3,!1))}function Iw(i){return Vn(Cg(!1,Wt.GuardRejected))}var bh=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return P(n);if(r.numberOfChildren>1||!r.children[Z])return Lw(`${t.redirectTo}`);r=r.children[Z]}}applyRedirectCommands(t,e,n,r,s){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:p,outlet:f,params:v,data:_,title:C}=r,S=ei(s,()=>a({params:v,data:_,queryParams:l,fragment:c,routeConfig:u,url:p,outlet:f,title:C}));if(S instanceof $i)throw new mo(S);e=S}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new mo(o);return o}applyRedirectCreateUrlTree(t,e,n,r){let s=this.createSegmentGroup(t,e.root,n,r);return new $i(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[r]=e[a]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){let s=this.createSegments(t,e.segments,n,r),o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,r)}),new be(s,o)}createSegments(t,e,n,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new le(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Ch={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ow(i,t,e,n,r){let s=kg(i,t,e);return s.matched?(n=tw(t,n),Dw(n,t,e,r).pipe(K(o=>o===!0?s:M({},Ch)))):P(s)}function kg(i,t,e){if(t.path==="**")return Fw(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?M({},Ch):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||MC)(e,i,t);if(!r)return M({},Ch);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?M(M({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Fw(i){return{matched:!0,parameters:i.length>0?sg(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function eg(i,t,e,n){return e.length>0&&Pw(i,e,n)?{segmentGroup:new be(t,Rw(n,new be(e,i.children))),slicedSegments:[]}:e.length===0&&Vw(i,e,n)?{segmentGroup:new be(i.segments,Nw(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new be(i.segments,i.children),slicedSegments:e}}function Nw(i,t,e,n){let r={};for(let s of e)if(Tl(i,t,s)&&!n[mi(s)]){let o=new be([],{});r[mi(s)]=o}return M(M({},n),r)}function Rw(i,t){let e={};e[Z]=t;for(let n of i)if(n.path===""&&mi(n)!==Z){let r=new be([],{});e[mi(n)]=r}return e}function Pw(i,t,e){return e.some(n=>Tl(i,t,n)&&mi(n)!==Z)}function Vw(i,t,e){return e.some(n=>Tl(i,t,n))}function Tl(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Bw(i,t,e){return t.length===0&&!i.children[e]}var wh=class{};function zw(i,t,e,n,r,s,o="emptyOnly"){return new Sh(i,t,e,n,r,o,s).recognize()}var $w=31,Sh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new bh(this.urlSerializer,this.urlTree)}noMatchError(t){return new le(4002,`'${t.segmentGroup}'`)}recognize(){let t=eg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(({children:e,rootSnapshot:n})=>{let r=new Ut(n,e),s=new yl("",r),o=XC(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new Xr([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Z,e).pipe(K(n=>({children:n,rootSnapshot:e})),Or(n=>{if(n instanceof mo)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof po?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,r,!0,s).pipe(K(o=>o instanceof Ut?[o]:[]))}processChildren(t,e,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return $e(s).pipe(nn(o=>{let a=n.children[o],l=iw(e,o);return this.processSegmentGroup(t,l,a,o,r)}),wm((o,a)=>(o.push(...a),o)),wd(null),bm(),Vt(o=>{if(o===null)return Ur(n);let a=Eg(o);return Hw(a),P(a)}))}processSegment(t,e,n,r,s,o,a){return $e(e).pipe(nn(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,s,o,a).pipe(Or(c=>{if(c instanceof po)return P(null);throw c}))),rn(l=>!!l),Or(l=>{if(Sg(l))return Bw(n,r,s)?P(new wh):Ur(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,s,o,a,l){return mi(n)!==o&&(o===Z||!Tl(r,s,n))?Ur(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,o,l):Ur(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:f}=kg(e,r,s);if(!l)return Ur(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$w&&(this.allowRedirects=!1));let v=new Xr(s,c,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,tg(r),mi(r),r.component??r._loadedComponent??null,r,ig(r)),_=_l(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let C=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,p,v,t);return this.applyRedirects.lineralizeSegments(r,C).pipe(Vt(S=>this.processSegment(t,n,e,S.concat(f),o,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,s,o){let a=Ow(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(Xe(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Xe(({routes:c})=>{let u=n._loadedInjector??t,{parameters:p,consumedSegments:f,remainingSegments:v}=l,_=new Xr(f,p,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,tg(n),mi(n),n.component??n._loadedComponent??null,n,ig(n)),C=_l(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let{segmentGroup:S,slicedSegments:I}=eg(e,f,v,c);if(I.length===0&&S.hasChildren())return this.processChildren(u,c,S,_).pipe(K(G=>new Ut(_,G)));if(c.length===0&&I.length===0)return P(new Ut(_,[]));let ie=mi(n)===s;return this.processSegment(u,c,S,I,ie?Z:s,!0,_).pipe(K(G=>new Ut(_,G instanceof Ut?[G]:[])))}))):Ur(e)))}getChildConfig(t,e,n){return e.children?P({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?P({routes:e._loadedRoutes,injector:e._loadedInjector}):Mw(t,e,n,this.urlSerializer).pipe(Vt(r=>r?this.configLoader.loadChildren(t,e).pipe(He(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Iw(e))):P({routes:[],injector:t})}};function Hw(i){i.sort((t,e)=>t.value.outlet===Z?-1:e.value.outlet===Z?1:t.value.outlet.localeCompare(e.value.outlet))}function jw(i){let t=i.value.routeConfig;return t&&t.path===""}function Eg(i){let t=[],e=new Set;for(let n of i){if(!jw(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Eg(n.children);t.push(new Ut(n.value,r))}return t.filter(n=>!e.has(n))}function tg(i){return i.data||{}}function ig(i){return i.resolve||{}}function Gw(i,t,e,n,r,s){return Vt(o=>zw(i,t,e,n,o.extractedUrl,r,s).pipe(K(({state:a,tree:l})=>Q(M({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Uw(i,t){return Vt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return P(e);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Ag(l))o.add(c);let a=0;return $e(o).pipe(nn(l=>s.has(l)?Ww(l,n,i,t):(l.data=_l(l,l.parent,i).resolve,P(void 0))),He(()=>a++),Sd(1),Vt(l=>a===o.size?P(e):Ri))})}function Ag(i){let t=i.children.map(e=>Ag(e)).flat();return[i,...t]}function Ww(i,t,e,n){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!yg(r)&&(s[go]=r.title),qw(s,i,t,n).pipe(K(o=>(i._resolvedData=o,i.data=_l(i,i.parent,e).resolve,null)))}function qw(i,t,e,n){let r=th(i);if(r.length===0)return P({});let s={};return $e(r).pipe(Vt(o=>Xw(i[o],t,e,n).pipe(rn(),He(a=>{if(a instanceof uo)throw bl(new Kr,a);s[o]=a}))),Sd(1),K(()=>s),Or(o=>Sg(o)?Ri:Vn(o)))}function Xw(i,t,e,n){let r=xo(t)??n,s=ts(i,r),o=s.resolve?s.resolve(t,e):ei(r,()=>s(t,e));return hn(o)}function Zd(i){return Xe(t=>{let e=i(t);return e?$e(e).pipe(K(()=>t)):P(t)})}var Mg=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Z);return n}getResolvedTitleForRoute(e){return e.data[go]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>N(Yw),providedIn:"root"})}return i})(),Yw=(()=>{class i extends Mg{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(B(qf))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bo=new ee("",{providedIn:"root",factory:()=>({})}),Qw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=D({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&y(0,"router-outlet")},dependencies:[Yn],encapsulation:2})}return i})();function Eh(i){let t=i.children&&i.children.map(Eh),e=t?Q(M({},i),{children:t}):M({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Z&&(e.component=Qw),e}var fo=new ee(""),Ah=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Wa);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return P(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=hn(e.loadComponent()).pipe(K(Dg),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Bn(()=>{this.componentLoaders.delete(e)})),r=new yd(n,()=>new tt).pipe(_d());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return P({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=Kw(n,this.compiler,e,this.onLoadEndListener).pipe(Bn(()=>{this.childrenLoaders.delete(n)})),o=new yd(s,()=>new tt).pipe(_d());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Kw(i,t,e,n){return hn(i.loadChildren()).pipe(K(Dg),Vt(r=>r instanceof Wm||Array.isArray(r)?P(r):$e(t.compileModuleAsync(r))),K(r=>{n&&n(i);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(e).injector,o=s.get(fo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Eh),injector:s}}))}function Jw(i){return i&&typeof i=="object"&&"default"in i}function Dg(i){return Jw(i)?i.default:i}var Mh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>N(Zw),providedIn:"root"})}return i})(),Zw=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Lg=new ee(""),Ig=new ee("");function eS(i,t,e){let n=i.get(Ig),r=i.get(Ye);return i.get(Be).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),tS(i))),{onViewTransitionCreated:l}=n;return l&&ei(i,()=>l({transition:a,from:t,to:e})),o})}function tS(i){return new Promise(t=>{Fm({read:()=>setTimeout(t)},{injector:i})})}var Og=new ee(""),Dh=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortSubject=new tt;configLoader=N(Ah);environmentInjector=N(zn);destroyRef=N(Am);urlSerializer=N(vo);rootContexts=N(_o);location=N(Xs);inputBindingEnabled=N(Sl,{optional:!0})!==null;titleStrategy=N(Mg);options=N(bo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Mh);createViewTransition=N(Lg,{optional:!0});navigationErrorHandler=N(Og,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new ch(r)),n=r=>this.events.next(new dh(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Q(M(M({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new Ne({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:so,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(s=>s.id!==0),K(s=>Q(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xe(s=>{let o=!1,a=!1;return P(s).pipe(Xe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Wt.SupersededByNewNavigation),Ri;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Q(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let p="";return this.events.next(new dn(l.id,this.urlSerializer.serialize(l.rawUrl),p,ml.IgnoredSameUrlNavigation)),l.resolve(!1),Ri}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return P(l).pipe(Xe(p=>{let f=this.transitions?.getValue();return this.events.next(new Jr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?Ri:Promise.resolve(p)}),Gw(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Q(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let f=new fl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:f,source:v,restoredState:_,extras:C}=l,S=new Jr(p,this.urlSerializer.serialize(f),v,_);this.events.next(S);let I=xg(this.rootComponentType).snapshot;return this.currentTransition=s=Q(M({},l),{targetSnapshot:I,urlAfterRedirects:f,extras:Q(M({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(s)}else{let p="";return this.events.next(new dn(l.id,this.urlSerializer.serialize(l.extractedUrl),p,ml.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ri}}),He(l=>{let c=new sh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),K(l=>(this.currentTransition=s=Q(M({},l),{guards:dw(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),bw(this.environmentInjector,l=>this.events.next(l)),He(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw bl(this.urlSerializer,l.guardsResult);let c=new oh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ot(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Wt.GuardRejected),!1)),Zd(l=>{if(l.guards.canActivateChecks.length)return P(l).pipe(He(c=>{let u=new ah(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Xe(c=>{let u=!1;return P(c).pipe(Uw(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Wt.NoDataFromResolver)}}))}),He(c=>{let u=new lh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Zd(l=>{let c=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(He(f=>{u.component=f}),K(()=>{})));for(let f of u.children)p.push(...c(f));return p};return Fa(c(l.targetSnapshot.root)).pipe(wd(null),Bt(1))}),Zd(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?$e(u).pipe(K(()=>s)):P(s)}),K(l=>{let c=sw(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Q(M({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),He(()=>{this.events.next(new co)}),cw(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Bt(1),He({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ra(this.transitionAbortSubject.pipe(He(l=>{throw l}))),Bn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Or(l=>{if(this.destroyed)return s.resolve(!1),Ri;if(a=!0,wg(l))this.events.next(new zi(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),lw(l)?this.events.next(new Zr(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let u=ei(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof uo){let{message:p,cancellationCode:f}=bl(this.urlSerializer,u);this.events.next(new zi(s.id,this.urlSerializer.serialize(s.extractedUrl),p,f)),this.events.next(new Zr(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Ri}))}))}cancelNavigationTransition(e,n,r){let s=new zi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function iS(i){return i!==so}var nS=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>N(rS),providedIn:"root"})}return i})(),Th=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},rS=(()=>{class i extends Th{static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>N(sS),providedIn:"root"})}return i})(),sS=(()=>{class i extends Fg{location=N(Xs);urlSerializer=N(vo);options=N(bo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N(Mh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $i;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=xg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Jr)this.stateMemento=this.createStateMemento();else if(e instanceof dn)this.rawUrlTree=n.initialUrl;else if(e instanceof fl){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else e instanceof co?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof zi&&(e.code===Wt.GuardRejected||e.code===Wt.NoDataFromResolver)?this.restoreHistory(n):e instanceof lo?this.restoreHistory(n,!0):e instanceof bi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=e instanceof $i?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let s=this.browserPageId,o=M(M({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(r,"",o)}else{let s=M(M({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ng(i,t){i.events.pipe(Ot(e=>e instanceof bi||e instanceof zi||e instanceof lo||e instanceof dn),K(e=>e instanceof bi||e instanceof dn?0:(e instanceof zi?e.code===Wt.Redirect||e.code===Wt.SupersededByNewNavigation:!1)?2:1),Ot(e=>e!==2),Bt(1)).subscribe(()=>{t()})}var oS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ge=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Ld);stateManager=N(Fg);options=N(bo,{optional:!0})||{};pendingTasks=N(Vs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Dh);urlSerializer=N(vo);location=N(Xs);urlHandlingStrategy=N(Mh);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(nS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(fo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Sl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pm;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof zi&&n.code!==Wt.Redirect&&n.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof bi)this.navigated=!0;else if(n instanceof Zr){let o=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=M({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iS(r.source)},o);this.scheduleNavigation(a,so,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}cS(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),so,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=M({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Eh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let f=r?r.snapshot:this.routerState.snapshot.root;p=mg(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return fg(p,e,u,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Xn(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,so,null,n)}navigate(e,n={skipLocationChange:!1}){return lS(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=M({},oS):n===!1?r=M({},aS):r=n,Xn(e))return Yf(this.currentUrlTree,e,r);let s=this.parseUrl(e);return Yf(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,s])=>(s!=null&&(n[r]=s),n),{})}scheduleNavigation(e,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((p,f)=>{a=p,l=f});let u=this.pendingTasks.add();return Ng(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function lS(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new le(4008,!1)}function cS(i){return!(i instanceof co)&&!(i instanceof Zr)}var un=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new tt;constructor(e,n,r,s,o,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Hm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,s=this.el.nativeElement;n!==null?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Xn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(w(ge),w(ri),Em("tabindex"),w(ii),w(Le),w(qs))};static \u0275dir=Me({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&k("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&fe("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hn],replaceUrl:[2,"replaceUrl","replaceUrl",Hn],routerLink:"routerLink"},features:[Va,Ae]})}return i})();var wl=class{};var dS=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(e=>e instanceof bi),nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let s of n){s.providers&&!s._injector&&(s._injector=Dd(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return $e(r).pipe(bd())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=P(null);let s=r.pipe(Vt(o=>o===null?P(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return $e([s,o]).pipe(bd())}else return s})}static \u0275fac=function(n){return new(n||i)(B(ge),B(Wa),B(zn),B(wl),B(Ah))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rg=new ee(""),hS=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof dn&&e.code===ml.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof gl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Pa()};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function Pg(i,...t){return Pi([{provide:fo,multi:!0,useValue:i},[],{provide:ri,useFactory:Vg,deps:[ge]},{provide:Ha,multi:!0,useFactory:Bg},t.map(e=>e.\u0275providers)])}function Vg(i){return i.routerState.root}function Co(i,t){return{\u0275kind:i,\u0275providers:t}}function Bg(){let i=N(ut);return t=>{let e=i.get(hi);if(t!==e.components[0])return;let n=i.get(ge),r=i.get(zg);i.get(Lh)===1&&n.initialNavigation(),i.get($g,null,Td.Optional)?.setUpPreloading(),i.get(Rg,null,Td.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zg=new ee("",{factory:()=>new tt}),Lh=new ee("",{providedIn:"root",factory:()=>1});function uS(){return Co(2,[{provide:Lh,useValue:0},{provide:Us,multi:!0,deps:[ut],useFactory:t=>{let e=t.get(rf,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(ge),s=t.get(zg);Ng(r,()=>{n(!0)}),t.get(Dh).afterPreactivation=()=>(n(!0),s.closed?P(void 0):s),r.initialNavigation()}))}}])}function pS(){return Co(3,[{provide:Us,multi:!0,useFactory:()=>{let t=N(ge);return()=>{t.setUpLocationChangeListener()}}},{provide:Lh,useValue:2}])}var $g=new ee("");function mS(i){return Co(0,[{provide:$g,useExisting:dS},{provide:wl,useExisting:i}])}function fS(){return Co(8,[Zf,{provide:Sl,useExisting:Zf}])}function gS(i){let t=[{provide:Lg,useValue:eS},{provide:Ig,useValue:M({skipNextTransition:!!i?.skipInitialTransition},i)}];return Co(9,t)}var vS=[Xs,{provide:vo,useClass:Kr},ge,_o,{provide:ri,useFactory:Vg,deps:[ge]},Ah,[]],kl=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[vS,[],{provide:fo,multi:!0,useValue:e},[],n?.errorHandler?{provide:Og,useValue:n.errorHandler}:[],{provide:bo,useValue:n||{}},n?.useHash?_S():yS(),xS(),n?.preloadingStrategy?mS(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?bS(n):[],n?.bindToComponentInputs?fS().\u0275providers:[],n?.enableViewTransitions?gS().\u0275providers:[],CS()]}}static forChild(e){return{ngModule:i,providers:[{provide:fo,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({})}return i})();function xS(){return{provide:Rg,useFactory:()=>{let i=N(df),t=N(Be),e=N(bo),n=N(Dh),r=N(vo);return e.scrollOffset&&i.setOffset(e.scrollOffset),new hS(r,n,i,t,e)}}}function _S(){return{provide:qs,useClass:of}}function yS(){return{provide:qs,useClass:sf}}function bS(i){return[i.initialNavigation==="disabled"?pS().\u0275providers:[],i.initialNavigation==="enabledBlocking"?uS().\u0275providers:[]]}var ng=new ee("");function CS(){return[{provide:ng,useFactory:Bg},{provide:Ha,multi:!0,useExisting:ng}]}var j=(()=>{class i{constructor(){this.show="undefined",this.check="nothing",this.status=["Draft","Pending","Approved","Rejected"],this.createMemoTab=void 0,this.qrCodeData=void 0,this.componentStates={},this.refreshFolderSubject=new Ne(!0),this.refreshFolder$=this.refreshFolderSubject.asObservable(),this.refreshFileSubject=new Ne(!0),this.refreshFile$=this.refreshFileSubject.asObservable(),this.refreshUserSubject=new Ne(!0),this.refreshUser$=this.refreshUserSubject.asObservable(),this.suspendUserSubject=new Ne(!0),this.suspendUser$=this.suspendUserSubject.asObservable(),this.otpConfirmationSubject=new Ne(!0),this.otpConfirmation$=this.otpConfirmationSubject.asObservable(),this.qrCodeSubject=new Ne(!0),this.refreshQrCode$=this.qrCodeSubject.asObservable()}triggerFolderRefresh(){this.refreshFolderSubject.next(!0)}triggerFileRefresh(){this.refreshFileSubject.next(!0)}triggerUserRefresh(){this.refreshUserSubject.next(!0)}triggerSuspendUserRefresh(){this.suspendUserSubject.next(!0)}triggerOtpConfirmationRefresh(){this.otpConfirmationSubject.next(!0)}triggerQrCodeRefresh(){this.qrCodeSubject.next(!0)}setQrCodeData(e){this.qrCodeData=e}showMother(e){this.show=e}toggleCheck(e){this.check=e}setCreateMemoTabs(e){this.createMemoTab=e,e||this.setQrCodeData(void 0)}setUserData(e){this.userData=e}setMemId(e){this.memId=e}getUserData(){return this.userData}setAuthData(e){this.authData=e}getAuthData(){return this.authData}setUserDetail(e){this.UserDetail=e}getUserDetail(){return this.UserDetail}setPublishMemId(e){this.publishMemId=e,console.log(this.publishMemId)}setEditMemo(e){this.editMemo=e}getEditMemo(){return this.editMemo}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var St=(()=>{class i{constructor(){}write(e,n){n&&(n=JSON.stringify(n)),localStorage.setItem(e,n)}read(e){let n=localStorage.getItem(e);if(n&&n!="undefined"&&n!="null")return JSON.parse(n)}readArray(e){let n=localStorage.getItem(e);return n&&n!="undefined"&&n!="null"?n:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ne=(()=>{class i{constructor(e,n){this.http=e,this.localstorage=n,this.baseUrl="https://lendnode.creditclan.com/memo/api",this.geoApiKey="39f835849b07490f9ada6d2e31447933"}makeGetRequest(e,n={}){return this.http.get(`${this.baseUrl}${e}`,{headers:this.returnHeader()})}makePostRequest(e,n={},r=!1){let s=r?void 0:this.returnHeader();return this.http.post(`${this.baseUrl}${e}`,n,{headers:s})}makePatchRequest(e,n={}){return this.http.patch(`${this.baseUrl}${e}`,n,{headers:this.returnHeader()})}makeDeleteRequest(e,n={}){return this.http.delete(`${this.baseUrl}${e}`,{headers:this.returnHeader()})}fetchLocation(e){return this.http.get(`https://ipapi.co/${e}/json/`)}fetchAreaDetails(e){let n=`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(e)}&key=${this.geoApiKey}`;return this.http.get(n)}returnHeader(){return new Gt({"ngrok-skip-browser-warning":"69420","Content-Type":"application/json",Authorization:`Bearer ${this.localstorage.read("data")}`})}static{this.\u0275fac=function(n){return new(n||i)(B(Un),B(St))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var El=(()=>{class i{constructor(e,n){this.sidebarService=e,this.httpRequet=n,this.user={}}ngOnInit(){this.httpRequet.makeGetRequest("/auth/user").subscribe(e=>{this.user=e.data},e=>{})}static{this.\u0275fac=function(n){return new(n||i)(w(j),w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-header"]],decls:62,vars:3,consts:[[1,"header","d-print-none"],[1,"header-container"],[1,"header-body"],[1,"header-body-left"],[1,"navbar-nav"],[1,"nav-item","navigation-toggler"],["href","#",1,"nav-link"],[1,"ti-menu","cursor-pointer"],[1,"nav-item"],[1,"header-search-form"],[1,"input-group"],[1,"input-group-prepend"],[1,"btn"],[1,"ti-search"],["type","text","placeholder","Search something...",1,"form-control"],[1,"input-group-append"],[1,"btn","header-search-close-btn"],["data-feather","x"],[1,"header-body-right"],["href","#","title","Search",1,"nav-link","mobile-header-search-btn"],[1,"nav-item","dropdown"],["href","#","title","Notifications","data-toggle","dropdown",1,"nav-link","nav-link-notify"],[1,"ti-bell"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-big"],[1,"bg-primary","px-3","py-3"],[1,"mb-0","text-center","my-5"],[1,"mr-2","d-sm-inline","d-none","font-weight-bold"],["data-background-image","../../assets/media/image/image1.jpg",1,"text-center","py-4"],[1,"avatar","avatar-lg","mb-3","border-0"],["src","../../assets/media/image/user/man_avatar3.jpg","alt","image",1,"rounded-circle"],[1,"mb-0","font-weight-bold"],[1,"list-group","list-group-flush"],["href","#","data-sidebar-target","#settings",1,"list-group-item"],["href","http://bifor.laborasyon.com/login","data-sidebar-target","#settings",1,"list-group-item","text-danger"],[1,"pb-0","p-4"],[1,"mb-4"],[1,"d-flex","justify-content-between"],[1,"float-right"],[1,"progress",2,"height","5px"],["role","progressbar","aria-valuenow","68","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","68%"],[1,"navbar-nav","ml-auto"],[1,"nav-item","header-toggler"],[1,"ti-arrow-down"],[1,"nav-item","sidebar-toggler"],[1,"ti-cloud"]],template:function(n,r){n&1&&(d(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li",5)(7,"span",6),y(8,"i",7),h()(),d(9,"li",8)(10,"div",9)(11,"form")(12,"div",10)(13,"div",11)(14,"button",12),y(15,"i",13),h()(),y(16,"input",14),d(17,"div",15)(18,"button",16),y(19,"i",17),h()()()()()()()(),d(20,"div",18)(21,"ul",4)(22,"li",8)(23,"a",19),y(24,"i",13),h()(),d(25,"li",20)(26,"a",21),y(27,"i",22),h(),d(28,"div",23)(29,"div",24)(30,"h6",25),m(31),h()()()(),d(32,"li",20)(33,"span",26),m(34),h(),d(35,"div",23)(36,"div",27)(37,"figure",28),y(38,"img",29),h(),d(39,"h5",30),m(40),h()(),d(41,"div",31)(42,"a",32),m(43,"Settings"),h(),d(44,"a",33),m(45,"Sign Out!"),h()(),d(46,"div",34)(47,"div",35)(48,"h6",36),m(49," Completed Tasks "),d(50,"span",37),m(51,"%68"),h()(),d(52,"div",38),y(53,"div",39),h()()()()()()()(),d(54,"ul",40)(55,"li",41)(56,"a",6),y(57,"i",42),h()(),d(58,"li",43)(59,"a",6),y(60,"i",44),h()()(),y(61,"div"),h()()()),n&2&&(g(31),O(" Welcome, ",r.user==null?null:r.user.email," "),g(3),$((r.user==null?null:r.user.last_name)||(r.user==null?null:r.user.full_name)),g(6),$((r.user==null?null:r.user.last_name)||(r.user==null?null:r.user.full_name)))},dependencies:[z],encapsulation:2})}}return i})();var Kg=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(w(ii),w(Le))};static \u0275dir=Me({type:i})}return i})(),Pl=(()=>{class i extends Kg{static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275dir=Me({type:i,features:[_t]})}return i})(),fn=new ee(""),wS={provide:fn,useExisting:Zt(()=>Ao),multi:!0},Ao=(()=>{class i extends Pl{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275dir=Me({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&k("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[bt([wS]),_t]})}return i})(),SS={provide:fn,useExisting:Zt(()=>se),multi:!0};function TS(){let i=jn()?jn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var kS=new ee(""),se=(()=>{class i extends Kg{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!TS())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(w(ii),w(Le),w(kS,8))};static \u0275dir=Me({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&k("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[bt([SS]),_t]})}return i})();function pn(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Jg(i){return i!=null&&typeof i.length=="number"}var Mo=new ee(""),Vl=new ee(""),ES=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,he=class{static min(t){return AS(t)}static max(t){return MS(t)}static required(t){return Zg(t)}static requiredTrue(t){return DS(t)}static email(t){return LS(t)}static minLength(t){return IS(t)}static maxLength(t){return OS(t)}static pattern(t){return FS(t)}static nullValidator(t){return Ml(t)}static compose(t){return s0(t)}static composeAsync(t){return o0(t)}};function AS(i){return t=>{if(pn(t.value)||pn(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function MS(i){return t=>{if(pn(t.value)||pn(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function Zg(i){return pn(i.value)?{required:!0}:null}function DS(i){return i.value===!0?null:{required:!0}}function LS(i){return pn(i.value)||ES.test(i.value)?null:{email:!0}}function IS(i){return t=>pn(t.value)||!Jg(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function OS(i){return t=>Jg(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function FS(i){if(!i)return Ml;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(pn(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ml(i){return null}function e0(i){return i!=null}function t0(i){return $a(i)?$e(i):i}function i0(i){let t={};return i.forEach(e=>{t=e!=null?M(M({},t),e):t}),Object.keys(t).length===0?null:t}function n0(i,t){return t.map(e=>e(i))}function NS(i){return!i.validate}function r0(i){return i.map(t=>NS(t)?t:e=>t.validate(e))}function s0(i){if(!i)return null;let t=i.filter(e0);return t.length==0?null:function(e){return i0(n0(e,t))}}function Ph(i){return i!=null?s0(r0(i)):null}function o0(i){if(!i)return null;let t=i.filter(e0);return t.length==0?null:function(e){let n=n0(e,t).map(t0);return xm(n).pipe(K(i0))}}function Vh(i){return i!=null?o0(r0(i)):null}function Hg(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function a0(i){return i._rawValidators}function l0(i){return i._rawAsyncValidators}function Ih(i){return i?Array.isArray(i)?i:[i]:[]}function Dl(i,t){return Array.isArray(i)?i.includes(t):i===t}function jg(i,t){let e=Ih(t);return Ih(i).forEach(r=>{Dl(e,r)||e.push(r)}),e}function Gg(i,t){return Ih(t).filter(e=>!Dl(i,e))}var Ll=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ph(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Hi=class extends Ll{name;get formDirective(){return null}get path(){return null}},Qn=class extends Ll{_parent=null;name=null;valueAccessor=null},Il=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},RS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mP=Q(M({},RS),{"[class.ng-submitted]":"isSubmitted"}),oe=(()=>{class i extends Il{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(w(Qn,2))};static \u0275dir=Me({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[_t]})}return i})(),ve=(()=>{class i extends Il{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(w(Hi,10))};static \u0275dir=Me({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[_t]})}return i})();var wo="VALID",Al="INVALID",ns="PENDING",So="DISABLED",mn=class{},Ol=class extends mn{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ko=class extends mn{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Eo=class extends mn{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},rs=class extends mn{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Oh=class extends mn{source;constructor(t){super(),this.source=t}},Fh=class extends mn{source;constructor(t){super(),this.source=t}};function Bh(i){return(Bl(i)?i.validators:i)||null}function PS(i){return Array.isArray(i)?Ph(i):i||null}function zh(i,t){return(Bl(t)?t.asyncValidators:i)||null}function VS(i){return Array.isArray(i)?Vh(i):i||null}function Bl(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function c0(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new le(1e3,"");if(!n[e])throw new le(1001,"")}function d0(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new le(1002,"")})}var ss=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Vi(this.statusReactive)}set status(t){Vi(()=>this.statusReactive.set(t))}_status=zr(()=>this.statusReactive());statusReactive=Fr(void 0);get valid(){return this.status===wo}get invalid(){return this.status===Al}get pending(){return this.status==ns}get disabled(){return this.status===So}get enabled(){return this.status!==So}errors;get pristine(){return Vi(this.pristineReactive)}set pristine(t){Vi(()=>this.pristineReactive.set(t))}_pristine=zr(()=>this.pristineReactive());pristineReactive=Fr(!0);get dirty(){return!this.pristine}get touched(){return Vi(this.touchedReactive)}set touched(t){Vi(()=>this.touchedReactive.set(t))}_touched=zr(()=>this.touchedReactive());touchedReactive=Fr(!1);get untouched(){return!this.touched}_events=new tt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jg(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jg(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gg(t,this._rawAsyncValidators))}hasValidator(t){return Dl(this._rawValidators,t)}hasAsyncValidator(t){return Dl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Q(M({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Eo(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Eo(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Q(M({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new ko(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new ko(!0,n))}markAsPending(t={}){this.status=ns;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new rs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Q(M({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=So,this.errors=null,this._forEachChild(r=>{r.disable(Q(M({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ol(this.value,n)),this._events.next(new rs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wo,this._forEachChild(n=>{n.enable(Q(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Q(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wo||this.status===ns)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ol(this.value,e)),this._events.next(new rs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Q(M({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=t0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new rs(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(Al)?Al:wo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ko(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Eo(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=PS(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=VS(this._rawAsyncValidators)}},Tt=class extends ss{constructor(t,e,n){super(Bh(e),zh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){d0(this,!0,t),Object.keys(t).forEach(n=>{c0(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Nh=class extends Tt{};var Do=new ee("",{providedIn:"root",factory:()=>zl}),zl="always";function h0(i,t){return[...t.path,i]}function Fl(i,t,e=zl){$h(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),zS(i,t),HS(i,t),$S(i,t),BS(i,t)}function Ug(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Rl(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Nl(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function BS(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function $h(i,t){let e=a0(i);t.validator!==null?i.setValidators(Hg(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=l0(i);t.asyncValidator!==null?i.setAsyncValidators(Hg(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Nl(t._rawValidators,r),Nl(t._rawAsyncValidators,r)}function Rl(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=a0(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(t.asyncValidator!==null){let r=l0(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}let n=()=>{};return Nl(t._rawValidators,n),Nl(t._rawAsyncValidators,n),e}function zS(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&u0(i,t)})}function $S(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&u0(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function u0(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function HS(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function p0(i,t){i==null,$h(i,t)}function jS(i,t){return Rl(i,t)}function m0(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function GS(i){return Object.getPrototypeOf(i.constructor)===Pl}function f0(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function g0(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===se?e=s:GS(s)?n=s:r=s}),r||n||e||null}function US(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var WS={provide:Hi,useExisting:Zt(()=>qt)},To=Promise.resolve(),qt=(()=>{class i extends Hi{callSetDisabledState;get submitted(){return Vi(this.submittedReactive)}_submitted=zr(()=>this.submittedReactive());submittedReactive=Fr(!1);_directives=new Set;form;ngSubmit=new X;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new Tt({},Ph(e),Vh(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){To.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Fl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){To.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){To.then(()=>{let n=this._findContainer(e.path),r=new Tt({});p0(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){To.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){To.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),f0(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(w(Mo,10),w(Vl,10),w(Do,8))};static \u0275dir=Me({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&k("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bt([WS]),_t]})}return i})();function Wg(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function qg(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var W=class extends ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Bh(e),zh(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(qg(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){qg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var qS=i=>i instanceof W;var XS={provide:Qn,useExisting:Zt(()=>nt)},Xg=Promise.resolve(),nt=(()=>{class i extends Qn{_changeDetectorRef;callSetDisabledState;control=new W;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new X;constructor(e,n,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=g0(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),m0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Xg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Hn(n);Xg.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?h0(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(w(Hi,9),w(Mo,10),w(Vl,10),w(fn,10),w(ln,8),w(Do,8))};static \u0275dir=Me({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[bt([XS]),_t,Ae]})}return i})(),xe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Me({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})();var v0=new ee("");var YS={provide:Hi,useExisting:Zt(()=>Ie)},Ie=(()=>{class i extends Hi{callSetDisabledState;get submitted(){return Vi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=zr(()=>this._submittedReactive());_submittedReactive=Fr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new X;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Fl(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Ug(e.control||null,e,!1),US(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),f0(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Oh(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Fh(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Ug(n||null,e),qS(r)&&(Fl(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);p0(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&jS(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$h(this.form,this),this._oldForm&&Rl(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||i)(w(Mo,10),w(Vl,10),w(Do,8))};static \u0275dir=Me({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&k("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bt([YS]),_t,Ae]})}return i})();var QS={provide:Qn,useExisting:Zt(()=>Oe)},Oe=(()=>{class i extends Qn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new X;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=g0(this,s)}ngOnChanges(e){this._added||this._setUpControl(),m0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return h0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(w(Hi,13),w(Mo,10),w(Vl,10),w(fn,10),w(v0,8))};static \u0275dir=Me({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[bt([QS]),_t,Ae]})}return i})(),KS={provide:fn,useExisting:Zt(()=>gn),multi:!0};function x0(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function JS(i){return i.split(":")[0]}var gn=(()=>{class i extends Pl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=x0(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=JS(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275dir=Me({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&k("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bt([KS]),_t]})}return i})(),vn=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(x0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(w(Le),w(ii),w(gn,9))};static \u0275dir=Me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),ZS={provide:fn,useExisting:Zt(()=>_0),multi:!0};function Yg(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function eT(i){return i.split(":")[0]}var _0=(()=>{class i extends Pl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));n=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else n=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],s=n.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=n.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=eT(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275dir=Me({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&k("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bt([ZS]),_t]})}return i})(),xn=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Yg(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Yg(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(w(Le),w(ii),w(_0,9))};static \u0275dir=Me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var tT=(()=>{class i{_validator=Ml;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Ml,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Me({type:i,features:[Ae]})}return i})();var iT={provide:Mo,useExisting:Zt(()=>kt),multi:!0};var kt=(()=>{class i extends tT{required;inputName="required";normalizeInput=Hn;createValidator=e=>Zg;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})();static \u0275dir=Me({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&fe("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[bt([iT]),_t]})}return i})();var y0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({})}return i})(),Rh=class extends ss{constructor(t,e,n){super(Bh(e),zh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){d0(this,!1,t),t.forEach((n,r)=>{c0(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Qg(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var mt=(()=>{class i{useNonNullable=!1;get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),s={};return Qg(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Tt(r,s)}record(e,n=null){let r=this._reduceControls(e);return new Nh(r,n)}control(e,n,r){let s={};return this.useNonNullable?(Qg(n)?s=n:(s.validators=n,s.asyncValidators=r),new W(e,Q(M({},s),{nonNullable:!0}))):new W(e,n,r)}array(e,n,r){let s=e.map(o=>this._createControl(o));return new Rh(s,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof W)return e;if(e instanceof ss)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(n,r,s)}else return this.control(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var De=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Do,useValue:e.callSetDisabledState??zl}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({imports:[y0]})}return i})(),ue=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:v0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Do,useValue:e.callSetDisabledState??zl}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({imports:[y0]})}return i})();var b0=i=>typeof i>"u"||i===null,nT=i=>i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),rT=i=>{let t={};return Object.keys(i).forEach(e=>{i[e]&&(t[e]=i[e])}),t},$l=i=>{let t=rT(i);return Object.entries(t).map(([e,n])=>`${nT(e)}:${n}`).join(";")},as=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},Hh=()=>{let i=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${i}${t}`},C0=(i,t,e)=>Math.min(Math.max(i,t),e);function ft(i){this.content=i}ft.prototype={constructor:ft,find:function(i){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===i)return t;return-1},get:function(i){var t=this.find(i);return t==-1?void 0:this.content[t+1]},update:function(i,t,e){var n=e&&e!=i?this.remove(e):this,r=n.find(i),s=n.content.slice();return r==-1?s.push(e||i,t):(s[r+1]=t,e&&(s[r]=e)),new ft(s)},remove:function(i){var t=this.find(i);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new ft(e)},addToStart:function(i,t){return new ft([i,t].concat(this.remove(i).content))},addToEnd:function(i,t){var e=this.remove(i).content.slice();return e.push(i,t),new ft(e)},addBefore:function(i,t,e){var n=this.remove(t),r=n.content.slice(),s=n.find(i);return r.splice(s==-1?r.length:s,0,t,e),new ft(r)},forEach:function(i){for(var t=0;t<this.content.length;t+=2)i(this.content[t],this.content[t+1])},prepend:function(i){return i=ft.from(i),i.size?new ft(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=ft.from(i),i.size?new ft(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var t=this;i=ft.from(i);for(var e=0;e<i.content.length;e+=2)t=t.remove(i.content[e]);return t},toObject:function(){var i={};return this.forEach(function(t,e){i[t]=e}),i},get size(){return this.content.length>>1}};ft.from=function(i){if(i instanceof ft)return i;var t=[];if(i)for(var e in i)t.push(e,i[e]);return new ft(t)};var jh=ft;function I0(i,t,e){for(let n=0;;n++){if(n==i.childCount||n==t.childCount)return i.childCount==t.childCount?null:e;let r=i.child(n),s=t.child(n);if(r==s){e+=r.nodeSize;continue}if(!r.sameMarkup(s))return e;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)e++;return e}if(r.content.size||s.content.size){let o=I0(r.content,s.content,e+1);if(o!=null)return o}e+=r.nodeSize}}function O0(i,t,e,n){for(let r=i.childCount,s=t.childCount;;){if(r==0||s==0)return r==s?null:{a:e,b:n};let o=i.child(--r),a=t.child(--s),l=o.nodeSize;if(o==a){e-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:e,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,n--;return{a:e,b:n}}if(o.content.size||a.content.size){let c=O0(o.content,a.content,e-1,n-1);if(c)return c}e-=l,n-=l}}var L=class i{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,s){for(let o=0,a=0;a<e;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&n(l,r+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,e-u),n,r+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let s="",o=!0;return this.nodesBetween(t,e,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,e-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),s=1);s<t.content.length;s++)r.push(t.content[s]);return new i(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let n=[],r=0;if(e>t)for(let s=0,o=0;o<e;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>e)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),r+=a.nodeSize),o=l}return new i(n,r)}cutByIndex(t,e){return t==e?i.empty:t==0&&e==this.content.length?this:new i(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),s=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,s)}addToStart(t){return new i([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new i(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return I0(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return O0(this,t,e,n)}findIndex(t,e=-1){if(t==0)return Hl(0,t);if(t==this.size)return Hl(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=t)return o==t||e>0?Hl(n+1,o):Hl(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return i.empty;let e,n=0;for(let r=0;r<t.length;r++){let s=t[r];n+=s.nodeSize,r&&s.isText&&t[r-1].sameMarkup(s)?(e||(e=t.slice(0,r)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new i(e||t,n)}static from(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};L.empty=new L([],0);var Gh={index:0,offset:0};function Hl(i,t){return Gh.index=i,Gh.offset=t,Gh}function Gl(i,t){if(i===t)return!0;if(!(i&&typeof i=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(i);if(Array.isArray(t)!=e)return!1;if(e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!Gl(i[n],t[n]))return!1}else{for(let n in i)if(!(n in t)||!Gl(i[n],t[n]))return!1;for(let n in t)if(!(n in i))return!1}return!0}var we=(()=>{class i{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return i.none;if(e instanceof i)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}return i.none=[],i})(),Zn=class extends Error{},F=class i{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=N0(this.content,t+this.openStart,e);return n&&new i(n,this.openStart,this.openEnd)}removeBetween(t,e){return new i(F0(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return i.empty;let n=e.openStart||0,r=e.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new i(L.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)r++;return new i(t,n,r)}};F.empty=new F(L.empty,0,0);function F0(i,t,e){let{index:n,offset:r}=i.findIndex(t),s=i.maybeChild(n),{index:o,offset:a}=i.findIndex(e);if(r==t||s.isText){if(a!=e&&!i.child(o).isText)throw new RangeError("Removing non-flat range");return i.cut(0,t).append(i.cut(e))}if(n!=o)throw new RangeError("Removing non-flat range");return i.replaceChild(n,s.copy(F0(s.content,t-r-1,e-r-1)))}function N0(i,t,e,n){let{index:r,offset:s}=i.findIndex(t),o=i.maybeChild(r);if(s==t||o.isText)return n&&!n.canReplace(r,r,e)?null:i.cut(0,t).append(e).append(i.cut(t));let a=N0(o.content,t-s-1,e);return a&&i.replaceChild(r,o.copy(a))}function sT(i,t,e){if(e.openStart>i.depth)throw new Zn("Inserted content deeper than insertion position");if(i.depth-e.openStart!=t.depth-e.openEnd)throw new Zn("Inconsistent open depths");return R0(i,t,e,0)}function R0(i,t,e,n){let r=i.index(n),s=i.node(n);if(r==t.index(n)&&n<i.depth-e.openStart){let o=R0(i,t,e,n+1);return s.copy(s.content.replaceChild(r,o))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&i.depth==n&&t.depth==n){let o=i.parent,a=o.content;return Jn(o,a.cut(0,i.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=oT(e,i);return Jn(s,V0(i,o,a,t,n))}else return Jn(s,Ul(i,t,n))}function P0(i,t){if(!t.type.compatibleContent(i.type))throw new Zn("Cannot join "+t.type.name+" onto "+i.type.name)}function Wh(i,t,e){let n=i.node(e);return P0(n,t.node(e)),n}function Kn(i,t){let e=t.length-1;e>=0&&i.isText&&i.sameMarkup(t[e])?t[e]=i.withText(t[e].text+i.text):t.push(i)}function Lo(i,t,e,n){let r=(t||i).node(e),s=0,o=t?t.index(e):r.childCount;i&&(s=i.index(e),i.depth>e?s++:i.textOffset&&(Kn(i.nodeAfter,n),s++));for(let a=s;a<o;a++)Kn(r.child(a),n);t&&t.depth==e&&t.textOffset&&Kn(t.nodeBefore,n)}function Jn(i,t){return i.type.checkContent(t),i.copy(t)}function V0(i,t,e,n,r){let s=i.depth>r&&Wh(i,t,r+1),o=n.depth>r&&Wh(e,n,r+1),a=[];return Lo(null,i,r,a),s&&o&&t.index(r)==e.index(r)?(P0(s,o),Kn(Jn(s,V0(i,t,e,n,r+1)),a)):(s&&Kn(Jn(s,Ul(i,t,r+1)),a),Lo(t,e,r,a),o&&Kn(Jn(o,Ul(e,n,r+1)),a)),Lo(n,null,r,a),new L(a)}function Ul(i,t,e){let n=[];if(Lo(null,i,e,n),i.depth>e){let r=Wh(i,t,e+1);Kn(Jn(r,Ul(i,t,e+1)),n)}return Lo(t,null,e,n),new L(n)}function oT(i,t){let e=t.depth-i.openStart,r=t.node(e).copy(i.content);for(let s=e-1;s>=0;s--)r=t.node(s).copy(L.from(r));return{start:r.resolveNoCache(i.openStart+e),end:r.resolveNoCache(r.content.size-i.openEnd-e)}}var Wl=class i{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let s=0;s<t;s++)r+=n.child(s).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return we.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let a=n;n=r,r=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!r||!n[s].isInSet(r.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new er(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,s=e;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(n.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;s=c-1,r+=l+1}return new i(e,n,s)}static resolveCached(t,e){let n=w0.get(t);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==e)return o}else w0.set(t,n=new qh);let r=n.elts[n.i]=i.resolve(t,e);return n.i=(n.i+1)%aT,r}},qh=class{constructor(){this.elts=[],this.i=0}},aT=12,w0=new WeakMap,er=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},lT=Object.create(null),Ci=class i{constructor(t,e,n,r=we.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&Gl(this.attrs,e||t.defaultAttrs||lT)&&we.sameSet(this.marks,n||we.none)}copy(t=null){return t==this.content?this:new i(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return F.empty;let r=this.resolve(t),s=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),c=r.node(o).content.cut(r.pos-a,s.pos-a);return new F(c,r.depth-o,s.depth-o)}replace(t,e,n){return sT(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return Wl.resolveCached(this,t)}resolveNoCache(t){return Wl.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,s=>(n.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),B0(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=L.empty,r=0,s=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,s),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(t).matchType(n),o=s&&s.matchFragment(this.content,e);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=we.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!we.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=L.fromJSON(t,e.content),s=t.nodeType(e.type).create(e.attrs,r,n);return s.type.checkAttrs(s.attrs),s}};Ci.prototype.text=void 0;var Xh=class i extends Ci{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new i(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function B0(i,t){for(let e=i.length-1;e>=0;e--)t=i[e].type.name+"("+t+")";return t}var tr=class i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new Yh(t,e);if(n.next==null)return i.empty;let r=z0(n);n.next&&n.err("Unexpected trailing text");let s=fT(mT(r));return gT(s,n),s}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let s=e;r&&s<n;s++)r=r.matchType(t.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function s(o,a){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return L.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:p}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let f=s(p,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),s=r.match;if(s.matchType(t)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)t.indexOf(n.next[r].next)==-1&&e(n.next[r].next)}return e(this),t.map((n,r)=>{let s=r+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+t.indexOf(n.next[o].next);return s}).join(`
`)}};tr.empty=new tr(!0);var Yh=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function z0(i){let t=[];do t.push(cT(i));while(i.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function cT(i){let t=[];do t.push(dT(i));while(i.next&&i.next!=")"&&i.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function dT(i){let t=pT(i);for(;;)if(i.eat("+"))t={type:"plus",expr:t};else if(i.eat("*"))t={type:"star",expr:t};else if(i.eat("?"))t={type:"opt",expr:t};else if(i.eat("{"))t=hT(i,t);else break;return t}function S0(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let t=Number(i.next);return i.pos++,t}function hT(i,t){let e=S0(i),n=e;return i.eat(",")&&(i.next!="}"?n=S0(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function uT(i,t){let e=i.nodeTypes,n=e[t];if(n)return[n];let r=[];for(let s in e){let o=e[s];o.isInGroup(t)&&r.push(o)}return r.length==0&&i.err("No node type or group '"+t+"' found"),r}function pT(i){if(i.eat("(")){let t=z0(i);return i.eat(")")||i.err("Missing closing paren"),t}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let t=uT(i,i.next).map(e=>(i.inline==null?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function mT(i){let t=[[]];return r(s(i,0),e()),t;function e(){return t.push([])-1}function n(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=e())}else if(o.type=="star"){let l=e();return n(a,l),r(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=e();return r(s(o.expr,a),l),r(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=e();r(s(o.expr,l),u),l=u}if(o.max==-1)r(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=e();n(l,u),r(s(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function $0(i,t){return t-i}function T0(i,t){let e=[];return n(t),e.sort($0);function n(r){let s=i[r];if(s.length==1&&!s[0].term)return n(s[0].to);e.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&e.indexOf(l)==-1&&n(l)}}}function fT(i){let t=Object.create(null);return e(T0(i,0));function e(n){let r=[];n.forEach(o=>{i[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<r.length;u++)r[u][0]==a&&(c=r[u][1]);T0(i,l).forEach(u=>{c||r.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[n.join(",")]=new tr(n.indexOf(i.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort($0);s.next.push({type:r[o][0],next:t[a.join(",")]||e(a)})}return s}}function gT(i,t){for(let e=0,n=[i];e<n.length;e++){let r=n[e],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function H0(i){let t=Object.create(null);for(let e in i){let n=i[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function j0(i,t){let e=Object.create(null);for(let n in i){let r=t&&t[n];if(r===void 0){let s=i[n];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=r}return e}function G0(i,t,e,n){for(let r in t)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in i){let s=i[r];s.validate&&s.validate(t[r])}}function U0(i,t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Qh(i,n,t[n]);return e}var ql=class i{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=U0(t,n.attrs),this.defaultAttrs=H0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==tr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:j0(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ci(this,this.computeAttrs(t),L.from(e),we.setFrom(n))}createChecked(t=null,e,n){return e=L.from(e),this.checkContent(e),new Ci(this,this.computeAttrs(t),e,we.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=L.from(e),e.size){let o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}let r=this.contentMatch.matchFragment(e),s=r&&r.fillBefore(L.empty,!0);return s?new Ci(this,t,e.append(s),we.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){G0(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:we.none:t}static compile(t,e){let n=Object.create(null);t.forEach((s,o)=>n[s]=new i(s,e,o));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function vT(i,t,e){let n=e.split("|");return r=>{let s=r===null?"null":typeof r;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${i}, got ${s}`)}}var Qh=class{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?vT(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Oo=class i{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=U0(t,r.attrs),this.excluded=null;let s=H0(this.attrs);this.instance=s?new we(this,s):null}create(t=null){return!t&&this.instance?this.instance:new we(this,j0(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((s,o)=>n[s]=new i(s,r++,e,o)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){G0(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},Xl=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=jh.from(t.nodes),e.marks=jh.from(t.marks||{}),this.nodes=ql.compile(this.spec.nodes,this),this.marks=Oo.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=tr.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?k0(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:k0(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof ql){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new Xh(n,n.defaultAttrs,t,we.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Ci.fromJSON(this,t)}markFromJSON(t){return we.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function k0(i,t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],s=i.marks[r],o=s;if(s)e.push(s);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}function xT(i){return i.tag!=null}function _T(i){return i.style!=null}var _n=class i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(r=>{if(xT(r))this.tags.push(r);else if(_T(r)){let s=/[^=]*/.exec(r.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=t.nodes[r.node];return s.contentMatch.matchType(s)})}parse(t,e={}){let n=new Yl(this,e,!1);return n.addAll(t,we.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new Yl(this,e,!0);return n.addAll(t,we.none,e.from,e.to),F.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(CT(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,e,n,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!n.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=e))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let e=[];function n(r){let s=r.priority==null?50:r.priority,o=0;for(;o<e.length;o++){let a=e[o];if((a.priority==null?50:a.priority)<s)break}e.splice(o,0,r)}for(let r in t.marks){let s=t.marks[r].spec.parseDOM;s&&s.forEach(o=>{n(o=A0(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in t.nodes){let s=t.nodes[r].spec.parseDOM;s&&s.forEach(o=>{n(o=A0(o)),o.node||o.ignore||o.mark||(o.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new i(t,i.schemaRules(t)))}},W0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},yT={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},q0={ol:!0,ul:!0},Fo=1,Kh=2,Io=4;function E0(i,t,e){return t!=null?(t?Fo:0)|(t==="full"?Kh:0):i&&i.whitespace=="pre"?Fo|Kh:e&~Io}var ls=class{constructor(t,e,n,r,s,o){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=o,this.content=[],this.activeMarks=we.none,this.match=s||(o&Io?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(L.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Fo)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let e=L.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!W0.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},Yl=class{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,s,o=E0(null,e.preserveWhitespace,0)|(n?Io:0);r?s=new ls(r.type,r.attrs,we.none,!0,e.topMatch||r.type.contentMatch,o):n?s=new ls(null,null,we.none,!0,null,o):s=new ls(t.schema.topNodeType,null,we.none,!0,null,o),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,s=r.options&Kh?"full":this.localPreserveWS||(r.options&Fo)>0;if(s==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;q0.hasOwnProperty(o)&&this.parser.normalizeLists&&bT(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));e:if(l?l.ignore:yT.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(W0.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let p=l&&l.skip?e:this.readStyles(t,e);p&&this.addAll(t,p),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return e}addElementByRule(t,e,n,r){let s,o;if(e.node)if(o=this.parser.schema.nodes[e.node],o.isLeaf)this.insertNode(o.create(e.attrs),n)||this.leafFallback(t,n);else{let l=this.enter(o,e.attrs||null,n,e.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[e.mark];n=n.concat(l.create(e.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,e,n,r){let s=n||0;for(let o=n?t.childNodes[n]:t.firstChild,a=r==null?null:t.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,e);this.findAtPoint(t,s)}findPlace(t,e){let n,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return null;this.sync(r);for(let s=0;s<n.length;s++)e=this.enterInner(n[s],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(e=this.enterInner(r,null,e))}let n=this.findPlace(t,e);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(t.type));let s=we.none;for(let o of n.concat(t.marks))(r.type?r.type.allowsMarkType(o.type):M0(o.type,t.type))&&(s=o.addToSet(s));return r.content.push(t.mark(s)),!0}return!1}enter(t,e,n,r){let s=this.findPlace(t.create(e),n);return s&&(s=this.enterInner(t,e,n,!0,r)),s}enterInner(t,e,n,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=E0(t,s,o.options);o.options&Io&&o.content.length==0&&(a|=Io);let l=we.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):M0(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ls(t,e,l,r,null,a)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=Fo)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=e[a];if(c==""){if(a==e.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&r?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}};function bT(i){for(let t=i.firstChild,e=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&q0.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function CT(i,t){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,t)}function A0(i){let t={};for(let e in i)t[e]=i[e];return t}function M0(i,t){let e=t.schema.nodes;for(let n in e){let r=e[n];if(!r.allowsMarkType(i))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||s.indexOf(u)<0&&o(u))return!0}};if(o(r.contentMatch))return!0}}var ji=class i{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=Uh(e).createDocumentFragment());let r=n,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,e);u&&(s.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(o,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=jl(Uh(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let s=this.serializeMark(t.marks[r],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&jl(Uh(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return jl(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new i(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=D0(t.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(t){return D0(t.marks)}};function D0(i){let t={};for(let e in i){let n=i[e].spec.toDOM;n&&(t[e]=n)}return t}function Uh(i){return i.document||window.document}var L0=new WeakMap;function wT(i){let t=L0.get(i);return t===void 0&&L0.set(i,t=ST(i)),t}function ST(i){let t=null;function e(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let r=0;r<n.length;r++)e(n[r]);else for(let r in n)e(n[r])}return e(i),t}function jl(i,t,e,n){if(typeof t=="string")return{dom:i.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=wT(n))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(e=r.slice(0,o),r=r.slice(o+1));let a,l=e?i.createElementNS(e,r):i.createElement(r),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let p in c)if(c[p]!=null){let f=p.indexOf(" ");f>0?l.setAttributeNS(p.slice(0,f),p.slice(f+1),c[p]):l.setAttribute(p,c[p])}}for(let p=u;p<t.length;p++){let f=t[p];if(f===0){if(p<t.length-1||p>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:_}=jl(i,f,e,n);if(l.appendChild(v),_){if(a)throw new RangeError("Multiple content holes");a=_}}}return{dom:l,contentDOM:a}}var Q0=65535,K0=Math.pow(2,16);function TT(i,t){return i+t*K0}function X0(i){return i&Q0}function kT(i){return(i-(i&Q0))/K0}var J0=1,Z0=2,Ql=4,ev=8,Po=class{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&ev)>0}get deletedBefore(){return(this.delInfo&(J0|Ql))>0}get deletedAfter(){return(this.delInfo&(Z0|Ql))>0}get deletedAcross(){return(this.delInfo&Ql)>0}},Gi=class i{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&i.empty)return i.empty}recover(t){let e=0,n=X0(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+e+kT(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],u=this.ranges[a+o],p=l+c;if(t<=p){let f=c?t==l?-1:t==p?1:e:e,v=l+r+(f<0?0:u);if(n)return v;let _=t==(e<0?l:p)?null:TT(a/3,t-l),C=t==l?Z0:t==p?J0:Ql;return(e<0?t!=l:t!=p)&&(C|=ev),new Po(v,C,_)}r+=u-c}return n?t+r:new Po(t+r,0,null)}touches(t,e){let n=0,r=X0(e),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[a+s],u=l+c;if(t<=u&&a==r*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[r+e],u=this.ranges[r+n];t(a,a+c,l,l+u),s+=u-c}}invert(){return new i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?i.empty:new i(t<0?[0,-t,0]:[0,0,t])}};Gi.empty=new Gi([]);var Vo=class i{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new i(this.maps,this.mirror,t,e)}copy(){return new i(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],r!=null&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),r!=null&&r>e?n-r-1:void 0)}}invert(){let t=new i;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,e);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return n?t:new Po(t,r,null)}},Jh=Object.create(null),Je=class{getMap(){return Gi.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Jh[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in Jh)throw new RangeError("Duplicate use of step JSON ID "+t);return Jh[t]=e,e.prototype.jsonID=t,e}},rt=class i{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new i(t,null)}static fail(t){return new i(null,t)}static fromReplace(t,e,n,r){try{return i.ok(t.replace(e,n,r))}catch(s){if(s instanceof Zn)return i.fail(s.message);throw s}}};function nu(i,t,e){let n=[];for(let r=0;r<i.childCount;r++){let s=i.child(r);s.content.size&&(s=s.copy(nu(s.content,t,s))),s.isInline&&(s=t(s,e,r)),n.push(s)}return L.fromArray(n)}var Bo=class i extends Je{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),s=new F(nu(e.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),e.openStart,e.openEnd);return rt.fromReplace(t,this.from,this.to,s)}invert(){return new ir(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};Je.jsonID("addMark",Bo);var ir=class i extends Je{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new F(nu(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return rt.fromReplace(t,this.from,this.to,n)}invert(){return new Bo(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};Je.jsonID("removeMark",ir);var zo=class i extends Je{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return rt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return rt.fromReplace(t,this.pos,this.pos+1,new F(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(n))return new i(this.pos,e.marks[r]);return new i(this.pos,this.mark)}}return new $o(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};Je.jsonID("addNodeMark",zo);var $o=class i extends Je{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return rt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return rt.fromReplace(t,this.pos,this.pos+1,new F(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new zo(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};Je.jsonID("removeNodeMark",$o);var Xt=class i extends Je{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&tu(t,this.from,this.to)?rt.fail("Structure replace would overwrite content"):rt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Gi([this.from,this.to-this.from,this.slice.size])}invert(t){return new i(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new i(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof i)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?F.empty:new F(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new i(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?F.empty:new F(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new i(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new i(e.from,e.to,F.fromJSON(t,e.slice),!!e.structure)}};Je.jsonID("replace",Xt);var Ze=class i extends Je{constructor(t,e,n,r,s,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(tu(t,this.from,this.gapFrom)||tu(t,this.gapTo,this.to)))return rt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return rt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?rt.fromReplace(t,this.from,this.to,n):rt.fail("Content does not fit in gap")}getMap(){return new Gi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new i(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||s>n.pos?null:new i(e.pos,n.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new i(e.from,e.to,e.gapFrom,e.gapTo,F.fromJSON(t,e.slice),e.insert,!!e.structure)}};Je.jsonID("replaceAround",Ze);function tu(i,t,e){let n=i.resolve(t),r=e-t,s=n.depth;for(;r>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,r--;if(r>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function ET(i,t,e,n){let r=[],s=[],o,a;i.doc.nodesBetween(t,e,(l,c,u)=>{if(!l.isInline)return;let p=l.marks;if(!n.isInSet(p)&&u.type.allowsMarkType(n.type)){let f=Math.max(c,t),v=Math.min(c+l.nodeSize,e),_=n.addToSet(p);for(let C=0;C<p.length;C++)p[C].isInSet(_)||(o&&o.to==f&&o.mark.eq(p[C])?o.to=v:r.push(o=new ir(f,v,p[C])));a&&a.to==f?a.to=v:s.push(a=new Bo(f,v,n))}}),r.forEach(l=>i.step(l)),s.forEach(l=>i.step(l))}function AT(i,t,e,n){let r=[],s=0;i.doc.nodesBetween(t,e,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof Oo){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,e);for(let u=0;u<l.length;u++){let p=l[u],f;for(let v=0;v<r.length;v++){let _=r[v];_.step==s-1&&p.eq(r[v].style)&&(f=_)}f?(f.to=c,f.step=s):r.push({style:p,from:Math.max(a,t),to:c,step:s})}}}),r.forEach(o=>i.step(new ir(o.from,o.to,o.style)))}function ru(i,t,e,n=e.contentMatch,r=!0){let s=i.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,p=n.matchType(c.type);if(!p)o.push(new Xt(a,u,F.empty));else{n=p;for(let f=0;f<c.marks.length;f++)e.allowsMarkType(c.marks[f].type)||i.step(new ir(a,u,c.marks[f]));if(r&&c.isText&&e.whitespace!="pre"){let f,v=/\r?\n|\r/g,_;for(;f=v.exec(c.text);)_||(_=new F(L.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),o.push(new Xt(a+f.index,a+f.index+f[0].length,_))}}a=u}if(!n.validEnd){let l=n.fillBefore(L.empty,!0);i.replace(a,a,new F(l,0,0))}for(let l=o.length-1;l>=0;l--)i.step(o[l])}function MT(i,t,e){return(t==0||i.canReplace(t,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function nr(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),s=i.$from.index(n),o=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(s,o,e))return n;if(n==0||r.type.spec.isolating||!MT(r,s,o))break}return null}function DT(i,t,e){let{$from:n,$to:r,depth:s}=t,o=n.before(s+1),a=r.after(s+1),l=o,c=a,u=L.empty,p=0;for(let _=s,C=!1;_>e;_--)C||n.index(_)>0?(C=!0,u=L.from(n.node(_).copy(u)),p++):l--;let f=L.empty,v=0;for(let _=s,C=!1;_>e;_--)C||r.after(_+1)<r.end(_)?(C=!0,f=L.from(r.node(_).copy(f)),v++):c++;i.step(new Ze(l,c,o,a,new F(u.append(f),p,v),u.size-p,!0))}function ds(i,t,e=null,n=i){let r=LT(i,t),s=r&&IT(n,t);return s?r.map(Y0).concat({type:t,attrs:e}).concat(s.map(Y0)):null}function Y0(i){return{type:i,attrs:null}}function LT(i,t){let{parent:e,startIndex:n,endIndex:r}=i,s=e.contentMatchAt(n).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return e.canReplaceWith(n,r,o)?s:null}function IT(i,t){let{parent:e,startIndex:n,endIndex:r}=i,s=e.child(n),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:o}function OT(i,t,e){let n=L.empty;for(let o=e.length-1;o>=0;o--){if(n.size){let a=e[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=L.from(e[o].type.create(e[o].attrs,n))}let r=t.start,s=t.end;i.step(new Ze(r,s,r,s,new F(n,0,0),e.length,!0))}function FT(i,t,e,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=i.steps.length;i.doc.nodesBetween(t,e,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(n,l)&&NT(i.doc,i.mapping.slice(s).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let v=n.whitespace=="pre",_=!!n.contentMatch.matchType(n.schema.linebreakReplacement);v&&!_?c=!1:!v&&_&&(c=!0)}c===!1&&iv(i,o,a,s),ru(i,i.mapping.slice(s).map(a,1),n,void 0,c===null);let u=i.mapping.slice(s),p=u.map(a,1),f=u.map(a+o.nodeSize,1);return i.step(new Ze(p,f,p+1,f-1,new F(L.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&tv(i,o,a,s),!1}})}function tv(i,t,e,n){t.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=i.mapping.slice(n).map(e+1+s+o.index);i.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function iv(i,t,e,n){t.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=i.mapping.slice(n).map(e+1+s);i.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function NT(i,t,e){let n=i.resolve(t),r=n.index();return n.parent.canReplaceWith(r,r+1,e)}function RT(i,t,e,n,r){let s=i.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");e||(e=s.type);let o=e.create(n,null,r||s.marks);if(s.isLeaf)return i.replaceWith(t,t+s.nodeSize,o);if(!e.validContent(s.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new Ze(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new F(L.from(o),0,0),1,!0))}function yn(i,t,e=1,n){let r=i.resolve(t),s=r.depth-e,o=n&&n[n.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=e-2;c>s;c--,u--){let p=r.node(c),f=r.index(c);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(f,p.childCount),_=n&&n[u+1];_&&(v=v.replaceChild(0,_.type.create(_.attrs)));let C=n&&n[u]||p;if(!p.canReplace(f+1,p.childCount)||!C.type.validContent(v))return!1}let a=r.indexAfter(s),l=n&&n[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function PT(i,t,e=1,n){let r=i.doc.resolve(t),s=L.empty,o=L.empty;for(let a=r.depth,l=r.depth-e,c=e-1;a>l;a--,c--){s=L.from(r.node(a).copy(s));let u=n&&n[c];o=L.from(u?u.type.create(u.attrs,o):r.node(a).copy(o))}i.step(new Xt(t,t,new F(s.append(o),e,e),!0))}function rr(i,t){let e=i.resolve(t),n=e.index();return BT(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function VT(i,t){t.content.size||i.type.compatibleContent(t.type);let e=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<t.childCount;r++){let s=t.child(r),o=s.type==n?i.type.schema.nodes.text:s.type;if(e=e.matchType(o),!e||!i.type.allowsMarks(s.marks))return!1}return e.validEnd}function BT(i,t){return!!(i&&t&&!i.isLeaf&&VT(i,t))}function zT(i,t,e){let n=null,{linebreakReplacement:r}=i.doc.type.schema,s=i.doc.resolve(t-e),o=s.node().type;if(r&&o.inlineContent){let u=o.whitespace=="pre",p=!!o.contentMatch.matchType(r);u&&!p?n=!1:!u&&p&&(n=!0)}let a=i.steps.length;if(n===!1){let u=i.doc.resolve(t+e);iv(i,u.node(),u.before(),a)}o.inlineContent&&ru(i,t+e-1,o,s.node().contentMatchAt(s.index()),n==null);let l=i.mapping.slice(a),c=l.map(t-e);if(i.step(new Xt(c,l.map(t+e,-1),F.empty,!0)),n===!0){let u=i.doc.resolve(c);tv(i,u.node(),u.before(),i.steps.length)}return i}function $T(i,t,e){let n=i.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let s=n.index(r);if(n.node(r).canReplaceWith(s,s,e))return n.before(r+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let s=n.indexAfter(r);if(n.node(r).canReplaceWith(s,s,e))return n.after(r+1);if(s<n.node(r).childCount)return null}return null}function nv(i,t,e){let n=i.resolve(t);if(!e.content.size)return t;let r=e.content;for(let s=0;s<e.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(e.openStart==0&&e.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(s==1)u=c.canReplace(l,l,r);else{let p=c.contentMatchAt(l).findWrapping(r.firstChild.type);u=p&&c.canReplaceWith(l,l,p[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function ec(i,t,e=t,n=F.empty){if(t==e&&!n.size)return null;let r=i.resolve(t),s=i.resolve(e);return rv(r,s,n)?new Xt(t,e,n):new iu(r,s,n).fit()}function rv(i,t,e){return!e.openStart&&!e.openEnd&&i.start()==t.start()&&i.parent.canReplace(i.index(),t.index(),e.content)}var iu=class{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=L.empty;for(let r=0;r<=t.depth;r++){let s=t.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=L.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let s=this.placed,o=n.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new F(s,o,a);return t>-1?new Ze(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new Xt(n.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let s=e.firstChild;if(e.childCount>1&&(r=0),s.type.spec.isolating&&r<=n){t=n;break}e=s.content}for(let e=1;e<=2;e++)for(let n=e==1?t:this.unplaced.openStart;n>=0;n--){let r,s=null;n?(s=Zh(this.unplaced.content,n-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,p=null;if(e==1&&(o?c.matchType(o.type)||(p=c.fillBefore(L.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:p};if(e==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=Zh(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new F(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=Zh(t,e);if(r.childCount<=1&&e>0){let s=t.size-e<=e+r.size;this.unplaced=new F(No(t,e-1,1),e-1,s?e-1:n)}else this.unplaced=new F(No(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let C=0;C<s.length;C++)this.openFrontierNode(s[C]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-t,c=0,u=[],{match:p,type:f}=this.frontier[e];if(r){for(let C=0;C<r.childCount;C++)u.push(r.child(C));p=p.matchFragment(r)}let v=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let C=a.child(c),S=p.matchType(C.type);if(!S)break;c++,(c>1||l==0||C.content.size)&&(p=S,u.push(sv(C.mark(f.allowedMarks(C.marks)),c==1?l:0,c==a.childCount?v:-1)))}let _=c==a.childCount;_||(v=-1),this.placed=Ro(this.placed,e,L.from(u)),this.frontier[e].match=p,_&&v<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,S=a;C<v;C++){let I=S.lastChild;this.frontier.push({type:I.type,match:I.contentMatchAt(I.childCount)}),S=I.content}this.unplaced=_?t==0?F.empty:new F(No(o.content,t-1,1),t-1,v<0?o.openEnd:t-1):new F(No(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!eu(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=eu(t,e,r,n,s);if(o){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=eu(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:e,fit:o,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ro(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let r=t.node(n),s=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,s)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ro(this.placed,this.depth,L.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(L.empty,!0);e.childCount&&(this.placed=Ro(this.placed,this.frontier.length,e))}};function No(i,t,e){return t==0?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(No(i.firstChild.content,t-1,e)))}function Ro(i,t,e){return t==0?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(Ro(i.lastChild.content,t-1,e)))}function Zh(i,t){for(let e=0;e<t;e++)i=i.firstChild.content;return i}function sv(i,t,e){if(t<=0)return i;let n=i.content;return t>1&&(n=n.replaceChild(0,sv(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=i.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(L.empty,!0)))),i.copy(n)}function eu(i,t,e,n,r){let s=i.node(t),o=r?i.indexAfter(t):i.index(t);if(o==s.childCount&&!e.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!HT(e,s.content,o)?a:null}function HT(i,t,e){for(let n=e;n<t.childCount;n++)if(!i.allowsMarks(t.child(n).marks))return!0;return!1}function jT(i){return i.spec.defining||i.spec.definingForContent}function GT(i,t,e,n){if(!n.size)return i.deleteRange(t,e);let r=i.doc.resolve(t),s=i.doc.resolve(e);if(rv(r,s,n))return i.step(new Xt(t,e,n));let o=av(r,i.doc.resolve(e));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let f=r.depth,v=r.pos-1;f>0;f--,v--){let _=r.node(f).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;o.indexOf(f)>-1?a=f:r.before(f)==v&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=n.openStart;for(let f=n.content,v=0;;v++){let _=f.firstChild;if(c.push(_),v==n.openStart)break;f=_.content}for(let f=u-1;f>=0;f--){let v=c[f],_=jT(v.type);if(_&&!v.sameMarkup(r.node(Math.abs(a)-1)))u=f;else if(_||!v.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let v=(f+u+1)%(n.openStart+1),_=c[v];if(_)for(let C=0;C<o.length;C++){let S=o[(C+l)%o.length],I=!0;S<0&&(I=!1,S=-S);let ie=r.node(S-1),G=r.index(S-1);if(ie.canReplaceWith(G,G,_.type,_.marks))return i.replace(r.before(S),I?s.after(S):e,new F(ov(n.content,0,n.openStart,v),v,n.openEnd))}}let p=i.steps.length;for(let f=o.length-1;f>=0&&(i.replace(t,e,n),!(i.steps.length>p));f--){let v=o[f];v<0||(t=r.before(v),e=s.after(v))}}function ov(i,t,e,n,r){if(t<e){let s=i.firstChild;i=i.replaceChild(0,s.copy(ov(s.content,t+1,e,n,s)))}if(t>n){let s=r.contentMatchAt(0),o=s.fillBefore(i).append(i);i=o.append(s.matchFragment(o).fillBefore(L.empty,!0))}return i}function UT(i,t,e,n){if(!n.isInline&&t==e&&i.doc.resolve(t).parent.content.size){let r=$T(i.doc,t,n.type);r!=null&&(t=e=r)}i.replaceRange(t,e,new F(L.from(n),0,0))}function WT(i,t,e){let n=i.doc.resolve(t),r=i.doc.resolve(e),s=av(n,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let o=1;o<=n.depth&&o<=r.depth;o++)if(t-n.start(o)==n.depth-o&&e>n.end(o)&&r.end(o)-e!=r.depth-o&&n.start(o-1)==r.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),r.index(o-1)))return i.delete(n.before(o),e);i.delete(t,e)}function av(i,t){let e=[],n=Math.min(i.depth,t.depth);for(let r=n;r>=0;r--){let s=i.start(r);if(s<i.pos-(i.depth-r)||t.end(r)>t.pos+(t.depth-r)||i.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(s==t.start(r)||r==i.depth&&r==t.depth&&i.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==s-1)&&e.push(r)}return e}var Kl=class i extends Je{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return rt.fail("No node at attribute step's position");let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return rt.fromReplace(t,this.pos,this.pos+1,new F(L.from(r),0,e.isLeaf?0:1))}getMap(){return Gi.empty}invert(t){return new i(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new i(e.pos,e.attr,e.value)}};Je.jsonID("attr",Kl);var Jl=class i extends Je{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return rt.ok(n)}getMap(){return Gi.empty}invert(t){return new i(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i(e.attr,e.value)}};Je.jsonID("docAttr",Jl);var cs=class extends Error{};cs=function i(t){let e=Error.call(this,t);return e.__proto__=i.prototype,e};cs.prototype=Object.create(Error.prototype);cs.prototype.constructor=cs;cs.prototype.name="TransformError";var Zl=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Vo}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new cs(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=F.empty){let r=ec(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new F(L.from(n),0,0))}delete(t,e){return this.replace(t,e,F.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return GT(this,t,e,n),this}replaceRangeWith(t,e,n){return UT(this,t,e,n),this}deleteRange(t,e){return WT(this,t,e),this}lift(t,e){return DT(this,t,e),this}join(t,e=1){return zT(this,t,e),this}wrap(t,e){return OT(this,t,e),this}setBlockType(t,e=t,n,r=null){return FT(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return RT(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new Kl(t,e,n)),this}setDocAttribute(t,e){return this.step(new Jl(t,e)),this}addNodeMark(t,e){return this.step(new zo(t,e)),this}removeNodeMark(t,e){if(!(e instanceof we)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new $o(t,e)),this}split(t,e=1,n){return PT(this,t,e,n),this}addMark(t,e,n){return ET(this,t,e,n),this}removeMark(t,e,n){return AT(this,t,e,n),this}clearIncompatible(t,e,n){return ru(this,t,e,n),this}};var su=Object.create(null),te=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new us(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=F.empty){let n=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=n,n=n.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),a?F.empty:e),a==0&&dv(t,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=t.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),dv(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new Ce(t):hs(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let s=t.depth-1;s>=0;s--){let o=e<0?hs(t.node(0),t.node(s),t.before(s+1),t.index(s),e,n):hs(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,n);if(o)return o}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Yt(t.node(0))}static atStart(t){return hs(t,t,0,0,1)||new Yt(t)}static atEnd(t){return hs(t,t,t.content.size,t.childCount,-1)||new Yt(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=su[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in su)throw new RangeError("Duplicate use of selection JSON ID "+t);return su[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}};te.prototype.visible=!0;var us=class{constructor(t,e){this.$from=t,this.$to=e}},lv=!1;function cv(i){!lv&&!i.parent.inlineContent&&(lv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}var Ce=class i extends te{constructor(t,e=t){cv(t),cv(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return te.near(n);let r=t.resolve(e.map(this.anchor));return new i(r.parent.inlineContent?r:n,n)}replace(t,e=F.empty){if(super.replace(t,e),e==F.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof i&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ic(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let s=te.findFrom(e,n,!0)||te.findFrom(e,-n,!0);if(s)e=s.$head;else return te.near(e,n)}return t.parent.inlineContent||(r==0?t=e:(t=(te.findFrom(t,-n,!0)||te.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new i(t,e)}};te.jsonID("text",Ce);var ic=class i{constructor(t,e){this.anchor=t,this.head=e}map(t){return new i(t.map(this.anchor),t.map(this.head))}resolve(t){return Ce.between(t.resolve(this.anchor),t.resolve(this.head))}},U=class i extends te{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),s=t.resolve(r);return n?te.near(s):new i(s)}content(){return new F(L.from(this.node),0,0)}eq(t){return t instanceof i&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new au(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new i(t.resolve(e.anchor))}static create(t,e){return new i(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};U.prototype.visible=!1;te.jsonID("node",U);var au=class i{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new ic(n,n):new i(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&U.isSelectable(n)?new U(e):te.near(e)}},Yt=class i extends te{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=F.empty){if(e==F.empty){t.delete(0,t.doc.content.size);let n=te.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new i(t)}map(t){return new i(t)}eq(t){return t instanceof i}getBookmark(){return qT}};te.jsonID("all",Yt);var qT={map(){return this},resolve(i){return new Yt(i)}};function hs(i,t,e,n,r,s=!1){if(t.inlineContent)return Ce.create(i,e);for(let o=n-(r>0?0:1);r>0?o<t.childCount:o>=0;o+=r){let a=t.child(o);if(a.isAtom){if(!s&&U.isSelectable(a))return U.create(i,e-(r<0?a.nodeSize:0))}else{let l=hs(i,a,e+r,r<0?a.childCount:0,r,s);if(l)return l}e+=a.nodeSize*r}return null}function dv(i,t,e){let n=i.steps.length-1;if(n<t)return;let r=i.steps[n];if(!(r instanceof Xt||r instanceof Ze))return;let s=i.mapping.maps[n],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),i.setSelection(te.near(i.doc.resolve(o),e))}var hv=1,tc=2,uv=4,lu=class extends Zl{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hv)&~tc,this.storedMarks=null,this}get selectionSet(){return(this.updated&hv)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=tc,this}ensureMarks(t){return we.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tc)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~tc,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||we.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(n==null&&(n=e),n=n??e,!t)return this.deleteRange(e,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(e);s=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,s)),this.selection.empty||this.setSelection(te.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=uv,this}get scrolledIntoView(){return(this.updated&uv)>0}};function pv(i,t){return!t||!i?i:i.bind(t)}var sr=class{constructor(t,e,n){this.name=t,this.init=pv(e.init,n),this.apply=pv(e.apply,n)}},XT=[new sr("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new sr("selection",{init(i,t){return i.selection||te.atStart(t.doc)},apply(i){return i.selection}}),new sr("storedMarks",{init(i){return i.storedMarks||null},apply(i,t,e,n){return n.selection.$cursor?i.storedMarks:null}}),new sr("scrollToSelection",{init(){return 0},apply(i,t){return i.scrolledIntoView?t+1:t}})],Ho=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=XT.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new sr(n.key,n.spec.state,n))})}},nc=class i{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,u=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<o?{state:n,n:e.length}:{state:this,n:0})}e.push(u),n=n.applyInner(u),s=!0}r&&(r[o]={state:n,n:e.length})}}if(!s)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new i(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let s=n[r];e[s.name]=s.apply(t,this[s.name],this,e)}return e}get tr(){return new lu(this)}static create(t){let e=new Ho(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new i(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new Ho(this.schema,t.plugins),n=e.fields,r=new i(e);for(let s=0;s<n.length;s++){let o=n[s].name;r[o]=this.hasOwnProperty(o)?this[o]:n[s].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],s=r.spec.state;s&&s.toJSON&&(e[n]=s.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new Ho(t.schema,t.plugins),s=new i(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=Ci.fromJSON(t.schema,e.doc);else if(o.name=="selection")s.selection=te.fromJSON(s.doc,e.selection);else if(o.name=="storedMarks")e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){s[o.name]=c.fromJSON.call(l,t,e[a],s);return}}s[o.name]=o.init(t,s)}}),s}};function mv(i,t,e){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(t):n=="handleDOMEvents"&&(r=mv(r,t,{})),e[n]=r}return e}var gt=class{constructor(t){this.spec=t,this.props={},t.props&&mv(t.props,this,this.props),this.key=t.key?t.key.key:fv("plugin")}getState(t){return t[this.key]}},ou=Object.create(null);function fv(i){return i in ou?i+"$"+ ++ou[i]:(ou[i]=0,i+"$")}var Qt=class{constructor(t="key"){this.key=fv(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var st=function(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t},Wo=function(i){let t=i.assignedSlot||i.parentNode;return t&&t.nodeType==11?t.host:t},mu=null,Wi=function(i,t,e){let n=mu||(mu=document.createRange());return n.setEnd(i,e??i.nodeValue.length),n.setStart(i,t||0),n},YT=function(){mu=null},ur=function(i,t,e,n){return e&&(gv(i,t,e,n,-1)||gv(i,t,e,n,1))},QT=/^(img|br|input|textarea|hr)$/i;function gv(i,t,e,n,r){for(;;){if(i==e&&t==n)return!0;if(t==(r<0?0:oi(i))){let s=i.parentNode;if(!s||s.nodeType!=1||Qo(i)||QT.test(i.nodeName)||i.contentEditable=="false")return!1;t=st(i)+(r<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[t+(r<0?-1:0)],i.contentEditable=="false")return!1;t=r<0?oi(i):0}else return!1}}function oi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function KT(i,t){for(;;){if(i.nodeType==3&&t)return i;if(i.nodeType==1&&t>0){if(i.contentEditable=="false")return null;i=i.childNodes[t-1],t=oi(i)}else if(i.parentNode&&!Qo(i))t=st(i),i=i.parentNode;else return null}}function JT(i,t){for(;;){if(i.nodeType==3&&t<i.nodeValue.length)return i;if(i.nodeType==1&&t<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[t],t=0}else if(i.parentNode&&!Qo(i))t=st(i)+1,i=i.parentNode;else return null}}function ZT(i,t,e){for(let n=t==0,r=t==oi(i);n||r;){if(i==e)return!0;let s=st(i);if(i=i.parentNode,!i)return!1;n=n&&s==0,r=r&&s==oi(i)}}function Qo(i){let t;for(let e=i;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==i||t.contentDOM==i)}var fc=function(i){return i.focusNode&&ur(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function or(i,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=t,e}function ek(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function tk(i,t,e){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(t,e);if(n)return{node:n.offsetNode,offset:Math.min(oi(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(t,e);if(n)return{node:n.startContainer,offset:Math.min(oi(n.startContainer),n.startOffset)}}}var wi=typeof navigator<"u"?navigator:null,vv=typeof document<"u"?document:null,kn=wi&&wi.userAgent||"",fu=/Edge\/(\d+)/.exec(kn),Yv=/MSIE \d/.exec(kn),gu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kn),Nt=!!(Yv||gu||fu),Sn=Yv?document.documentMode:gu?+gu[1]:fu?+fu[1]:0,fi=!Nt&&/gecko\/(\d+)/i.test(kn);fi&&+(/Firefox\/(\d+)/.exec(kn)||[0,0])[1];var vu=!Nt&&/Chrome\/(\d+)/.exec(kn),xt=!!vu,Qv=vu?+vu[1]:0,At=!Nt&&!!wi&&/Apple Computer/.test(wi.vendor),vs=At&&(/Mobile\/\w+/.test(kn)||!!wi&&wi.maxTouchPoints>2),si=vs||(wi?/Mac/.test(wi.platform):!1),ik=wi?/Win/.test(wi.platform):!1,qi=/Android \d/.test(kn),Ko=!!vv&&"webkitFontSmoothing"in vv.documentElement.style,nk=Ko?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function rk(i){let t=i.defaultView&&i.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function Ui(i,t){return typeof i=="number"?i:i[t]}function sk(i){let t=i.getBoundingClientRect(),e=t.width/i.offsetWidth||1,n=t.height/i.offsetHeight||1;return{left:t.left,right:t.left+i.clientWidth*e,top:t.top,bottom:t.top+i.clientHeight*n}}function xv(i,t,e){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,s=i.dom.ownerDocument;for(let o=e||i.dom;o;o=Wo(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?rk(s):sk(a),u=0,p=0;if(t.top<c.top+Ui(n,"top")?p=-(c.top-t.top+Ui(r,"top")):t.bottom>c.bottom-Ui(n,"bottom")&&(p=t.bottom-t.top>c.bottom-c.top?t.top+Ui(r,"top")-c.top:t.bottom-c.bottom+Ui(r,"bottom")),t.left<c.left+Ui(n,"left")?u=-(c.left-t.left+Ui(r,"left")):t.right>c.right-Ui(n,"right")&&(u=t.right-c.right+Ui(r,"right")),u||p)if(l)s.defaultView.scrollBy(u,p);else{let f=a.scrollLeft,v=a.scrollTop;p&&(a.scrollTop+=p),u&&(a.scrollLeft+=u);let _=a.scrollLeft-f,C=a.scrollTop-v;t={left:t.left-_,top:t.top-C,right:t.right-_,bottom:t.bottom-C}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function ok(i){let t=i.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,r;for(let s=(t.left+t.right)/2,o=e+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=i.root.elementFromPoint(s,o);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:Kv(i.dom)}}function Kv(i){let t=[],e=i.ownerDocument;for(let n=i;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=e);n=Wo(n));return t}function ak({refDOM:i,refTop:t,stack:e}){let n=i?i.getBoundingClientRect().top:0;Jv(e,n==0?0:n-t)}function Jv(i,t){for(let e=0;e<i.length;e++){let{dom:n,top:r,left:s}=i[e];n.scrollTop!=r+t&&(n.scrollTop=r+t),n.scrollLeft!=s&&(n.scrollLeft=s)}}var ps=null;function lk(i){if(i.setActive)return i.setActive();if(ps)return i.focus(ps);let t=Kv(i);i.focus(ps==null?{get preventScroll(){return ps={preventScroll:!0},!0}}:void 0),ps||(ps=!1,Jv(t,0))}function Zv(i,t){let e,n=2e8,r,s=0,o=t.top,a=t.top,l,c;for(let u=i.firstChild,p=0;u;u=u.nextSibling,p++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Wi(u).getClientRects();else continue;for(let v=0;v<f.length;v++){let _=f[v];if(_.top<=o&&_.bottom>=a){o=Math.max(_.bottom,o),a=Math.min(_.top,a);let C=_.left>t.left?_.left-t.left:_.right<t.left?t.left-_.right:0;if(C<n){e=u,n=C,r=C&&e.nodeType==3?{left:_.right<t.left?_.right:_.left,top:t.top}:t,u.nodeType==1&&C&&(s=p+(t.left>=(_.left+_.right)/2?1:0));continue}}else _.top>t.top&&!l&&_.left<=t.left&&_.right>=t.left&&(l=u,c={left:Math.max(_.left,Math.min(_.right,t.left)),top:_.top});!e&&(t.left>=_.right&&t.top>=_.top||t.left>=_.left&&t.top>=_.bottom)&&(s=p+1)}}return!e&&l&&(e=l,r=c,n=0),e&&e.nodeType==3?ck(e,r):!e||n&&e.nodeType==1?{node:i,offset:s}:Zv(e,r)}function ck(i,t){let e=i.nodeValue.length,n=document.createRange();for(let r=0;r<e;r++){n.setEnd(i,r+1),n.setStart(i,r);let s=bn(n,1);if(s.top!=s.bottom&&Iu(t,s))return{node:i,offset:r+(t.left>=(s.left+s.right)/2?1:0)}}return{node:i,offset:0}}function Iu(i,t){return i.left>=t.left-1&&i.left<=t.right+1&&i.top>=t.top-1&&i.top<=t.bottom+1}function dk(i,t){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<i.getBoundingClientRect().left?e:i}function hk(i,t,e){let{node:n,offset:r}=Zv(t,e),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&e.left>(o.left+o.right)/2?1:-1}return i.docView.posFromDOM(n,r,s)}function uk(i,t,e,n){let r=-1;for(let s=t,o=!1;s!=i.dom;){let a=i.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?r=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(t,e,-1)}function ex(i,t,e){let n=i.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),s=r;;){let o=i.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Iu(t,c))return ex(o,t,c)}}if((s=(s+1)%n)==r)break}return i}function pk(i,t){let e=i.dom.ownerDocument,n,r=0,s=tk(e,t.left,t.top);s&&({node:n,offset:r}=s);let o=(i.root.elementFromPoint?i.root:e).elementFromPoint(t.left,t.top),a;if(!o||!i.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=i.dom.getBoundingClientRect();if(!Iu(t,c)||(o=ex(i.dom,t,c),!o))return null}if(At)for(let c=o;n&&c;c=Wo(c))c.draggable&&(n=void 0);if(o=dk(o,t),n){if(fi&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let u=n.childNodes[r],p;u.nodeName=="IMG"&&(p=u.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&r++}let c;Ko&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=uk(i,n,r,t))}a==null&&(a=hk(i,o,t));let l=i.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function _v(i){return i.top<i.bottom||i.left<i.right}function bn(i,t){let e=i.getClientRects();if(e.length){let n=e[t<0?0:e.length-1];if(_v(n))return n}return Array.prototype.find.call(e,_v)||i.getBoundingClientRect()}var mk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tx(i,t,e){let{node:n,offset:r,atom:s}=i.docView.domFromPos(t,e<0?-1:1),o=Ko||fi;if(n.nodeType==3)if(o&&(mk.test(n.nodeValue)||(e<0?!r:r==n.nodeValue.length))){let l=bn(Wi(n,r,r),e);if(fi&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=bn(Wi(n,r-1,r-1),-1);if(c.top==l.top){let u=bn(Wi(n,r,r+1),-1);if(u.top!=l.top)return jo(u,u.left<c.left)}}return l}else{let l=r,c=r,u=e<0?1:-1;return e<0&&!r?(c++,u=-1):e>=0&&r==n.nodeValue.length?(l--,u=1):e<0?l--:c++,jo(bn(Wi(n,l,c),u),u<0)}if(!i.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&r&&(e<0||r==oi(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return cu(l.getBoundingClientRect(),!1)}if(s==null&&r<oi(n)){let l=n.childNodes[r];if(l.nodeType==1)return cu(l.getBoundingClientRect(),!0)}return cu(n.getBoundingClientRect(),e>=0)}if(s==null&&r&&(e<0||r==oi(n))){let l=n.childNodes[r-1],c=l.nodeType==3?Wi(l,oi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return jo(bn(c,1),!1)}if(s==null&&r<oi(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Wi(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return jo(bn(c,-1),!0)}return jo(bn(n.nodeType==3?Wi(n):n,-e),e>=0)}function jo(i,t){if(i.width==0)return i;let e=t?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function cu(i,t){if(i.height==0)return i;let e=t?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function ix(i,t,e){let n=i.state,r=i.root.activeElement;n!=t&&i.updateState(t),r!=i.dom&&i.focus();try{return e()}finally{n!=t&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function fk(i,t,e){let n=t.selection,r=e=="up"?n.$from:n.$to;return ix(i,t,()=>{let{node:s}=i.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=tx(i,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Wi(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(e=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}var gk=/[\u0590-\u08ac]/;function vk(i,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,s=!r,o=r==n.parent.content.size,a=i.domSelection();return a?!gk.test(n.parent.textContent)||!a.modify?e=="left"||e=="backward"?s:o:ix(i,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:p}=i.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",e,"character");let v=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:_,focusOffset:C}=i.domSelectionRange(),S=_&&!v.contains(_.nodeType==1?_:_.parentNode)||l==_&&c==C;try{a.collapse(u,p),l&&(l!=u||c!=p)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),S}):n.pos==n.start()||n.pos==n.end()}var yv=null,bv=null,Cv=!1;function xk(i,t,e){return yv==t&&bv==e?Cv:(yv=t,bv=e,Cv=e=="up"||e=="down"?fk(i,t,e):vk(i,t,e))}var ai=0,wv=1,ar=2,Si=3,pr=class{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=ai,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let s,o;if(t==this.contentDOM)s=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>st(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let s=t;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!e||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))n=!1;else return s}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],s=n+r.size;if(n==t&&s!=n){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(t<s)return r.descAt(t-n-r.border);n=s}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>t||o instanceof oc){r=t-s;break}s=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof rc&&s.side>=0;n--);if(e<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&e&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,e):{node:this.contentDOM,offset:s?st(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,e):{node:this.contentDOM,offset:s?st(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&t<=c){let u=o+l.border;if(t>=u&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,u);t=o;for(let p=a;p>0;p--){let f=this.children[p-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=st(f.dom)+1;break}t-=f.size}r==-1&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let u=a+1;u<this.children.length;u++){let p=this.children[u];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=st(p.dom);break}e+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(e.nodeType!=1||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let s=Math.min(t,e),o=Math.max(t,e);for(let v=0,_=0;v<this.children.length;v++){let C=this.children[v],S=_+C.size;if(s>_&&o<S)return C.setSelection(t-_-C.border,e-_-C.border,n,r);_=S}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),p=!1;if((fi||At)&&t==e){let{node:v,offset:_}=a;if(v.nodeType==3){if(p=!!(_&&v.nodeValue[_-1]==`
`),p&&_==v.nodeValue.length)for(let C=v,S;C;C=C.parentNode){if(S=C.nextSibling){S.nodeName=="BR"&&(a=l={node:S.parentNode,offset:st(S)+1});break}let I=C.pmViewDesc;if(I&&I.node&&I.node.isBlock)break}}else{let C=v.childNodes[_-1];p=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(fi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let v=u.focusNode.childNodes[u.focusOffset];v&&v.contentEditable=="false"&&(r=!0)}if(!(r||p&&At)&&ur(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ur(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||t==e)&&!p){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>e){let _=a;a=l,l=_}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let s=this.children[r],o=n+s.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let a=n+s.border,l=o-s.border;if(t>=a&&e<=l){this.dirty=t==n||e==o?ar:wv,t==a&&e==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Si:s.markDirty(t-a,e-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ar:Si}n=o}this.dirty=ar}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=t==1?ar:wv;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}},rc=class extends pr{constructor(t,e,n,r){let s,o=e.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!e.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,s=this}matchesWidget(t){return this.dirty==ai&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},xu=class extends pr{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},xs=class i extends pr{constructor(t,e,n,r,s){super(t,[],n,r),this.mark=e,this.spec=s}static create(t,e,n,r){let s=r.nodeViews[e.type.name],o=s&&s(e,r,n);return(!o||!o.dom)&&(o=ji.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new i(t,e,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Si||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Si&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=ai){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ai}}slice(t,e,n){let r=i.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;e<o&&(s=Cu(s,e,o,n)),t>0&&(s=Cu(s,0,t,n));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Tn=class i extends pr{constructor(t,e,n,r,s,o,a,l,c){super(t,[],s,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(t,e,n,r,s,o){let a=s.nodeViews[e.type.name],l,c=a&&a(e,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,r),u=c&&c.dom,p=c&&c.contentDOM;if(e.isText){if(!u)u=document.createTextNode(e.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:p}=ji.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!p&&!e.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));let f=u;return u=sx(u,n,e),c?l=new _u(t,e,n,r,u,p||null,f,c,s,o+1):e.isText?new sc(t,e,n,r,u,f,s):new i(t,e,n,r,u,p||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>L.empty)}return t}matchesNode(t,e,n){return this.dirty==ai&&t.eq(this.node)&&ac(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new bu(this,o&&o.node,t);Ck(this.node,this.innerDeco,(c,u,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!p&&l.syncToMarks(u==this.node.childCount?we.none:this.node.child(u).marks,n,t),l.placeWidget(c,t,r)},(c,u,p,f)=>{l.syncToMarks(c.marks,n,t);let v;l.findNodeMatch(c,u,p,f)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(v=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,p,v,t)||l.updateNextNode(c,u,p,t,f,r)||l.addNode(c,u,p,t,r),r+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ar)&&(o&&this.protectLocalComposition(t,o),nx(this.contentDOM,this.children,t),vs&&wk(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof Ce)||n<e||r>e+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Sk(this.node.content,o,n-e,r-e);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let s=e;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new xu(this,s,e,r);t.input.compositionNodes.push(o),this.children=Cu(this.children,n,n+r.length,t,o)}update(t,e,n,r){return this.dirty==Si||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=ai}updateOuterDeco(t){if(ac(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=rx(this.dom,this.nodeDOM,yu(this.outerDeco,this.node,e),yu(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function Sv(i,t,e,n,r){sx(n,t,i);let s=new Tn(void 0,i,t,e,n,n,n,r,0);return s.contentDOM&&s.updateChildren(r,0),s}var sc=class i extends Tn{constructor(t,e,n,r,s,o,a){super(t,e,n,r,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty==Si||this.dirty!=ai&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=ai||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=ai,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,n){let r=this.node.cut(t,e),s=document.createTextNode(r.text);return new i(this.parent,r,this.outerDeco,this.innerDeco,s,s,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Si)}get domAtom(){return!1}isText(t){return this.node.text==t}},oc=class extends pr{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ai&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},_u=class extends Tn{constructor(t,e,n,r,s,o,a,l,c,u){super(t,e,n,r,s,o,a,c,u),this.spec=l}update(t,e,n,r){if(this.dirty==Si)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,e,n);return s&&this.updateInner(t,e,n,r),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function nx(i,t,e){let n=i.firstChild,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==i){for(;a!=n;)n=Tv(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(o instanceof xs){let l=n?n.previousSibling:i.lastChild;nx(o.contentDOM,o.children,e),n=l?l.nextSibling:i.firstChild}}for(;n;)n=Tv(n),r=!0;r&&e.trackWrites==i&&(e.trackWrites=null)}var Go=function(i){i&&(this.nodeName=i)};Go.prototype=Object.create(null);var lr=[new Go];function yu(i,t,e){if(i.length==0)return lr;let n=e?lr[0]:new Go,r=[n];for(let s=0;s<i.length;s++){let o=i[s].type.attrs;if(o){o.nodeName&&r.push(n=new Go(o.nodeName));for(let a in o){let l=o[a];l!=null&&(e&&r.length==1&&r.push(n=new Go(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function rx(i,t,e,n){if(e==lr&&n==lr)return t;let r=t;for(let s=0;s<n.length;s++){let o=n[s],a=e[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=lr[0]),r=l}_k(r,a||lr[0],o)}return r}function _k(i,t,e){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&i.removeAttribute(n);for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&e[n]!=t[n]&&i.setAttribute(n,e[n]);if(t.class!=e.class){let n=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)r.indexOf(n[s])==-1&&i.classList.remove(n[s]);for(let s=0;s<r.length;s++)n.indexOf(r[s])==-1&&i.classList.add(r[s]);i.classList.length==0&&i.removeAttribute("class")}if(t.style!=e.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)i.style.removeProperty(r[1])}e.style&&(i.style.cssText+=e.style)}}function sx(i,t,e){return rx(i,i,lr,yu(t,e,i.nodeType!=1))}function ac(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(t[e].type))return!1;return!0}function Tv(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}var bu=class{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=yk(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=ai,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=xs.create(this.top,t[s],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,e,n,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,e,n,r,s){let o=this.top.children[r];return o.dirty==Si&&o.dom==o.contentDOM&&(o.dirty=ar),o.update(t,e,n,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}t=e}}updateNextNode(t,e,n,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Tn){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,p,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Si&&ac(e,l.outerDeco));if(!f&&l.update(t,e,n,r))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(p=this.recreateWrapper(l,t,e,n,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=ar,p.updateChildren(r,o+1),p.dirty=ai),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,s,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!ac(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=Tn.create(this.top,e,n,r,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,e,n,r,s){let o=Tn.create(this.top,t,e,n,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new rc(this.top,t,e,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof xs;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof sc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((At||xt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new oc(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function yk(i,t){let e=t,n=e.children.length,r=i.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(n){let c=e.children[n-1];if(c instanceof xs)e=c,n=c.children.length;else{a=c,n--;break}}else{if(e==t)break e;n=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function bk(i,t){return i.type.side-t.type.side}function Ck(i,t,e,n){let r=t.locals(i),s=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let u=i.child(c);n(u,r,t.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,p;for(;o<r.length&&r[o].to==s;){let S=r[o++];S.widget&&(u?(p||(p=[u])).push(S):u=S)}if(u)if(p){p.sort(bk);for(let S=0;S<p.length;S++)e(p[S],c,!!l)}else e(u,c,!!l);let f,v;if(l)v=-1,f=l,l=null;else if(c<i.childCount)v=c,f=i.child(c++);else break;for(let S=0;S<a.length;S++)a[S].to<=s&&a.splice(S--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let _=s+f.nodeSize;if(f.isText){let S=_;o<r.length&&r[o].from<S&&(S=r[o].from);for(let I=0;I<a.length;I++)a[I].to<S&&(S=a[I].to);S<_&&(l=f.cut(S-s),f=f.cut(0,S-s),_=S,v=-1)}else for(;o<r.length&&r[o].to<_;)o++;let C=f.isInline&&!f.isLeaf?a.filter(S=>!S.inline):a.slice();n(f,C,t.forChild(s,f),v),s=_}}function wk(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let t=i.style.cssText;i.style.cssText=t+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=t}}function Sk(i,t,e,n){for(let r=0,s=0;r<i.childCount&&s<=n;){let o=i.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<i.childCount;){let c=i.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=e){if(s>=n&&l.slice(n-t.length-a,n-a)==t)return n-t.length;let c=a<n?l.lastIndexOf(t,n-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==n&&l.length>=n+t.length-a&&l.slice(n-a,n-a+t.length)==t)return n}}return-1}function Cu(i,t,e,n,r){let s=[];for(let o=0,a=0;o<i.length;o++){let l=i[o],c=a,u=a+=l.size;c>=e||u<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,n)),r&&(s.push(r),r=void 0),u>e&&s.push(l.slice(e-c,l.size,n)))}return s}function Ou(i,t=null){let e=i.domSelectionRange(),n=i.state.doc;if(!e.focusNode)return null;let r=i.docView.nearestDesc(e.focusNode),s=r&&r.size==0,o=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(fc(e)){for(l=o;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&U.isSelectable(p)&&r.parent&&!(p.isInline&&ZT(e.focusNode,e.focusOffset,r.dom))){let f=r.posBefore;c=new U(o==f?a:n.resolve(f))}}else{if(e instanceof i.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let p=o,f=o;for(let v=0;v<e.rangeCount;v++){let _=e.getRangeAt(v);p=Math.min(p,i.docView.posFromDOM(_.startContainer,_.startOffset,1)),f=Math.max(f,i.docView.posFromDOM(_.endContainer,_.endOffset,-1))}if(p<0)return null;[l,o]=f==i.state.selection.anchor?[f,p]:[p,f],a=n.resolve(o)}else l=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let p=t=="pointer"||i.state.selection.head<a.pos&&!s?1:-1;c=Fu(i,u,a,p)}return c}function ox(i){return i.editable?i.hasFocus():lx(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function Xi(i,t=!1){let e=i.state.selection;if(ax(i,e),!!ox(i)){if(!t&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&xt){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&ur(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)kk(i);else{let{anchor:n,head:r}=e,s,o;kv&&!(e instanceof Ce)&&(e.$from.parent.inlineContent||(s=Ev(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(o=Ev(i,e.to))),i.docView.setSelection(n,r,i,t),kv&&(s&&Av(s),o&&Av(o)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Tk(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}var kv=At||xt&&Qv<63;function Ev(i,t){let{node:e,offset:n}=i.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,s=n?e.childNodes[n-1]:null;if(At&&r&&r.contentEditable=="false")return du(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return du(r);if(s)return du(s)}}function du(i){return i.contentEditable="true",At&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function Av(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function Tk(i){let t=i.dom.ownerDocument;t.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!ox(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function kk(i){let t=i.domSelection(),e=document.createRange();if(!t)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.setStart(n.parentNode,st(n)+1):e.setStart(n,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!i.state.selection.visible&&Nt&&Sn<=11&&(n.disabled=!0,n.disabled=!1)}function ax(i,t){if(t instanceof U){let e=i.docView.descAt(t.from);e!=i.lastSelectedViewDesc&&(Mv(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else Mv(i)}function Mv(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Fu(i,t,e,n){return i.someProp("createSelectionBetween",r=>r(i,t,e))||Ce.between(t,e,n)}function Dv(i){return i.editable&&!i.hasFocus()?!1:lx(i)}function lx(i){let t=i.domSelectionRange();if(!t.anchorNode)return!1;try{return i.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(i.editable||i.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Ek(i){let t=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return ur(t.node,t.offset,e.anchorNode,e.anchorOffset)}function wu(i,t){let{$anchor:e,$head:n}=i.selection,r=t>0?e.max(n):e.min(n),s=r.parent.inlineContent?r.depth?i.doc.resolve(t>0?r.after():r.before()):null:r;return s&&te.findFrom(s,t)}function Cn(i,t){return i.dispatch(i.state.tr.setSelection(t).scrollIntoView()),!0}function Lv(i,t,e){let n=i.state.selection;if(n instanceof Ce)if(e.indexOf("s")>-1){let{$head:r}=n,s=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=i.state.doc.resolve(r.pos+s.nodeSize*(t<0?-1:1));return Cn(i,new Ce(n.$anchor,o))}else if(n.empty){if(i.endOfTextblock(t>0?"forward":"backward")){let r=wu(i.state,t);return r&&r instanceof U?Cn(i,r):!1}else if(!(si&&e.indexOf("m")>-1)){let r=n.$head,s=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=i.docView.descAt(a))&&!o.contentDOM?U.isSelectable(s)?Cn(i,new U(t<0?i.state.doc.resolve(r.pos-s.nodeSize):r)):Ko?Cn(i,new Ce(i.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof U&&n.node.isInline)return Cn(i,new Ce(t>0?n.$to:n.$from));{let r=wu(i.state,t);return r?Cn(i,r):!1}}}function lc(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Uo(i,t){let e=i.pmViewDesc;return e&&e.size==0&&(t<0||i.nextSibling||i.nodeName!="BR")}function ms(i,t){return t<0?Ak(i):Mk(i)}function Ak(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,s,o=!1;for(fi&&e.nodeType==1&&n<lc(e)&&Uo(e.childNodes[n],-1)&&(o=!0);;)if(n>0){if(e.nodeType!=1)break;{let a=e.childNodes[n-1];if(Uo(a,-1))r=e,s=--n;else if(a.nodeType==3)e=a,n=e.nodeValue.length;else break}}else{if(cx(e))break;{let a=e.previousSibling;for(;a&&Uo(a,-1);)r=e.parentNode,s=st(a),a=a.previousSibling;if(a)e=a,n=lc(e);else{if(e=e.parentNode,e==i.dom)break;n=0}}}o?Su(i,e,n):r&&Su(i,r,s)}function Mk(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r=lc(e),s,o;for(;;)if(n<r){if(e.nodeType!=1)break;let a=e.childNodes[n];if(Uo(a,1))s=e,o=++n;else break}else{if(cx(e))break;{let a=e.nextSibling;for(;a&&Uo(a,1);)s=a.parentNode,o=st(a)+1,a=a.nextSibling;if(a)e=a,n=0,r=lc(e);else{if(e=e.parentNode,e==i.dom)break;n=r=0}}}s&&Su(i,s,o)}function cx(i){let t=i.pmViewDesc;return t&&t.node&&t.node.isBlock}function Dk(i,t){for(;i&&t==i.childNodes.length&&!Qo(i);)t=st(i)+1,i=i.parentNode;for(;i&&t<i.childNodes.length;){let e=i.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=0}}function Lk(i,t){for(;i&&!t&&!Qo(i);)t=st(i),i=i.parentNode;for(;i&&t;){let e=i.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=i.childNodes.length}}function Su(i,t,e){if(t.nodeType!=3){let s,o;(o=Dk(t,e))?(t=o,e=0):(s=Lk(t,e))&&(t=s,e=s.nodeValue.length)}let n=i.domSelection();if(!n)return;if(fc(n)){let s=document.createRange();s.setEnd(t,e),s.setStart(t,e),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(t,e);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&Xi(i)},50)}function Iv(i,t){let e=i.state.doc.resolve(t);if(!(xt||ik)&&e.parent.inlineContent){let r=i.coordsAtPos(t);if(t>e.start()){let s=i.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(t<e.end()){let s=i.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function Ov(i,t,e){let n=i.state.selection;if(n instanceof Ce&&!n.empty||e.indexOf("s")>-1||si&&e.indexOf("m")>-1)return!1;let{$from:r,$to:s}=n;if(!r.parent.inlineContent||i.endOfTextblock(t<0?"up":"down")){let o=wu(i.state,t);if(o&&o instanceof U)return Cn(i,o)}if(!r.parent.inlineContent){let o=t<0?r:s,a=n instanceof Yt?te.near(o,t):te.findFrom(o,t);return a?Cn(i,a):!1}return!1}function Fv(i,t){if(!(i.state.selection instanceof Ce))return!0;let{$head:e,$anchor:n,empty:r}=i.state.selection;if(!e.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let o=i.state.tr;return t<0?o.delete(e.pos-s.nodeSize,e.pos):o.delete(e.pos,e.pos+s.nodeSize),i.dispatch(o),!0}return!1}function Nv(i,t,e){i.domObserver.stop(),t.contentEditable=e,i.domObserver.start()}function Ik(i){if(!At||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=i.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;Nv(i,n,"true"),setTimeout(()=>Nv(i,n,"false"),20)}return!1}function Ok(i){let t="";return i.ctrlKey&&(t+="c"),i.metaKey&&(t+="m"),i.altKey&&(t+="a"),i.shiftKey&&(t+="s"),t}function Fk(i,t){let e=t.keyCode,n=Ok(t);if(e==8||si&&e==72&&n=="c")return Fv(i,-1)||ms(i,-1);if(e==46&&!t.shiftKey||si&&e==68&&n=="c")return Fv(i,1)||ms(i,1);if(e==13||e==27)return!0;if(e==37||si&&e==66&&n=="c"){let r=e==37?Iv(i,i.state.selection.from)=="ltr"?-1:1:-1;return Lv(i,r,n)||ms(i,r)}else if(e==39||si&&e==70&&n=="c"){let r=e==39?Iv(i,i.state.selection.from)=="ltr"?1:-1:1;return Lv(i,r,n)||ms(i,r)}else{if(e==38||si&&e==80&&n=="c")return Ov(i,-1,n)||ms(i,-1);if(e==40||si&&e==78&&n=="c")return Ik(i)||Ov(i,1,n)||ms(i,1);if(n==(si?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function dx(i,t){i.someProp("transformCopied",v=>{t=v(t,i)});let e=[],{content:n,openStart:r,openEnd:s}=t;for(;r>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,s--;let v=n.firstChild;e.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),n=v.content}let o=i.someProp("clipboardSerializer")||ji.fromSchema(i.state.schema),a=gx(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,p=0;for(;c&&c.nodeType==1&&(u=fx[c.nodeName.toLowerCase()]);){for(let v=u.length-1;v>=0;v--){let _=a.createElement(u[v]);for(;l.firstChild;)_.appendChild(l.firstChild);l.appendChild(_),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${p?` -${p}`:""} ${JSON.stringify(e)}`);let f=i.someProp("clipboardTextSerializer",v=>v(t,i))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function hx(i,t,e,n,r){let s=r.parent.type.spec.code,o,a;if(!e&&!t)return null;let l=t&&(n||s||!e);if(l){if(i.someProp("transformPastedText",f=>{t=f(t,s||n,i)}),s)return t?new F(L.from(i.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):F.empty;let p=i.someProp("clipboardTextParser",f=>f(t,r,n,i));if(p)a=p;else{let f=r.marks(),{schema:v}=i.state,_=ji.fromSchema(v);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(C=>{let S=o.appendChild(document.createElement("p"));C&&S.appendChild(_.serializeNode(v.text(C,f)))})}}else i.someProp("transformPastedHTML",p=>{e=p(e,i)}),o=Vk(e),Ko&&Bk(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let p=+u[3];p>0;p--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||_n.fromSchema(i.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Nk.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=zk(Rv(a,+u[1],+u[2]),u[4]);else if(a=F.maxOpen(Rk(a.content,r),!0),a.openStart||a.openEnd){let p=0,f=0;for(let v=a.content.firstChild;p<a.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=a.content.lastChild;f<a.openEnd&&!v.type.spec.isolating;f++,v=v.lastChild);a=Rv(a,p,f)}return i.someProp("transformPasted",p=>{a=p(a,i)}),a}var Nk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Rk(i,t){if(i.childCount<2)return i;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),s,o=[];if(i.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&px(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=mx(o[o.length-1],s.length));let u=ux(a,l);o.push(u),r=r.matchType(u.type),s=l}}),o)return L.from(o)}return i}function ux(i,t,e=0){for(let n=t.length-1;n>=e;n--)i=t[n].create(null,L.from(i));return i}function px(i,t,e,n,r){if(r<i.length&&r<t.length&&i[r]==t[r]){let s=px(i,t,e,n.lastChild,r+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?e.type:i[r+1]))return n.copy(n.content.append(L.from(ux(e,i,r+1))))}}function mx(i,t){if(t==0)return i;let e=i.content.replaceChild(i.childCount-1,mx(i.lastChild,t-1)),n=i.contentMatchAt(i.childCount).fillBefore(L.empty,!0);return i.copy(e.append(n))}function Tu(i,t,e,n,r,s){let o=t<0?i.firstChild:i.lastChild,a=o.content;return i.childCount>1&&(s=0),r<n-1&&(a=Tu(a,t,e,n,r+1,s)),r>=e&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(L.empty,!0))),i.replaceChild(t<0?0:i.childCount-1,o.copy(a))}function Rv(i,t,e){return t<i.openStart&&(i=new F(Tu(i.content,-1,t,i.openStart,0,i.openEnd),t,i.openEnd)),e<i.openEnd&&(i=new F(Tu(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}var fx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Pv=null;function gx(){return Pv||(Pv=document.implementation.createHTMLDocument("title"))}var hu=null;function Pk(i){let t=window.trustedTypes;return t?(hu||(hu=t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),hu.createHTML(i)):i}function Vk(i){let t=/^(\s*<meta [^>]*>)*/.exec(i);t&&(i=i.slice(t[0].length));let e=gx().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&fx[n[1].toLowerCase()])&&(i=r.map(s=>"<"+s+">").join("")+i+r.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=Pk(i),r)for(let s=0;s<r.length;s++)e=e.querySelector(r[s])||e;return e}function Bk(i){let t=i.querySelectorAll(xt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function zk(i,t){if(!i.size)return i;let e=i.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return i}let{content:r,openStart:s,openEnd:o}=i;for(let a=n.length-2;a>=0;a-=2){let l=e.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=L.from(l.create(n[a+1],r)),s++,o++}return new F(r,s,o)}var Mt={},Dt={},$k={touchstart:!0,touchmove:!0},ku=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function Hk(i){for(let t in Mt){let e=Mt[t];i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>{Gk(i,n)&&!Nu(i,n)&&(i.editable||!(n.type in Dt))&&e(i,n)},$k[t]?{passive:!0}:void 0)}At&&i.dom.addEventListener("input",()=>null),Eu(i)}function wn(i,t){i.input.lastSelectionOrigin=t,i.input.lastSelectionTime=Date.now()}function jk(i){i.domObserver.stop();for(let t in i.input.eventHandlers)i.dom.removeEventListener(t,i.input.eventHandlers[t]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Eu(i){i.someProp("handleDOMEvents",t=>{for(let e in t)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>Nu(i,n))})}function Nu(i,t){return i.someProp("handleDOMEvents",e=>{let n=e[t.type];return n?n(i,t)||t.defaultPrevented:!1})}function Gk(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=i.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function Uk(i,t){!Nu(i,t)&&Mt[t.type]&&(i.editable||!(t.type in Dt))&&Mt[t.type](i,t)}Dt.keydown=(i,t)=>{let e=t;if(i.input.shiftKey=e.keyCode==16||e.shiftKey,!xx(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!(qi&&xt&&e.keyCode==13)))if(e.keyCode!=229&&i.domObserver.forceFlush(),vs&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,or(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,e))||Fk(i,e)?e.preventDefault():wn(i,"key")};Dt.keyup=(i,t)=>{t.keyCode==16&&(i.input.shiftKey=!1)};Dt.keypress=(i,t)=>{let e=t;if(xx(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||si&&e.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,e))){e.preventDefault();return}let n=i.state.selection;if(!(n instanceof Ce)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(e.charCode);!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",s=>s(i,n.$from.pos,n.$to.pos,r))&&i.dispatch(i.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}};function gc(i){return{left:i.clientX,top:i.clientY}}function Wk(i,t){let e=t.x-i.clientX,n=t.y-i.clientY;return e*e+n*n<100}function Ru(i,t,e,n,r){if(n==-1)return!1;let s=i.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(i.someProp(t,a=>o>s.depth?a(i,e,s.nodeAfter,s.before(o),r,!0):a(i,e,s.node(o),s.before(o),r,!1)))return!0;return!1}function gs(i,t,e){if(i.focused||i.focus(),i.state.selection.eq(t))return;let n=i.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),i.dispatch(n)}function qk(i,t){if(t==-1)return!1;let e=i.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&U.isSelectable(n)?(gs(i,new U(e),"pointer"),!0):!1}function Xk(i,t){if(t==-1)return!1;let e=i.state.selection,n,r;e instanceof U&&(n=e.node);let s=i.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(U.isSelectable(a)){n&&e.$from.depth>0&&o>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?r=s.before(e.$from.depth):r=s.before(o);break}}return r!=null?(gs(i,U.create(i.state.doc,r),"pointer"),!0):!1}function Yk(i,t,e,n,r){return Ru(i,"handleClickOn",t,e,n)||i.someProp("handleClick",s=>s(i,t,n))||(r?Xk(i,e):qk(i,e))}function Qk(i,t,e,n){return Ru(i,"handleDoubleClickOn",t,e,n)||i.someProp("handleDoubleClick",r=>r(i,t,n))}function Kk(i,t,e,n){return Ru(i,"handleTripleClickOn",t,e,n)||i.someProp("handleTripleClick",r=>r(i,t,n))||Jk(i,e,n)}function Jk(i,t,e){if(e.button!=0)return!1;let n=i.state.doc;if(t==-1)return n.inlineContent?(gs(i,Ce.create(n,0,n.content.size),"pointer"),!0):!1;let r=n.resolve(t);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)gs(i,Ce.create(n,a+1,a+1+o.content.size),"pointer");else if(U.isSelectable(o))gs(i,U.create(n,a),"pointer");else continue;return!0}}function Pu(i){return cc(i)}var vx=si?"metaKey":"ctrlKey";Mt.mousedown=(i,t)=>{let e=t;i.input.shiftKey=e.shiftKey;let n=Pu(i),r=Date.now(),s="singleClick";r-i.input.lastClick.time<500&&Wk(e,i.input.lastClick)&&!e[vx]&&(i.input.lastClick.type=="singleClick"?s="doubleClick":i.input.lastClick.type=="doubleClick"&&(s="tripleClick")),i.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:s};let o=i.posAtCoords(gc(e));o&&(s=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new Au(i,o,e,!!n)):(s=="doubleClick"?Qk:Kk)(i,o.pos,o.inside,e)?e.preventDefault():wn(i,"pointer"))};var Au=class{constructor(t,e,n,r){this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[vx],this.allowDefault=n.shiftKey;let s,o;if(e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside;else{let u=t.state.doc.resolve(e.pos);s=u.parent,o=u.depth?u.before():0}let a=r?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof U&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),wn(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(gc(t))),this.updateAllowDefault(t),this.allowDefault||!e?wn(this.view,"pointer"):Yk(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||At&&this.mightDrag&&!this.mightDrag.node.isAtom||xt&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(gs(this.view,te.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):wn(this.view,"pointer")}move(t){this.updateAllowDefault(t),wn(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};Mt.touchstart=i=>{i.input.lastTouch=Date.now(),Pu(i),wn(i,"pointer")};Mt.touchmove=i=>{i.input.lastTouch=Date.now(),wn(i,"pointer")};Mt.contextmenu=i=>Pu(i);function xx(i,t){return i.composing?!0:At&&Math.abs(t.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}var Zk=qi?5e3:-1;Dt.compositionstart=Dt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:t}=i,e=t.selection.$to;if(t.selection instanceof Ce&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||e.marks(),cc(i,!0),i.markCursor=null;else if(cc(i,!t.selection.empty),fi&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,s=n.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=i.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}i.input.composing=!0}_x(i,Zk)};Dt.compositionend=(i,t)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,_x(i,20))};function _x(i,t){clearTimeout(i.input.composingTimeout),t>-1&&(i.input.composingTimeout=setTimeout(()=>cc(i),t))}function yx(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t2());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function e2(i){let t=i.domSelectionRange();if(!t.focusNode)return null;let e=KT(t.focusNode,t.focusOffset),n=JT(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let r=n.pmViewDesc,s=i.domObserver.lastChangedTextNode;if(e==s||n==s)return s;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let o=e.pmViewDesc;if(!(!o||!o.isText(e.nodeValue)))return n}}return e||n}function t2(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function cc(i,t=!1){if(!(qi&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),yx(i),t||i.docView&&i.docView.dirty){let e=Ou(i);return e&&!e.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(e)):(i.markCursor||t)&&!i.state.selection.empty?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function i2(i,t){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}var qo=Nt&&Sn<15||vs&&nk<604;Mt.copy=Dt.cut=(i,t)=>{let e=t,n=i.state.selection,r=e.type=="cut";if(n.empty)return;let s=qo?null:e.clipboardData,o=n.content(),{dom:a,text:l}=dx(i,o);s?(e.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):i2(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function n2(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function r2(i,t){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),e?Xo(i,n.value,null,r,t):Xo(i,n.textContent,n.innerHTML,r,t)},50)}function Xo(i,t,e,n,r){let s=hx(i,t,e,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,s||F.empty)))return!0;if(!s)return!1;let o=n2(s),a=o?i.state.tr.replaceSelectionWith(o,n):i.state.tr.replaceSelection(s);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function bx(i){let t=i.getData("text/plain")||i.getData("Text");if(t)return t;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Dt.paste=(i,t)=>{let e=t;if(i.composing&&!qi)return;let n=qo?null:e.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Xo(i,bx(n),n.getData("text/html"),r,e)?e.preventDefault():r2(i,e)};var dc=class{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}},Cx=si?"altKey":"ctrlKey";Mt.dragstart=(i,t)=>{let e=t,n=i.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let r=i.state.selection,s=r.empty?null:i.posAtCoords(gc(e)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof U?r.to-1:r.to))){if(n&&n.mightDrag)o=U.create(i.state.doc,n.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let p=i.docView.nearestDesc(e.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&(o=U.create(i.state.doc,p.posBefore))}}let a=(o||i.state.selection).content(),{dom:l,text:c,slice:u}=dx(i,a);(!e.dataTransfer.files.length||!xt||Qv>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(qo?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",qo||e.dataTransfer.setData("text/plain",c),i.dragging=new dc(u,!e[Cx],o)};Mt.dragend=i=>{let t=i.dragging;window.setTimeout(()=>{i.dragging==t&&(i.dragging=null)},50)};Dt.dragover=Dt.dragenter=(i,t)=>t.preventDefault();Dt.drop=(i,t)=>{let e=t,n=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let r=i.posAtCoords(gc(e));if(!r)return;let s=i.state.doc.resolve(r.pos),o=n&&n.slice;o?i.someProp("transformPasted",_=>{o=_(o,i)}):o=hx(i,bx(e.dataTransfer),qo?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&!e[Cx]);if(i.someProp("handleDrop",_=>_(i,e,o||F.empty,a))){e.preventDefault();return}if(!o)return;e.preventDefault();let l=o?nv(i.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=i.state.tr;if(a){let{node:_}=n;_?_.replace(c):c.deleteSelection()}let u=c.mapping.map(l),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(p?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let v=c.doc.resolve(u);if(p&&U.isSelectable(o.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new U(v));else{let _=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((C,S,I,ie)=>_=ie),c.setSelection(Fu(i,v,c.doc.resolve(_)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))};Mt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&Xi(i)},20))};Mt.blur=(i,t)=>{let e=t;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};Mt.beforeinput=(i,t)=>{if(xt&&qi&&t.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",s=>s(i,or(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in Dt)Mt[i]=Dt[i];function Yo(i,t){if(i==t)return!0;for(let e in i)if(i[e]!==t[e])return!1;for(let e in t)if(!(e in i))return!1;return!0}var hc=class i{constructor(t,e){this.toDOM=t,this.spec=e||dr,this.side=this.spec.side||0}map(t,e,n,r){let{pos:s,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new Ti(s-n,s-n,this)}valid(){return!0}eq(t){return this==t||t instanceof i&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Yo(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},cr=class i{constructor(t,e){this.attrs=t,this.spec=e||dr}map(t,e,n,r){let s=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new Ti(s,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof i&&Yo(this.attrs,t.attrs)&&Yo(this.spec,t.spec)}static is(t){return t.type instanceof i}destroy(){}},Mu=class i{constructor(t,e){this.attrs=t,this.spec=e||dr}map(t,e,n,r){let s=t.mapResult(e.from+r,1);if(s.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=s.pos?null:new Ti(s.pos-n,o.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),s;return r==e.from&&!(s=t.child(n)).isText&&r+s.nodeSize==e.to}eq(t){return this==t||t instanceof i&&Yo(this.attrs,t.attrs)&&Yo(this.spec,t.spec)}destroy(){}},Ti=class i{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new i(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new i(t,t,new hc(e,n))}static inline(t,e,n,r){return new i(t,e,new cr(n,r))}static node(t,e,n,r){return new i(t,e,new Mu(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof cr}get widget(){return this.type instanceof hc}},fs=[],dr={},Et=class i{constructor(t,e){this.local=t.length?t:fs,this.children=e.length?e:fs}static create(t,e){return e.length?pc(e,t,0,dr):vt}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!s||s(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,n,r+a,s)}}map(t,e,n){return this==vt||t.maps.length==0?this:this.mapInner(t,e,0,0,n||dr)}mapInner(t,e,n,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,n,r);l&&l.type.valid(e,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?s2(this.children,o||[],t,e,n,r,s):o?new i(o.sort(hr),fs):vt}add(t,e){return e.length?this==vt?i.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,s=0;t.forEach((a,l)=>{let c=l+n,u;if(u=Sx(e,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,u,c+1):r.splice(s,0,l,l+a.nodeSize,pc(u,a,c+1,dr)),s+=3}});let o=wx(s?Tx(e):e,-n);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new i(o.length?this.local.concat(o).sort(hr):this.local,r||this.children)}remove(t){return t.length==0||this==vt?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+e,l=n[s+1]+e;for(let u=0,p;u<t.length;u++)(p=t[u])&&p.from>a&&p.to<l&&(t[u]=null,(o||(o=[])).push(p));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(o,a+1);c!=vt?n[s+2]=c:(n.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<r.length;a++)r[a].eq(o,e)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new i(r,n):vt}forChild(t,e){if(this==vt)return this;if(e.isLeaf)return i.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let s=t+1,o=s+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof cr){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){let a=new i(r.sort(hr),fs);return n?new uc([a,n]):a}return n||vt}eq(t){if(this==t)return!0;if(!(t instanceof i)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Vu(this.localsInner(t))}localsInner(t){if(this==vt)return fs;if(t.inlineContent||!this.local.some(cr.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof cr||e.push(this.local[n]);return e}forEachSet(t){t(this)}};Et.empty=new Et([],[]);Et.removeOverlap=Vu;var vt=Et.empty,uc=class i{constructor(t){this.members=t}map(t,e){let n=this.members.map(r=>r.map(t,e,dr));return i.from(n)}forChild(t,e){if(e.isLeaf)return Et.empty;let n=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(t,e);s!=vt&&(s instanceof i?n=n.concat(s.members):n.push(s))}return i.from(n)}eq(t){if(!(t instanceof i)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(t);if(s.length)if(!e)e=s;else{n&&(e=e.slice(),n=!1);for(let o=0;o<s.length;o++)e.push(s[o])}}return e?Vu(n?e:e.sort(hr)):fs}static from(t){switch(t.length){case 0:return vt;case 1:return t[0];default:return new i(t.every(e=>e instanceof Et)?t:t.reduce((e,n)=>e.concat(n instanceof Et?n:n.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function s2(i,t,e,n,r,s,o){let a=i.slice();for(let c=0,u=s;c<e.maps.length;c++){let p=0;e.maps[c].forEach((f,v,_,C)=>{let S=C-_-(v-f);for(let I=0;I<a.length;I+=3){let ie=a[I+1];if(ie<0||f>ie+u-p)continue;let G=a[I]+u-p;v>=G?a[I+1]=f<=G?-2:-1:f>=u&&S&&(a[I]+=S,a[I+1]+=S)}p+=S}),u=e.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=e.map(i[c]+s),p=u-r;if(p<0||p>=n.content.size){l=!0;continue}let f=e.map(i[c+1]+s,-1),v=f-r,{index:_,offset:C}=n.content.findIndex(p),S=n.maybeChild(_);if(S&&C==p&&C+S.nodeSize==v){let I=a[c+2].mapInner(e,S,u+1,i[c]+s+1,o);I!=vt?(a[c]=p,a[c+1]=v,a[c+2]=I):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=o2(a,i,t,e,r,s,o),u=pc(c,n,0,o);t=u.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,f=0;p<u.children.length;p+=3){let v=u.children[p];for(;f<a.length&&a[f]<v;)f+=3;a.splice(f,0,u.children[p],u.children[p+1],u.children[p+2])}}return new Et(t.sort(hr),a)}function wx(i,t){if(!t||!i.length)return i;let e=[];for(let n=0;n<i.length;n++){let r=i[n];e.push(new Ti(r.from+t,r.to+t,r.type))}return e}function o2(i,t,e,n,r,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let p=l.local[u].map(n,r,c);p?e.push(p):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],t[l]+s+1);return e}function Sx(i,t,e){if(t.isLeaf)return null;let n=e+t.nodeSize,r=null;for(let s=0,o;s<i.length;s++)(o=i[s])&&o.from>e&&o.to<n&&((r||(r=[])).push(o),i[s]=null);return r}function Tx(i){let t=[];for(let e=0;e<i.length;e++)i[e]!=null&&t.push(i[e]);return t}function pc(i,t,e,n){let r=[],s=!1;t.forEach((a,l)=>{let c=Sx(i,a,l+e);if(c){s=!0;let u=pc(c,a,e+l+1,n);u!=vt&&r.push(l,l+a.nodeSize,u)}});let o=wx(s?Tx(i):i,-e).sort(hr);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new Et(o,r):vt}function hr(i,t){return i.from-t.from||i.to-t.to}function Vu(i){let t=i;for(let e=0;e<t.length-1;e++){let n=t[e];if(n.from!=n.to)for(let r=e+1;r<t.length;r++){let s=t[r];if(s.from==n.from){s.to!=n.to&&(t==i&&(t=i.slice()),t[r]=s.copy(s.from,n.to),Vv(t,r+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(t==i&&(t=i.slice()),t[e]=n.copy(n.from,s.from),Vv(t,r,n.copy(s.from,n.to)));break}}}return t}function Vv(i,t,e){for(;t<i.length&&hr(e,i[t])>0;)t++;i.splice(t,0,e)}function uu(i){let t=[];return i.someProp("decorations",e=>{let n=e(i.state);n&&n!=vt&&t.push(n)}),i.cursorWrapper&&t.push(Et.create(i.state.doc,[i.cursorWrapper.deco])),uc.from(t)}var a2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},l2=Nt&&Sn<=11,Du=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},Lu=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Du,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Nt&&Sn<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),l2&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,a2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Dv(this.view)){if(this.suppressingSelectionUpdates)return Xi(this.view);if(Nt&&Sn<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ur(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let s=t.focusNode;s;s=Wo(s))e.add(s);for(let s=t.anchorNode;s;s=Wo(s))if(e.has(s)){n=s;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Dv(t)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let u=0;u<e.length;u++){let p=this.registerMutation(e[u],l);p&&(s=s<0?p.from:Math.min(p.from,s),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(a=!0))}if(fi&&l.length){let u=l.filter(p=>p.nodeName=="BR");if(u.length==2){let[p,f]=u;p.parentNode&&p.parentNode.parentNode==f.parentNode?f.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let f of u){let v=f.parentNode;v&&v.nodeName=="LI"&&(!p||h2(t,p)!=v)&&f.remove()}}}let c=null;s<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&fc(n)&&(c=Ou(t))&&c.eq(te.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Xi(t),this.currentSelection.set(n),t.scrollToSelection()):(s>-1||r)&&(s>-1&&(t.docView.markDirty(s,o),c2(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Xi(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let p=t.addedNodes[u];e.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,s=t.nextSibling;if(Nt&&Sn<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:p,nextSibling:f}=t.addedNodes[u];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(r=p),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=r&&r.parentNode==t.target?st(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?st(s):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},Bv=new WeakMap,zv=!1;function c2(i){if(!Bv.has(i)&&(Bv.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=fi,zv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zv=!0}}function $v(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,s=t.endOffset,o=i.domAtPos(i.state.selection.anchor);return ur(o.node,o.offset,r,s)&&([e,n,r,s]=[r,s,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:s}}function d2(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return $v(i,r)}let e;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),e?$v(i,e):null}function h2(i,t){for(let e=t.parentNode;e&&e!=i.dom;e=e.parentNode){let n=i.docView.nearestDesc(e,!0);if(n&&n.node.isBlock)return e}return null}function u2(i,t,e){let{node:n,fromOffset:r,toOffset:s,from:o,to:a}=i.docView.parseRange(t,e),l=i.domSelectionRange(),c,u=l.anchorNode;if(u&&i.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],fc(l)||c.push({node:l.focusNode,offset:l.focusOffset})),xt&&i.input.lastKeyCode===8)for(let S=s;S>r;S--){let I=n.childNodes[S-1],ie=I.pmViewDesc;if(I.nodeName=="BR"&&!ie){s=S;break}if(!ie||ie.size)break}let p=i.state.doc,f=i.someProp("domParser")||_n.fromSchema(i.state.schema),v=p.resolve(o),_=null,C=f.parse(n,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:r,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:p2,context:v});if(c&&c[0].pos!=null){let S=c[0].pos,I=c[1]&&c[1].pos;I==null&&(I=S),_={anchor:S+o,head:I+o}}return{doc:C,sel:_,from:o,to:a}}function p2(i){let t=i.pmViewDesc;if(t)return t.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(At&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(i.parentNode.lastChild==i||At&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}var m2=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function f2(i,t,e,n,r){let s=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,t<0){let ce=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,ci=Ou(i,ce);if(ci&&!i.state.selection.eq(ci)){if(xt&&qi&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",Fi=>Fi(i,or(13,"Enter"))))return;let re=i.state.tr.setSelection(ci);ce=="pointer"?re.setMeta("pointer",!0):ce=="key"&&re.scrollIntoView(),s&&re.setMeta("composition",s),i.dispatch(re)}return}let o=i.state.doc.resolve(t),a=o.sharedDepth(e);t=o.before(a+1),e=i.state.doc.resolve(e).after(a+1);let l=i.state.selection,c=u2(i,t,e),u=i.state.doc,p=u.slice(c.from,c.to),f,v;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(f=i.state.selection.to,v="end"):(f=i.state.selection.from,v="start"),i.input.lastKeyCode=null;let _=x2(p.content,c.doc.content,c.from,f,v);if(_&&i.input.domChangeCount++,(vs&&i.input.lastIOSEnter>Date.now()-225||qi)&&r.some(ce=>ce.nodeType==1&&!m2.test(ce.nodeName))&&(!_||_.endA>=_.endB)&&i.someProp("handleKeyDown",ce=>ce(i,or(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!_)if(n&&l instanceof Ce&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))_={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let ce=Hv(i,i.state.doc,c.sel);if(ce&&!ce.eq(i.state.selection)){let ci=i.state.tr.setSelection(ce);s&&ci.setMeta("composition",s),i.dispatch(ci)}}return}i.state.selection.from<i.state.selection.to&&_.start==_.endB&&i.state.selection instanceof Ce&&(_.start>i.state.selection.from&&_.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?_.start=i.state.selection.from:_.endA<i.state.selection.to&&_.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(_.endB+=i.state.selection.to-_.endA,_.endA=i.state.selection.to)),Nt&&Sn<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>c.from&&c.doc.textBetween(_.start-c.from-1,_.start-c.from+1)==" \xA0"&&(_.start--,_.endA--,_.endB--);let C=c.doc.resolveNoCache(_.start-c.from),S=c.doc.resolveNoCache(_.endB-c.from),I=u.resolve(_.start),ie=C.sameParent(S)&&C.parent.inlineContent&&I.end()>=_.endA,G;if((vs&&i.input.lastIOSEnter>Date.now()-225&&(!ie||r.some(ce=>ce.nodeName=="DIV"||ce.nodeName=="P"))||!ie&&C.pos<c.doc.content.size&&!C.sameParent(S)&&(G=te.findFrom(c.doc.resolve(C.pos+1),1,!0))&&G.head==S.pos)&&i.someProp("handleKeyDown",ce=>ce(i,or(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>_.start&&v2(u,_.start,_.endA,C,S)&&i.someProp("handleKeyDown",ce=>ce(i,or(8,"Backspace")))){qi&&xt&&i.domObserver.suppressSelectionUpdates();return}xt&&_.endB==_.start&&(i.input.lastChromeDelete=Date.now()),qi&&!ie&&C.start()!=S.start()&&S.parentOffset==0&&C.depth==S.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==_.endA&&(_.endB-=2,S=c.doc.resolveNoCache(_.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(ce){return ce(i,or(13,"Enter"))})},20));let Ve=_.start,ke=_.endA,et,Ps,Pn;if(ie){if(C.pos==S.pos)Nt&&Sn<=11&&C.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xi(i),20)),et=i.state.tr.delete(Ve,ke),Ps=u.resolve(_.start).marksAcross(u.resolve(_.endA));else if(_.endA==_.endB&&(Pn=g2(C.parent.content.cut(C.parentOffset,S.parentOffset),I.parent.content.cut(I.parentOffset,_.endA-I.start()))))et=i.state.tr,Pn.type=="add"?et.addMark(Ve,ke,Pn.mark):et.removeMark(Ve,ke,Pn.mark);else if(C.parent.child(C.index()).isText&&C.index()==S.index()-(S.textOffset?0:1)){let ce=C.parent.textBetween(C.parentOffset,S.parentOffset);if(i.someProp("handleTextInput",ci=>ci(i,Ve,ke,ce)))return;et=i.state.tr.insertText(ce,Ve,ke)}}if(et||(et=i.state.tr.replace(Ve,ke,c.doc.slice(_.start-c.from,_.endB-c.from))),c.sel){let ce=Hv(i,et.doc,c.sel);ce&&!(xt&&i.composing&&ce.empty&&(_.start!=_.endB||i.input.lastChromeDelete<Date.now()-100)&&(ce.head==Ve||ce.head==et.mapping.map(ke)-1)||Nt&&ce.empty&&ce.head==Ve)&&et.setSelection(ce)}Ps&&et.ensureMarks(Ps),s&&et.setMeta("composition",s),i.dispatch(et.scrollIntoView())}function Hv(i,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Fu(i,t.resolve(e.anchor),t.resolve(e.head))}function g2(i,t){let e=i.firstChild.marks,n=t.firstChild.marks,r=e,s=n,o,a,l;for(let u=0;u<n.length;u++)r=n[u].removeFromSet(r);for(let u=0;u<e.length;u++)s=e[u].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(L.from(c).eq(i))return{mark:a,type:o}}function v2(i,t,e,n,r){if(e-t<=r.pos-n.pos||pu(n,!0,!1)<r.pos)return!1;let s=i.resolve(t);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&e==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=i.resolve(pu(s,!0,!0));return!o.parent.isTextblock||o.pos>e||pu(o,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function pu(i,t,e){let n=i.depth,r=t?i.end():i.pos;for(;n>0&&(t||i.indexAfter(n)==i.node(n).childCount);)n--,r++,t=!1;if(e){let s=i.node(n).maybeChild(i.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function x2(i,t,e,n,r){let s=i.findDiffStart(t,e);if(s==null)return null;let{a:o,b:a}=i.findDiffEnd(t,e+i.size,e+t.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&i.size<t.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<t.size&&jv(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<i.size&&jv(i.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function jv(i){if(i.length!=2)return!1;let t=i.charCodeAt(0),e=i.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var mc=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ku,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Xv),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Wv(this),Uv(this),this.nodeViews=qv(this),this.docView=Sv(this.state.doc,Gv(this),uu(this),this.dom,this),this.domObserver=new Lu(this,(n,r,s,o)=>f2(this,n,r,s,o)),this.domObserver.start(),Hk(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Eu(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Xv),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(yx(this),o=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(a||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let v=qv(this);y2(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(a||e.handleDOMEvents!=this._props.handleDOMEvents)&&Eu(this),this.editable=Wv(this),Uv(this);let l=uu(this),c=Gv(this),u=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(t.doc,c,l);(p||!t.selection.eq(r.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&ok(this);if(o){this.domObserver.stop();let v=p&&(Nt||xt)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&_2(r.selection,t.selection);if(p){let _=xt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=e2(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Sv(t.doc,c,l,this.dom,this)),_&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ek(this))?Xi(this,v):(ax(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&ak(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof U){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&xv(this,e.getBoundingClientRect(),t)}else xv(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}}updateDraggedNode(t,e){let n=t.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let s=n.from+(this.state.doc.content.size-e.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(r=s)}this.dragging=new dc(t.slice,t.move,r<0?void 0:U.create(this.state.doc,r))}someProp(t,e){let n=this._props&&this._props[t],r;if(n!=null&&(r=e?e(n):n))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(r=e?e(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(r=e?e(a):a))return r}}hasFocus(){if(Nt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&lk(this.dom),Xi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return pk(this,t)}coordsAtPos(t,e=1){return tx(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return xk(this,e||this.state,t)}pasteHTML(t,e){return Xo(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Xo(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(jk(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],uu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,YT())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Uk(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?At&&this.root.nodeType===11&&ek(this.dom.ownerDocument)==this.dom&&d2(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function Gv(i){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(i.editable),i.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(i.state)),e)for(let n in e)n=="class"?t.class+=" "+e[n]:n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),t.translate||(t.translate="no"),[Ti.node(0,i.state.doc.content.size,t)]}function Uv(i){if(i.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),i.cursorWrapper={dom:t,deco:Ti.widget(i.state.selection.from,t,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function Wv(i){return!i.someProp("editable",t=>t(i.state)===!1)}function _2(i,t){let e=Math.min(i.$anchor.sharedDepth(i.head),t.$anchor.sharedDepth(t.head));return i.$anchor.start(e)!=t.$anchor.start(e)}function qv(i){let t=Object.create(null);function e(n){for(let r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}return i.someProp("nodeViews",e),i.someProp("markViews",e),t}function y2(i,t){let e=0,n=0;for(let r in i){if(i[r]!=t[r])return!0;e++}for(let r in t)n++;return e!=n}function Xv(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var b2=["ol",0],C2=["ul",0],w2=["li",0],kx={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(i){return{order:i.hasAttribute("start")?+i.getAttribute("start"):1}}}],toDOM(i){return i.attrs.order==1?b2:["ol",{start:i.attrs.order},0]}},Ex={parseDOM:[{tag:"ul"}],toDOM(){return C2}},Ax={parseDOM:[{tag:"li"}],toDOM(){return w2},defining:!0};function Mx(i,t=null){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s);if(!o)return!1;let a=n?e.tr:null;return S2(a,o,i,t)?(n&&n(a.scrollIntoView()),!0):!1}}function S2(i,t,e,n=null){let r=!1,s=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=o.resolve(t.start-2);s=new er(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new er(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=ds(s,e,n,t);return a?(i&&T2(i,t,a,r,e),!0):!1}function T2(i,t,e,n,r){let s=L.empty;for(let u=e.length-1;u>=0;u--)s=L.from(e[u].type.create(e[u].attrs,s));i.step(new Ze(t.start-(n?2:0),t.end,t.start,t.end,new F(s,0,0),e.length,!0));let o=0;for(let u=0;u<e.length;u++)e[u].type==r&&(o=u+1);let a=e.length-o,l=t.start+e.length-(n?2:0),c=t.parent;for(let u=t.startIndex,p=t.endIndex,f=!0;u<p;u++,f=!1)!f&&yn(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return i}function Dx(i,t){return function(e,n){let{$from:r,$to:s,node:o}=e.selection;if(o&&o.isBlock||r.depth<2||!r.sameParent(s))return!1;let a=r.node(-1);if(a.type!=i)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let p=L.empty,f=r.index(-1)?1:r.index(-2)?2:3;for(let I=r.depth-f;I>=r.depth-3;I--)p=L.from(r.node(I).copy(p));let v=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;p=p.append(L.from(i.createAndFill()));let _=r.before(r.depth-(f-1)),C=e.tr.replace(_,r.after(-v),new F(p,4-f,0)),S=-1;C.doc.nodesBetween(_,C.doc.content.size,(I,ie)=>{if(S>-1)return!1;I.isTextblock&&I.content.size==0&&(S=ie+1)}),S>-1&&C.setSelection(te.near(C.doc.resolve(S))),n(C.scrollIntoView())}return!0}let l=s.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,s.pos),u=l?[t?{type:i,attrs:t}:null,{type:l}]:void 0;return yn(c.doc,r.pos,2,u)?(n&&n(c.split(r.pos,2,u).scrollIntoView()),!0):!1}}function Bu(i){return function(t,e){let{$from:n,$to:r}=t.selection,s=n.blockRange(r,o=>o.childCount>0&&o.firstChild.type==i);return s?e?n.node(s.depth-1).type==i?k2(t,e,i,s):E2(t,e,s):!0:!1}}function k2(i,t,e,n){let r=i.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(r.step(new Ze(s-1,o,s,o,new F(L.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new er(r.doc.resolve(n.$from.pos),r.doc.resolve(o),n.depth));let a=nr(n);if(a==null)return!1;r.lift(n,a);let l=r.mapping.map(s,-1)-1;return rr(r.doc,l)&&r.join(l),t(r.scrollIntoView()),!0}function E2(i,t,e){let n=i.tr,r=e.parent;for(let v=e.end,_=e.endIndex-1,C=e.startIndex;_>C;_--)v-=r.child(_).nodeSize,n.delete(v-1,v+1);let s=n.doc.resolve(e.start),o=s.nodeAfter;if(n.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,l=e.endIndex==r.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?L.empty:L.from(r))))return!1;let p=s.pos,f=p+o.nodeSize;return n.step(new Ze(p-(a?1:0),f+(l?1:0),p+1,f-1,new F((a?L.empty:L.from(r.copy(L.empty))).append(l?L.empty:L.from(r.copy(L.empty))),a?0:1,l?0:1),a?0:1)),t(n.scrollIntoView()),!0}function zu(i){return function(t,e){let{$from:n,$to:r}=t.selection,s=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=i)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,u=L.from(c?i.create():null),p=new F(L.from(i.create(null,L.from(a.type.create(null,u)))),c?3:1,0),f=s.start,v=s.end;e(t.tr.step(new Ze(f-(c?3:1),v,f,v,p,1,!0)).scrollIntoView())}return!0}}var M2={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(i){return{href:i.getAttribute("href"),title:i.getAttribute("title"),target:i.getAttribute("target")}}}],toDOM(i){let{href:t,title:e,target:n}=i.attrs;return["a",{href:t,title:e,target:n},0]}},D2={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},L2={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(i)&&null}],toDOM(){return["strong",0]}},I2={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},O2={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},F2={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},N2={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:i=>({color:i})}],toDOM(i){let{color:t}=i.attrs;return["span",{style:`color:${t};`},0]}},R2={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:i=>({backgroundColor:i})}],toDOM(i){let{backgroundColor:t}=i.attrs;return["span",{style:`background-color:${t};`},0]}},P2={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},V2={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},B2={link:M2,em:D2,strong:L2,code:I2,u:O2,s:F2,text_color:N2,text_background_color:R2,sup:P2,sub:V2},z2={content:"block+"},$2={group:"inline"},H2={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{align:t,indent:e}=i.attrs,n={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:$l(n)||null,"data-indent":e??null},0]}},j2={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(i){let t=i.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(i){let{indent:t}=i.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:$l(e)||null,"data-indent":t??null},0]}},G2={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},U2={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{level:t,align:e,indent:n}=i.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null},o={style:$l(r)||null,"data-indent":n??null};return[`h${t}`,o,0]}},W2={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},q2={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},X2={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(i){return{src:i.getAttribute("src"),title:i.getAttribute("title"),alt:i.getAttribute("alt"),width:i.getAttribute("width")}}}],toDOM(i){let{src:t,alt:e,title:n,width:r}=i.attrs;return["img",{src:t,alt:e,title:n,width:r}]}},Y2=Q(M({},Ax),{content:"paragraph block*"}),Q2=Q(M({},kx),{content:"list_item+",group:"block"}),K2=Q(M({},Ex),{content:"list_item+",group:"block"}),J2={doc:z2,text:$2,paragraph:H2,blockquote:j2,horizontal_rule:G2,heading:U2,hard_break:q2,code_block:W2,image:X2,list_item:Y2,ordered_list:Q2,bullet_list:K2},En=new Xl({marks:B2,nodes:J2});var Ix=(i,t)=>i.selection.empty?!1:(t&&t(i.tr.deleteSelection().scrollIntoView()),!0);function Z2(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("backward",i):e.parentOffset>0)?null:e}var eE=(i,t,e)=>{let n=Z2(i,e);if(!n)return!1;let r=Ox(n);if(!r){let o=n.blockRange(),a=o&&nr(o);return a==null?!1:(t&&t(i.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(Rx(i,r,t,-1))return!0;if(n.parent.content.size==0&&(_s(s,"end")||U.isSelectable(s)))for(let o=n.depth;;o--){let a=ec(i.doc,n.before(o),n.after(o),F.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=i.tr.step(a);l.setSelection(_s(s,"end")?te.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):U.create(l.doc,r.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1};function _s(i,t,e=!1){for(let n=i;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}var tE=(i,t,e)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):n.parentOffset>0)return!1;s=Ox(n)}let o=s&&s.nodeBefore;return!o||!U.isSelectable(o)?!1:(t&&t(i.tr.setSelection(U.create(i.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Ox(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){if(i.index(t)>0)return i.doc.resolve(i.before(t+1));if(i.node(t).type.spec.isolating)break}return null}function iE(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}var nE=(i,t,e)=>{let n=iE(i,e);if(!n)return!1;let r=Fx(n);if(!r)return!1;let s=r.nodeAfter;if(Rx(i,r,t,1))return!0;if(n.parent.content.size==0&&(_s(s,"start")||U.isSelectable(s))){let o=ec(i.doc,n.before(),n.after(),F.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=i.tr.step(o);a.setSelection(_s(s,"start")?te.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):U.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},rE=(i,t,e)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;s=Fx(n)}let o=s&&s.nodeAfter;return!o||!U.isSelectable(o)?!1:(t&&t(i.tr.setSelection(U.create(i.doc,s.pos)).scrollIntoView()),!0)};function Fx(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){let e=i.node(t);if(i.index(t)+1<e.childCount)return i.doc.resolve(i.after(t+1));if(e.type.spec.isolating)break}return null}var Nx=(i,t)=>{let{$from:e,$to:n}=i.selection,r=e.blockRange(n),s=r&&nr(r);return s==null?!1:(t&&t(i.tr.lift(r,s).scrollIntoView()),!0)},Hu=(i,t)=>{let{$head:e,$anchor:n}=i.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(i.tr.insertText(`
`).scrollIntoView()),!0)};function ju(i){for(let t=0;t<i.edgeCount;t++){let{type:e}=i.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var Gu=(i,t)=>{let{$head:e,$anchor:n}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),s=e.indexAfter(-1),o=ju(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(t){let a=e.after(),l=i.tr.replaceWith(a,a,o.createAndFill());l.setSelection(te.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},Uu=(i,t)=>{let e=i.selection,{$from:n,$to:r}=e;if(e instanceof Yt||n.parent.inlineContent||r.parent.inlineContent)return!1;let s=ju(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(o,s.createAndFill());a.setSelection(Ce.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},Wu=(i,t)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(yn(i.doc,s))return t&&t(i.tr.split(s).scrollIntoView()),!0}let n=e.blockRange(),r=n&&nr(n);return r==null?!1:(t&&t(i.tr.lift(n,r).scrollIntoView()),!0)};function sE(i){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof U&&t.selection.node.isBlock)return!n.parentOffset||!yn(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let v=n.depth;;v--)if(n.node(v).isBlock){l=n.end(v)==n.pos+(n.depth-v),c=n.start(v)==n.pos-(n.depth-v),a=ju(n.node(v-1).contentMatchAt(n.indexAfter(v-1)));let C=i&&i(r.parent,l,n);s.unshift(C||(l&&a?{type:a}:null)),o=v;break}else{if(v==1)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof Ce||t.selection instanceof Yt)&&u.deleteSelection();let p=u.mapping.map(n.pos),f=yn(u.doc,p,s.length,s);if(f||(s[0]=a?{type:a}:null,f=yn(u.doc,p,s.length,s)),u.split(p,s.length,s),!l&&c&&n.node(o).type!=a){let v=u.mapping.map(n.before(o)),_=u.doc.resolve(v);a&&n.node(o-1).canReplaceWith(_.index(),_.index()+1,a)&&u.setNodeMarkup(u.mapping.map(n.before(o)),a)}return e&&e(u.scrollIntoView()),!0}}var qu=sE();var oE=(i,t)=>(t&&t(i.tr.setSelection(new Yt(i.doc))),!0);function aE(i,t,e){let n=t.nodeBefore,r=t.nodeAfter,s=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(s-1,s)?(e&&e(i.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(r.isTextblock||rr(i.doc,t.pos))?!1:(e&&e(i.tr.join(t.pos).scrollIntoView()),!0)}function Rx(i,t,e,n){let r=t.nodeBefore,s=t.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&aE(i,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(e){let v=t.pos+s.nodeSize,_=L.empty;for(let I=o.length-1;I>=0;I--)_=L.from(o[I].create(null,_));_=L.from(r.copy(_));let C=i.tr.step(new Ze(t.pos-1,v,t.pos,v,new F(_,1,0),o.length,!0)),S=C.doc.resolve(v+2*o.length);S.nodeAfter&&S.nodeAfter.type==r.type&&rr(C.doc,S.pos)&&C.join(S.pos),e(C.scrollIntoView())}return!0}let u=s.type.spec.isolating||n>0&&l?null:te.findFrom(t,1),p=u&&u.$from.blockRange(u.$to),f=p&&nr(p);if(f!=null&&f>=t.depth)return e&&e(i.tr.lift(p,f).scrollIntoView()),!0;if(c&&_s(s,"start",!0)&&_s(r,"end")){let v=r,_=[];for(;_.push(v),!v.isTextblock;)v=v.lastChild;let C=s,S=1;for(;!C.isTextblock;C=C.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,C.content)){if(e){let I=L.empty;for(let G=_.length-1;G>=0;G--)I=L.from(_[G].copy(I));let ie=i.tr.step(new Ze(t.pos-_.length,t.pos+s.nodeSize,t.pos+S,t.pos+s.nodeSize-S,new F(I,_.length,0),0,!0));e(ie.scrollIntoView())}return!0}}return!1}function Px(i){return function(t,e){let n=t.selection,r=i<0?n.$from:n.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(e&&e(t.tr.setSelection(Ce.create(t.doc,i<0?r.start(s):r.end(s)))),!0):!1}}var lE=Px(-1),cE=Px(1);function Vx(i,t=null){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s),a=o&&ds(o,i,t);return a?(n&&n(e.tr.wrap(o,a).scrollIntoView()),!0):!1}}function vc(i,t=null){return function(e,n){let r=!1;for(let s=0;s<e.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=e.selection.ranges[s];e.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,t)))if(l.type==i)r=!0;else{let u=e.doc.resolve(c),p=u.index();r=u.parent.canReplaceWith(p,p+1,i)}})}if(!r)return!1;if(n){let s=e.tr;for(let o=0;o<e.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=e.selection.ranges[o];s.setBlockType(a,l,i,t)}n(s.scrollIntoView())}return!0}}function dE(i,t,e,n){for(let r=0;r<t.length;r++){let{$from:s,$to:o}=t[r],a=s.depth==0?i.inlineContent&&i.type.allowsMarkType(e):!1;if(i.nodesBetween(s.pos,o.pos,(l,c)=>{if(a||!n&&l.isAtom&&l.isInline&&c>=s.pos&&c+l.nodeSize<=o.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(e)}),a)return!0}return!1}function hE(i){let t=[];for(let e=0;e<i.length;e++){let{$from:n,$to:r}=i[e];n.doc.nodesBetween(n.pos,r.pos,(s,o)=>{if(s.isAtom&&s.content.size&&s.isInline&&o>=n.pos&&o+s.nodeSize<=r.pos)return o+1>n.pos&&t.push(new us(n,n.doc.resolve(o+1))),n=n.doc.resolve(o+1+s.content.size),!1}),n.pos<r.pos&&t.push(new us(n,r))}return t}function mr(i,t=null,e){let n=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1;return function(s,o){let{empty:a,$cursor:l,ranges:c}=s.selection;if(a&&!l||!dE(s.doc,c,i,r))return!1;if(o)if(l)i.isInSet(s.storedMarks||l.marks())?o(s.tr.removeStoredMark(i)):o(s.tr.addStoredMark(i.create(t)));else{let u,p=s.tr;r||(c=hE(c)),n?u=!c.some(f=>s.doc.rangeHasMark(f.$from.pos,f.$to.pos,i)):u=!c.every(f=>{let v=!1;return p.doc.nodesBetween(f.$from.pos,f.$to.pos,(_,C,S)=>{if(v)return!1;v=!i.isInSet(_.marks)&&!!S&&S.type.allowsMarkType(i)&&!(_.isText&&/^\s*$/.test(_.textBetween(Math.max(0,f.$from.pos-C),Math.min(_.nodeSize,f.$to.pos-C))))}),!v});for(let f=0;f<c.length;f++){let{$from:v,$to:_}=c[f];if(!u)p.removeMark(v.pos,_.pos,i);else{let C=v.pos,S=_.pos,I=v.nodeAfter,ie=_.nodeBefore,G=I&&I.isText?/^\s*/.exec(I.text)[0].length:0,Ve=ie&&ie.isText?/\s*$/.exec(ie.text)[0].length:0;C+G<S&&(C+=G,S-=Ve),p.addMark(C,S,i.create(t))}}o(p.scrollIntoView())}return!0}}function ys(...i){return function(t,e,n){for(let r=0;r<i.length;r++)if(i[r](t,e,n))return!0;return!1}}var $u=ys(Ix,eE,tE),Lx=ys(Ix,nE,rE),Yi={Enter:ys(Hu,Uu,Wu,qu),"Mod-Enter":Gu,Backspace:$u,"Mod-Backspace":$u,"Shift-Backspace":$u,Delete:Lx,"Mod-Delete":Lx,"Mod-a":oE},Bx={"Ctrl-h":Yi.Backspace,"Alt-Backspace":Yi["Mod-Backspace"],"Ctrl-d":Yi.Delete,"Ctrl-Alt-Backspace":Yi["Mod-Delete"],"Alt-Delete":Yi["Mod-Delete"],"Alt-d":Yi["Mod-Delete"],"Ctrl-a":lE,"Ctrl-e":cE};for(let i in Yi)Bx[i]=Yi[i];var uE=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,zx=uE?Bx:Yi;var li=class{constructor(t,e,n={}){this.match=t,this.match=t,this.handler=typeof e=="string"?pE(e):e,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1}};function pE(i){return function(t,e,n,r){let s=i;if(e[1]){let o=e[0].lastIndexOf(e[1]);s+=e[0].slice(o+e[1].length),n+=o;let a=n-r;a>0&&(s=e[0].slice(o-a,o)+s,n=r)}return t.tr.insertText(s,n,r)}}var mE=500;function Hx({rules:i}){let t=new gt({state:{init(){return null},apply(e,n){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:n)}},props:{handleTextInput(e,n,r,s){return $x(e,n,r,s,i,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:n}=e.state.selection;n&&$x(e,n.pos,n.pos,"",i,t)})}}},isInputRules:!0});return t}function $x(i,t,e,n,r,s){if(i.composing)return!1;let o=i.state,a=o.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-mE),a.parentOffset,null,"\uFFFC")+n;for(let c=0;c<r.length;c++){let u=r[c];if(a.parent.type.spec.code){if(!u.inCode)continue}else if(u.inCode==="only")continue;let p=u.match.exec(l),f=p&&u.handler(o,p,t-(p[0].length-n.length),e);if(f)return u.undoable&&f.setMeta(s,{transform:f,from:t,to:e,text:n}),i.dispatch(f),!0}return!1}var jx=new li(/--$/,"\u2014"),Gx=new li(/\.\.\.$/,"\u2026"),fE=new li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),gE=new li(/"$/,"\u201D"),vE=new li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),xE=new li(/'$/,"\u2019"),Ux=[fE,gE,vE,xE];function xc(i,t,e=null,n){return new li(i,(r,s,o,a)=>{let l=e instanceof Function?e(s):e,c=r.tr.delete(o,a),u=c.doc.resolve(o),p=u.blockRange(),f=p&&ds(p,t,l);if(!f)return null;c.wrap(p,f);let v=c.doc.resolve(o-1).nodeBefore;return v&&v.type==t&&rr(c.doc,o-1)&&(!n||n(s,v))&&c.join(o-1),c})}function Xu(i,t,e=null){return new li(i,(n,r,s,o)=>{let a=n.doc.resolve(s),l=e instanceof Function?e(r):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?n.tr.delete(s,o).setBlockType(s,s,t,l):null})}var _c=(i,t)=>{let{from:e,$from:n,to:r,empty:s}=i.selection;return s?!!t.isInSet(i.storedMarks||n.marks()):i.doc.rangeHasMark(e,r,t)},_E=(i,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===i)return t.node(e).type;return null},Yu=(i,t,e={})=>{let{selection:n}=i,{$from:r,to:s}=n,o=_E(t,r);return!Object.entries(e).length||!o?!!o:s<=r.end()&&r.parent.hasMarkup(t,e)},Wx=i=>{let t=[],{selection:e,storedMarks:n}=i,{from:r,to:s,empty:o,$from:a}=e;return o?t=n||a.marks():i.doc.nodesBetween(r,s,l=>{t=[...t,...l.marks]}),t},Qu=i=>{let t=[],{selection:{from:e,to:n}}=i;return i.doc.nodesBetween(e,n,r=>{t.push(r)}),t},Ku=(i,t,e)=>{for(let n of t){let{$from:r,$to:s}=n,o=r.depth===0?i.type.allowsMarkType(e):!1;if(i.nodesBetween(r.pos,s.pos,a=>o?!1:(o=a.inlineContent&&a.type.allowsMarkType(e),!0)),o)return!0}return!1},Ju=(i,t,e)=>new li(i,(n,r,s,o)=>{let{tr:a}=n,l=s,c=o,[u,,p]=r,f=u.search(/\S/);if(p){let v=s+u.indexOf(p),_=v+p.length;_<o&&a.delete(_,o),v>s&&a.delete(s+f,v),c=s+p.length+f}return a.addMark(l,c,t.create(e)),a.removeStoredMark(t),a}),qx=(i,t)=>{let{$from:e}=i.selection;for(let n=e.depth;n>=0;n-=1){let r=e.index(n);if(e.node(n).canReplaceWith(r,r,t))return!0}return!1};var Xx=()=>(i,t)=>{let{doc:e,selection:n,tr:r,schema:s}=i,{$head:{pos:o},from:a,to:l}=n,c=s.marks.link;if(a===l){let u=e.resolve(o),p=o-u.textOffset,f=p+u.parent.child(u.index()).nodeSize;r.removeMark(p,f,c)}else r.removeMark(a,l,c);return r.docChanged?(t?.(r),!0):!1},Zu=(i,t={})=>(e,n)=>{let{tr:r,selection:s}=e,{empty:o,ranges:a,$from:l,$to:c}=s;if(o&&s instanceof Ce){let{$cursor:u}=s;if(!u||!Ku(e.doc,a,i)||(r.addStoredMark(i.create(t)),!r.storedMarksSet))return!1;n?.(r)}else{if(r.addMark(l.pos,c.pos,i.create(t)),!r.docChanged)return!1;n?.(r.scrollIntoView())}return!0},Yx=i=>(t,e)=>{let{tr:n,selection:r,storedMarks:s,doc:o}=t,{empty:a,ranges:l}=r;if(a&&r instanceof Ce){let{$cursor:c}=r;if(!c||!Ku(t.doc,l,i))return!1;if(i.isInSet(s||c.marks()))return n.removeStoredMark(i),e?.(n),!0}else{for(let c of l){let{$from:u,$to:p}=c;o.rangeHasMark(u.pos,p.pos,i)&&n.removeMark(u.pos,p.pos,i)}if(!n.docChanged)return!1;e?.(n.scrollIntoView())}return!1};var yc=200,ot=function(){};ot.prototype.append=function(t){return t.length?(t=ot.from(t),!this.length&&t||t.length<yc&&this.leafAppend(t)||this.length<yc&&t.leafPrepend(this)||this.appendInner(t)):this};ot.prototype.prepend=function(t){return t.length?ot.from(t).append(this):this};ot.prototype.appendInner=function(t){return new yE(this,t)};ot.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?ot.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};ot.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ot.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};ot.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,o){return r.push(t(s,o))},e,n),r};ot.from=function(t){return t instanceof ot?t:t&&t.length?new Qx(t):ot.empty};var Qx=function(i){function t(n){i.call(this),this.values=n}i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new t(this.values.slice(r,s))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=yc)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=yc)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(ot);ot.empty=new Qx([]);var yE=function(i){function t(e,n){i.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(r,a),s,o)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(ot),ep=ot;var bE=500,gr=class i{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,s;e&&(r=this.remapping(n,this.items.length),s=r.maps.length);let o=t.tr,a,l,c=[],u=[];return this.items.forEach((p,f)=>{if(!p.step){r||(r=this.remapping(n,f+1),s=r.maps.length),s--,u.push(p);return}if(r){u.push(new ki(p.map));let v=p.step.map(r.slice(s)),_;v&&o.maybeStep(v).doc&&(_=o.mapping.maps[o.mapping.maps.length-1],c.push(new ki(_,void 0,void 0,c.length+u.length))),s--,_&&r.appendMap(_,s)}else o.maybeStep(p.step);if(p.selection)return a=r?p.selection.map(r.slice(s)):p.selection,l=new i(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,e,n,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let p=t.steps[u].invert(t.docs[u]),f=new ki(t.mapping.maps[u],p,e),v;(v=l&&l.merge(f))&&(f=v,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),e&&(o++,e=void 0),r||(l=f)}let c=o-n.depth;return c>wE&&(a=CE(a,c),o-=c),new i(a.append(s),o)}remapping(t,e){let n=new Vo;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=t?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,o)},t,e),n}addMaps(t){return this.eventCount==0?this:new i(this.items.append(t.map(e=>new ki(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=e;this.items.forEach(f=>{let v=s.getMirror(--l);if(v==null)return;o=Math.min(o,v);let _=s.maps[v];if(f.step){let C=t.steps[v].invert(t.docs[v]),S=f.selection&&f.selection.map(s.slice(l+1,v));S&&a++,n.push(new ki(_,C,S))}else n.push(new ki(_))},r);let c=[];for(let f=e;f<o;f++)c.push(new ki(s.maps[f]));let u=this.items.slice(0,r).append(c).append(n),p=new i(u,a);return p.emptyItemCount()>bE&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(e.slice(n)),c=l&&l.getMap();if(n--,c&&e.appendMap(c,n),l){let u=o.selection&&o.selection.map(e.slice(n));u&&s++;let p=new ki(c.invert(),l,u),f,v=r.length-1;(f=r.length&&r[v].merge(p))?r[v]=f:r.push(p)}}else o.map&&n--},this.items.length,0),new i(ep.from(r.reverse()),s)}};gr.empty=new gr(ep.empty,0);function CE(i,t){let e;return i.forEach((n,r)=>{if(n.selection&&t--==0)return e=r,!1}),i.slice(e)}var ki=class i{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new i(e.getMap().invert(),e,this.selection)}}},Ei=class{constructor(t,e,n,r,s){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}},wE=20;function SE(i,t,e,n){let r=e.getMeta(fr),s;if(r)return r.historyState;e.getMeta(EE)&&(i=new Ei(i.done,i.undone,null,0,-1));let o=e.getMeta("appendedTransaction");if(e.steps.length==0)return i;if(o&&o.getMeta(fr))return o.getMeta(fr).redo?new Ei(i.done.addTransform(e,void 0,n,bc(t)),i.undone,Kx(e.mapping.maps),i.prevTime,i.prevComposition):new Ei(i.done,i.undone.addTransform(e,void 0,n,bc(t)),null,i.prevTime,i.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=e.getMeta("composition"),l=i.prevTime==0||!o&&i.prevComposition!=a&&(i.prevTime<(e.time||0)-n.newGroupDelay||!TE(e,i.prevRanges)),c=o?tp(i.prevRanges,e.mapping):Kx(e.mapping.maps);return new Ei(i.done.addTransform(e,l?t.selection.getBookmark():void 0,n,bc(t)),gr.empty,c,e.time,a??i.prevComposition)}else return(s=e.getMeta("rebased"))?new Ei(i.done.rebased(e,s),i.undone.rebased(e,s),tp(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new Ei(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),tp(i.prevRanges,e.mapping),i.prevTime,i.prevComposition)}function TE(i,t){if(!t)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let s=0;s<t.length;s+=2)n<=t[s+1]&&r>=t[s]&&(e=!0)}),e}function Kx(i){let t=[];for(let e=i.length-1;e>=0&&t.length==0;e--)i[e].forEach((n,r,s,o)=>t.push(s,o));return t}function tp(i,t){if(!i)return null;let e=[];for(let n=0;n<i.length;n+=2){let r=t.map(i[n],1),s=t.map(i[n+1],-1);r<=s&&e.push(r,s)}return e}function kE(i,t,e){let n=bc(t),r=fr.get(t).spec.config,s=(e?i.undone:i.done).popEvent(t,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(e?i.done:i.undone).addTransform(s.transform,t.selection.getBookmark(),r,n),l=new Ei(e?a:s.remaining,e?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(fr,{redo:e,historyState:l})}var ip=!1,Jx=null;function bc(i){let t=i.plugins;if(Jx!=t){ip=!1,Jx=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ip=!0;break}}return ip}var fr=new Qt("history"),EE=new Qt("closeHistory");function Zx(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new gt({key:fr,state:{init(){return new Ei(gr.empty,gr.empty,null,0,-1)},apply(t,e,n){return SE(e,n,t,i)}},config:i,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r=n=="historyUndo"?wc:n=="historyRedo"?Jo:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function Cc(i,t){return(e,n)=>{let r=fr.getState(e);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let s=kE(r,e,i);s&&n(t?s.scrollIntoView():s)}return!0}}var wc=Cc(!1,!0),Jo=Cc(!0,!0),tV=Cc(!1,!1),iV=Cc(!0,!1);var Qi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Tc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},AE=typeof navigator<"u"&&/Mac/.test(navigator.platform),ME=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(ze=0;ze<10;ze++)Qi[48+ze]=Qi[96+ze]=String(ze);var ze;for(ze=1;ze<=24;ze++)Qi[ze+111]="F"+ze;var ze;for(ze=65;ze<=90;ze++)Qi[ze]=String.fromCharCode(ze+32),Tc[ze]=String.fromCharCode(ze);var ze;for(Sc in Qi)Tc.hasOwnProperty(Sc)||(Tc[Sc]=Qi[Sc]);var Sc;function e_(i){var t=AE&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||ME&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Tc:Qi)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var DE=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function LE(i){let t=i.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let n,r,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))DE?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function IE(i){let t=Object.create(null);for(let e in i)t[LE(e)]=i[e];return t}function np(i,t,e=!0){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e&&t.shiftKey&&(i="Shift-"+i),i}function Zo(i){return new gt({props:{handleKeyDown:OE(i)}})}function OE(i){let t=IE(i);return function(e,n){let r=e_(n),s,o=t[np(r,n)];if(o&&o(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=t[np(r,n,!1)];if(a&&a(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(s=Qi[n.keyCode])&&s!=r){let a=t[np(s,n)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}var FE=["imgEl"],NE=i=>({"NgxEditor__Resizer--Active":i});function RE(i,t){if(i&1){let e=R();d(0,"span",4)(1,"span",5),k("mousedown",function(r){E(e);let s=b();return A(s.startResizing(r,"left"))}),h(),d(2,"span",6),k("mousedown",function(r){E(e);let s=b();return A(s.startResizing(r,"right"))}),h(),d(3,"span",7),k("mousedown",function(r){E(e);let s=b();return A(s.startResizing(r,"left"))}),h(),d(4,"span",8),k("mousedown",function(r){E(e);let s=b();return A(s.startResizing(r,"right"))}),h()()}}var PE=["ngxEditor"],VE=["*"];function BE(i,t){if(i&1&&(d(0,"div",12),m(1),J(2,"async"),h()),i&2){let e=b(2);g(),O(" ",de(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function zE(i,t){if(i&1&&(d(0,"div",12),m(1),h()),i&2){let e=b(2);g(),O(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function $E(i,t){if(i&1&&(d(0,"div",4)(1,"div",5)(2,"label"),y(3,"input",13),m(4),J(5,"async"),h()()()),i&2){let e=b(2);g(4),O(" ",de(5,1,e.getLabel("openInNewTab"))," ")}}function HE(i,t){if(i&1){let e=R();d(0,"div",2)(1,"form",3),k("ngSubmit",function(r){E(e);let s=b();return A(s.insertLink(r))}),d(2,"div",4)(3,"div",5)(4,"label",6),m(5),J(6,"async"),h(),y(7,"input",7),T(8,BE,3,3,"div",8),h()(),d(9,"div",4)(10,"div",5)(11,"label",6),m(12),J(13,"async"),h(),y(14,"input",9),T(15,zE,2,1,"div",8),h()(),T(16,$E,6,3,"div",10),d(17,"button",11),m(18),J(19,"async"),h()()()}if(i&2){let e=b();g(),x("formGroup",e.form),g(3),x("htmlFor",e.getId("link-popup-url")),g(),$(de(6,12,e.getLabel("url"))),g(2),x("id",e.getId("link-popup-url")),g(),x("ngIf",e.href.touched&&e.href.invalid),g(3),x("htmlFor",e.getId("link-popup-label")),g(),$(de(13,14,e.getLabel("text"))),g(2),x("id",e.getId("link-popup-label")),g(),x("ngIf",e.text.touched&&e.text.invalid),g(),x("ngIf",e.options.showOpenInNewTab),g(),x("disabled",!e.form.valid),g(),$(de(19,16,e.getLabel("insert")))}}var jE=(i,t)=>({"NgxEditor__Dropdown--Active":i,"NgxEditor--Disabled":t});function GE(i,t){if(i&1){let e=R();d(0,"button",4),J(1,"async"),k("mousedown",function(r){let s=E(e).$implicit,o=b(2);return A(o.onDropdownItemMouseClick(r,s))})("keydown.enter",function(r){let s=E(e).$implicit,o=b(2);return A(o.onDropdownItemKeydown(r,s))})("keydown.space",function(r){let s=E(e).$implicit,o=b(2);return A(o.onDropdownItemKeydown(r,s))}),m(2),J(3,"async"),h()}if(i&2){let e=t.$implicit,n=b(2);x("ngClass",Br(8,jE,e===n.activeItem,n.disabledItems.includes(e)))("ariaLabel",de(1,4,n.getName(e))),fe("aria-selected",e===n.activeItem),g(2),O(" ",de(3,6,n.getName(e))," ")}}function UE(i,t){if(i&1&&(d(0,"div",2),T(1,GE,4,11,"button",3),h()),i&2){let e=b();g(),x("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function WE(i,t){if(i&1&&(d(0,"div",12),m(1),J(2,"async"),h()),i&2){let e=b(2);g(),O(" ",de(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function qE(i,t){if(i&1){let e=R();d(0,"div",2)(1,"form",3),k("ngSubmit",function(r){E(e);let s=b();return A(s.insertLink(r))}),d(2,"div",4)(3,"div",5)(4,"label",6),m(5),J(6,"async"),h(),y(7,"input",7),T(8,WE,3,3,"div",8),h()(),d(9,"div",4)(10,"div",5)(11,"label",6),m(12),J(13,"async"),h(),y(14,"input",9),h()(),d(15,"div",4)(16,"div",5)(17,"label",6),m(18),J(19,"async"),h(),y(20,"input",10),h()(),d(21,"button",11),m(22),J(23,"async"),h()()()}if(i&2){let e=b();g(),x("formGroup",e.form),g(3),x("htmlFor",e.getId("image-popup-url")),g(),$(de(6,13,e.getLabel("url"))),g(2),x("id",e.getId("image-popup-url")),g(),x("ngIf",e.src.touched&&e.src.invalid),g(3),x("htmlFor",e.getId("image-popup-label")),g(),$(de(13,15,e.getLabel("altText"))),g(2),x("id",e.getId("image-popup-label")),g(3),x("htmlFor",e.getId("image-popup-title")),g(),$(de(19,17,e.getLabel("title"))),g(2),x("id",e.getId("image-popup-title")),g(),x("disabled",!e.form.valid||!e.form.dirty),g(),$(de(23,19,e.getLabel("insert")))}}var XE=(i,t)=>({backgroundColor:i,color:t}),YE=i=>({"NgxEditor__Color--Active":i});function QE(i,t){if(i&1){let e=R();d(0,"button",7),k("mousedown",function(r){let s=E(e).$implicit,o=b(3);return A(o.onColorSelectMouseClick(r,s))})("keydown.enter",function(){let r=E(e).$implicit,s=b(3);return A(s.onColorSelectKeydown(r))})("keydown.space",function(){let r=E(e).$implicit,s=b(3);return A(s.onColorSelectKeydown(r))}),h()}if(i&2){let e=t.$implicit,n=b(3);x("ngStyle",Br(3,XE,e,n.getContrastYIQ(e)))("title",e)("ngClass",it(6,YE,n.activeColors.includes(e)))}}function KE(i,t){if(i&1&&(d(0,"div",5),T(1,QE,1,8,"button",6),h()),i&2){let e=t.$implicit,n=b(2);g(),x("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function JE(i,t){if(i&1){let e=R();d(0,"div",2),T(1,KE,2,2,"div",3),d(2,"button",4),k("mousedown",function(r){E(e);let s=b();return A(s.onRemoveMouseClick(r))})("keydown.enter",function(){E(e);let r=b();return A(r.onRemoveKeydown())})("keydown.space",function(){E(e);let r=b();return A(r.onRemoveKeydown())}),m(3),J(4,"async"),h()()}if(i&2){let e=b();g(),x("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),g(),x("disabled",!e.isActive),g(),O(" ",de(4,4,e.getLabel("remove"))," ")}}var ZE=(i,t)=>({"NgxEditor--Disabled":i,"NgxEditor__MenuBar--Reverse":t});function eA(i,t){if(i&1&&y(0,"ngx-toggle-command",7),i&2){let e=b().$implicit,n=b(2);$t(n.iconContainerClass),x("toolbarItem",e)}}function tA(i,t){if(i&1&&y(0,"ngx-insert-command",7),i&2){let e=b().$implicit,n=b(2);$t(n.iconContainerClass),x("toolbarItem",e)}}function iA(i,t){if(i&1&&(_e(0),y(1,"ngx-link",8),ye()),i&2){let e=b().$implicit,n=b(2);g(),$t(n.iconContainerClass),x("options",n.getLinkOptions(e))}}function nA(i,t){if(i&1&&y(0,"ngx-image"),i&2){let e=b(3);$t(e.iconContainerClass)}}function rA(i,t){if(i&1&&y(0,"ngx-dropdown",10),i&2){let e=t.$implicit,n=b(4);$t(n.dropdownContainerClass),x("group",e.key)("items",e.value)}}function sA(i,t){if(i&1&&(_e(0),T(1,rA,1,4,"ngx-dropdown",9),J(2,"keyvalue"),ye()),i&2){let e=b().$implicit,n=b(2);g(),x("ngForOf",de(2,2,n.getDropdownItems(e)))("ngForTrackBy",n.trackByIndex)}}function oA(i,t){if(i&1&&y(0,"ngx-color-picker",11),i&2){let e=b(3);$t(e.iconContainerClass),x("presets",e.presets)}}function aA(i,t){if(i&1&&y(0,"ngx-color-picker",12),i&2){let e=b(3);$t(e.iconContainerClass),x("presets",e.presets)}}function lA(i,t){if(i&1&&y(0,"div"),i&2){let e=b(3);$t(e.seperatorClass)}}function cA(i,t){if(i&1&&(_e(0),T(1,eA,1,3,"ngx-toggle-command",3)(2,tA,1,3,"ngx-insert-command",3)(3,iA,2,3,"ng-container",2)(4,nA,1,2,"ngx-image",4)(5,sA,3,4,"ng-container",2)(6,oA,1,3,"ngx-color-picker",5)(7,aA,1,3,"ngx-color-picker",6)(8,lA,1,2,"div",4),ye()),i&2){let e=t.$implicit,n=t.last,r=b().last,s=b();g(),x("ngIf",s.toggleCommands.includes(e)),g(),x("ngIf",s.insertCommands.includes(e)),g(),x("ngIf",s.isLinkItem(e)),g(),x("ngIf",e==="image"),g(),x("ngIf",s.isDropDown(e)),g(),x("ngIf",e==="text_color"),g(),x("ngIf",e==="background_color"),g(),x("ngIf",n&&!r)}}function dA(i,t){if(i&1&&(_e(0),T(1,cA,9,8,"ng-container",1),ye()),i&2){let e=t.$implicit,n=b();g(),x("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function hA(i,t){if(i&1&&(_e(0),Ws(1,13),ye()),i&2){let e=b();g(),x("ngTemplateOutlet",e.customMenuRef)}}var uA=(i=!0)=>new gt({key:new Qt("editable"),state:{init(){return i},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),pA="NgxEditor__Placeholder",mA=i=>new gt({key:new Qt("placeholder"),state:{init(){return i??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:n,childCount:r}=e,s=this.getState(t);if(!s||r>1)return Et.empty;let o=[],a=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&n.length===0){let u=c,p=c+l.nodeSize,f=Ti.node(u,p,{class:pA,"data-placeholder":s,"data-align":l.attrs.align??null});o.push(f)}return!1};return e.descendants(a),Et.create(e,o)}}}),fA=(i={})=>new gt({key:new Qt("attributes"),props:{attributes:i}}),gA=i=>new gt({key:new Qt("focus"),props:{handleDOMEvents:{focus:()=>(i(),!1)}}}),vA=i=>new gt({key:new Qt("blur"),props:{handleDOMEvents:{blur:()=>(i(),!1)}}}),xA=(()=>{class i{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new X}startResizing(e,n){e.preventDefault(),this.resizeImage(e,n)}resizeImage(e,n){let r=e.pageX,s=this.imgEl.nativeElement.clientWidth,o=n==="left",{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=p=>{let v=p.pageX-r,_=o?s-v:s+v;_>l||_<20||(this.outerWidth=`${_}px`)},u=p=>{p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-image-view"]],viewQuery:function(n,r){if(n&1&&pi(FE,7),n&2){let s;Ht(s=jt())&&(r.imgEl=s.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},standalone:!1,decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,r){n&1&&(d(0,"span",1),T(1,RE,5,0,"span",2),y(2,"img",3,0),h()),n&2&&(ui("width",r.outerWidth),x("ngClass",it(7,NE,r.selected)),g(),x("ngIf",r.selected),g(),x("src",r.src,pt)("alt",r.alt)("title",r.title))},dependencies:[Ct,H],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}}return i})(),rp=class{constructor(t,e,n,r){this.updating=!1,this.handleResize=()=>{if(this.updating)return;let{state:s,dispatch:o}=this.view,{tr:a}=s,l=a.setNodeMarkup(this.getPos(),void 0,Q(M({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),c=l.doc.resolve(this.getPos()),u=new U(c);l.setSelection(u),o(l)},this.applicationRef=r.get(hi),this.imageComponentRef=qa(xA,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=n,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},_A=i=>new gt({key:new Qt("image-resize"),props:{nodeViews:{image:(t,e,n)=>new rp(t,e,n,i)}}}),yA=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,d_=i=>{let t=[];return i.forEach(e=>{if(e.isText){let n=e.text,r=0,s=yA.exec(n);if(s){let o=s.index,a=o+s[0].length,{link:l}=e.type.schema.marks;o>0&&t.push(e.cut(r,o));let c=n.slice(o,a);t.push(e.cut(o,a).mark(l.create({href:c}).addToSet(e.marks))),r=a}r<n.length&&t.push(e.cut(r))}else t.push(e.copy(d_(e.content)))}),L.fromArray(t)},bA=()=>new gt({key:new Qt("linkify"),props:{transformPasted:i=>new F(d_(i.content),i.openStart,i.openEnd)}}),h_=i=>typeof i=="string",CA=()=>window.trustedTypes,u_=i=>CA()?.isHTML(i)??!1,p_=i=>h_(i)||u_(i),m_={type:"doc",content:[{type:"paragraph"}]},wA=(i,t)=>{let e=t??En,n=e.nodeFromJSON(i),r=ji.fromSchema(e).serializeFragment(n.content),s=document.createElement("div");return s.appendChild(r),s.innerHTML},SA=(i,t,e)=>{let n=t??En,r=document.createElement("div");return r.innerHTML=i,_n.fromSchema(n).parse(r,e).toJSON()},ta=(i,t,e)=>{if(!i)return t.nodeFromJSON(m_);if(!p_(i))return t.nodeFromJSON(i);let n=SA(i,t,e);return t.nodeFromJSON(n)},f_=(()=>{class i{constructor(e,n,r){this.renderer=e,this.injector=n,this.elementRef=r,this.placeholder="Type Here...",this.focusOut=new X,this.focusIn=new X,this.unsubscribe=new tt,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){!this.outputFormat&&p_(e)&&(this.outputFormat="html"),this.editor.setContent(e??m_)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let n=wA(e,this.editor.schema);this.onChange(n);return}this.onChange(e)}setMeta(e,n){let{dispatch:r,state:{tr:s}}=this.editor.view;r(s.setMeta(e,n))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(uA()),this.editor.registerPlugin(mA(this.placeholder)),this.editor.registerPlugin(fA({class:"NgxEditor__Content"})),this.editor.registerPlugin(gA(()=>{this.focusIn.emit()})),this.editor.registerPlugin(vA(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(_A(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(bA())}ngOnInit(){if(!this.editor)throw new as("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(Ra(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||i)(w(ii),w(ut),w(Le))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-editor"]],viewQuery:function(n,r){if(n&1&&pi(PE,7),n&2){let s;Ht(s=jt())&&(r.ngxEditor=s.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},standalone:!1,features:[bt([{provide:fn,useExisting:Zt(()=>i),multi:!0}]),Ae],ngContentSelectors:VE,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,r){n&1&&(ja(),d(0,"div",1,0),Ga(2),h())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}}return i})(),An=(()=>{class i{constructor(){this.customMenuRefChange=new tt}setCustomMenuRef(e){this.customMenuRefChange.next(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ai=class{constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?Zu(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?mr(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?_c(t,n):!1}canExecute(t){return this.toggle()(t)}},sp=class{toggle(){return(t,e)=>{let{schema:n}=t,r=n.nodes.blockquote;return r?this.isActive(t)?Nx(t,e):Vx(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.nodes.blockquote;return n?Yu(t,n):!1}canExecute(t){return this.toggle()(t)}},op=class{insert(){return(t,e)=>{let{schema:n,tr:r}=t,s=n.nodes.horizontal_rule;return s?(e(r.replaceSelectionWith(s.create()).scrollIntoView()),!0):!1}}canExecute(t){return qx(t,t.schema.nodes.horizontal_rule)}},Cs=class{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:n}=t,r=this.getType(n);return r?this.isActive(t)?Bu(n.nodes.list_item)(t,e):Mx(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=this.getType(e);return n?Yu(t,n):!1}canExecute(t){return this.toggle()(t)}},Ki=class{constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.nodes.heading;return r?vc(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n,selection:r,doc:s}=t,o=n.nodes.heading;if(!o)return!1;let a=r.$from.before(1),c=s.nodeAt(a)?.attrs??{};return this.isActive(t)?vc(n.nodes.paragraph,c)(t,e):vc(o,Q(M({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,n=Qu(t),r=e.nodes.heading;if(!r)return!1;let s=[r,e.nodes.text,e.nodes.blockquote];return!!n.filter(l=>s.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},vr=class{constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:n,selection:r,tr:s,schema:o}=t,{from:a,to:l}=r,c=!1;return n.nodesBetween(a,l,(u,p)=>{let f=u.type;if([o.nodes.paragraph,o.nodes.heading].includes(f)){c=!0;let v=u.attrs.align===this.align?null:this.align;s.setNodeMarkup(p,f,Q(M({},u.attrs),{align:v}))}return!0}),c?(s.docChanged&&e?.(s),!0):!1}}isActive(t){return!!Qu(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},TA={strict:!0},ap=class{update(t){return(e,n)=>{let{schema:r,selection:s}=e,o=r.marks.link;return!o||s.empty?!1:mr(o,t)(e,n)}}insert(t,e){return(n,r)=>{let{schema:s,tr:o}=n;if(!s.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=s.text(t,[s.marks.link.create(l)]);return o.replaceSelectionWith(c,!1).scrollIntoView(),o.docChanged?(r?.(o),!0):!1}}isActive(t,e=TA){if(e.strict)return!0;let{schema:n}=t,r=n.marks.link;return r?_c(t,r):!1}remove(t,e){return Xx()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},g_=class{insert(t,e){return(n,r)=>{let{schema:s,tr:o,selection:a}=n,l=s.nodes.image;if(!l)return!1;let c=M({width:null,src:t},e);!c.width&&a instanceof U&&a.node.type===l&&(c.width=a.node.attrs.width),o.replaceSelectionWith(l.createAndFill(c));let u=o.doc.resolve(o.selection.anchor-o.selection.$anchor.nodeBefore.nodeSize);return o.setSelection(new U(u)).scrollIntoView(),o.docChanged?(r?.(o),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof U?e.node.type.name==="image":!1}},bs=class{constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,n)=>{let{schema:r,selection:s,doc:o}=e,a=r.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:u}=s;if(!u&&l+1===c){let p=o.nodeAt(l);if(p?.isAtom&&!p.isText&&p.isLeaf)return!1}return Zu(a,t)(e,n)}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?_c(t,n):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return Wx(t).filter(s=>s.type===e.marks[this.name]).map(s=>s.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?Yx(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},kA=["link"],lp=class{insert(){return(t,e)=>{let{tr:n}=t,{ranges:r,empty:s}=n.selection;return s||(Object.entries(t.schema.marks).forEach(([o,a])=>{kA.includes(o)||r.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),e(n)),!0}}canExecute(){return!0}},EA=["paragraph","heading","blockquote"],t_=0,i_=10,AA=(i,t,e)=>{let n=i.doc.nodeAt(t);if(!n)return!1;let r=n.attrs.indent??0,s=C0(r+(e==="increase"?1:-1),t_,i_);if(s===r||s<t_||s>i_)return!1;let o=Q(M({},n.attrs),{indent:s});return i.setNodeMarkup(t,n.type,o),!0},ws=class{constructor(t){this.method="increase",this.method=t}insert(){return(t,e)=>{let{tr:n,doc:r}=t,{from:s,to:o}=n.selection,a=!1;return r.nodesBetween(s,o,(l,c)=>{let u=l.type;return EA.includes(u.name)?(a=AA(n,c,this.method),!1):!l.type.name.includes("list")}),a?(n.docChanged&&e?.(n),!0):!1}}canExecute(t){return this.insert()(t)}},Ec=class{constructor(t){this.mode="undo",this.mode=t}insert(){return(t,e)=>this.mode==="undo"?wc(t,e):Jo(t,e)}canExecute(t){return this.insert()(t)}},MA=new Ai("strong"),DA=new Ai("em"),LA=new Ai("code"),IA=new Ai("u"),OA=new Ai("s"),FA=new sp,NA=new op,RA=new lp,PA=new Cs(!0),VA=new Cs(!1),BA=new Ki(1),zA=new Ki(2),$A=new Ki(3),HA=new Ki(4),jA=new Ki(5),GA=new Ki(6),UA=new vr("left"),WA=new vr("center"),qA=new vr("right"),XA=new vr("justify"),YA=new ap,QA=new g_,KA=new bs("text_color","color"),JA=new bs("text_background_color","backgroundColor"),ZA=new ws("increase"),eM=new ws("decrease"),tM=new Ai("sup"),iM=new Ai("sub"),nM=new Ec("undo"),rM=new Ec("redo"),Ac={bold:MA,italic:DA,code:LA,underline:IA,strike:OA,blockquote:FA,bullet_list:PA,ordered_list:VA,h1:BA,h2:zA,h3:$A,h4:HA,h5:jA,h6:GA,align_left:UA,align_center:WA,align_right:qA,align_justify:XA,superscript:tM,subscript:iM},n_={horizontal_rule:NA,format_clear:RA,indent:ZA,outdent:eM,undo:nM,redo:rM},ea=YA,r_=QA,sM=KA,oM=JA,cp={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},dp=class{constructor(t={}){this.locals=cp,this.get=e=>{let n=this.locals[e];return n?Oa(n)?n:P(n):P("")},this.locals=M(M({},cp),t)}},aM=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,lM=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,cM=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,dM=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,hM=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,uM=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,pM=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,mM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,fM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,gM=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,vM=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,xM=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,_M=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,yM=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,bM=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,CM=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,wM=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,SM=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,TM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,kM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',EM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',AM='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',MM='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',DM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',LM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',IM=20,OM=20,FM="currentColor",v_={bold:aM,italic:lM,code:cM,underline:dM,strike:hM,ordered_list:uM,bullet_list:pM,blockquote:mM,link:fM,unlink:gM,image:vM,align_left:xM,align_center:_M,align_right:yM,align_justify:bM,text_color:CM,color_fill:wM,horizontal_rule:SM,format_clear:TM,indent:kM,outdent:EM,superscript:AM,subscript:MM,undo:DM,redo:LM,path:"<path></path>"},hp=class{static get(t,e=FM){let n=v_[t];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${IM}
          width=${OM}
        >
          ${n}
        </svg>
      `:n}},up=(()=>{class i{constructor(){this.locals={},this.icons={}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),xr=(()=>{class i{constructor(e){this.config=e}get locals(){return new dp(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:hp.get(e)}static{this.\u0275fac=function(n){return new(n||i)(B(up,8))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),s_=i=>({locals:i.locals??{},icons:i.icons??{}}),Ss=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return u_(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(n){return new(n||i)(w(Yd,16))}}static{this.\u0275pipe=qm({name:"sanitizeHtml",type:i,pure:!0,standalone:!1})}}return i})(),NM=(()=>{class i{get name(){return this.toolbarItem}constructor(e,n){this.ngxeService=e,this.menuService=n,this.isActive=!1,this.disabled=!1,this.update=r=>{let{state:s}=r,o=Ac[this.name];this.isActive=o.isActive(s),this.disabled=!o.canExecute(s)}}toggle(){let{state:e,dispatch:n}=this.editorView;Ac[this.name].toggle()(e,n)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(xr),w(An))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"sanitizeHtml"),J(2,"async"),J(3,"async"),k("mousedown",function(o){return r.onMouseClick(o)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(yt("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),x("disabled",r.disabled)("innerHTML",de(1,8,r.html),ti)("title",de(2,10,r.getTitle(r.name)))("ariaLabel",de(3,12,r.getTitle(r.name))))},dependencies:[Bi,Ss],encapsulation:2})}}return i})(),RM=(()=>{class i{get name(){return this.toolbarItem}constructor(e,n){this.ngxeService=e,this.menuService=n,this.disabled=!1,this.update=r=>{let{state:s}=r,o=n_[this.name];this.disabled=!o.canExecute(s)}}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:n}=this.editorView;n_[this.name].insert()(e,n)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(xr),w(An))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"sanitizeHtml"),J(2,"async"),J(3,"async"),k("mousedown",function(o){return r.onMouseClick(o)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(yt("NgxEditor--Disabled",r.disabled),x("disabled",r.disabled)("innerHTML",de(1,6,r.html),ti)("title",de(2,8,r.getTitle(r.name)))("ariaLabel",de(3,10,r.getTitle(r.name))))},dependencies:[Bi,Ss],encapsulation:2})}}return i})(),o_={showOpenInNewTab:!0},PM=(()=>{class i{constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r,this.options=o_,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.componentId=Hh(),this.setText=()=>{let{state:{selection:s,doc:o}}=this.editorView,{empty:a,from:l,to:c}=s,u=a?"":o.textBetween(l,c);u&&(this.text.patchValue(u),this.text.disable())},this.update=s=>{let{state:o}=s;this.isActive=ea.isActive(o,{strict:!1}),this.canExecute=ea.canExecute(o)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:n}=this.editorView;if(this.isActive){ea.remove(e,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}insertLink(e){e.preventDefault();let{text:n,href:r,openInNewTab:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView,{selection:l}=a,c;this.options.showOpenInNewTab&&(c=s?"_blank":"_self");let u={title:r,href:r,target:c};l.empty?(ea.insert(n,u)(a,o),this.editorView.focus()):ea.update(u)(a,o),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Tt({href:new W("",[he.required,he.pattern(this.menuService.editor.linkValidationPattern)]),text:new W("",[he.required]),openInNewTab:new W(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(xr),w(An))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-link"]],hostBindings:function(n,r){n&1&&k("mousedown",function(o){return r.onDocumentClick(o)},!1,Hs)},inputs:{options:[2,"options","options",e=>M(M({},o_),e)]},standalone:!1,features:[Va],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"sanitizeHtml"),J(2,"async"),J(3,"async"),k("mousedown",function(o){return r.onTogglePopupMouseClick(o)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,HE,20,18,"div",1)),n&2&&(yt("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),x("disabled",!r.canExecute)("innerHTML",de(1,10,r.icon),ti)("title",de(2,12,r.title))("ariaLabel",de(3,14,r.title))("ariaExpanded",r.showPopup),g(4),x("ngIf",r.showPopup))},dependencies:[H,xe,se,Ao,oe,ve,Ie,Oe,Bi,Ss],encapsulation:2})}}return i})(),VM=(()=>{class i{constructor(e,n,r){this.ngxeService=e,this.menuService=n,this.el=r,this.isDropdownOpen=!1,this.disabledItems=[],this.update=s=>{let{state:o}=s;this.disabledItems=[];let a=[];this.items.forEach(l=>{let c=Ac[l];c.isActive(o)&&a.push(l),c.canExecute(o)||this.disabledItems.push(l)}),a.length===1?[this.activeItem]=a:this.activeItem=null}}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let n=Ac[e],{state:r,dispatch:s}=this.editorView;n.toggle()(r,s),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectItem(n)}onDropdownItemKeydown(e,n){e.preventDefault(),this.selectItem(n)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(xr),w(An),w(Le))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-dropdown"]],hostBindings:function(n,r){n&1&&k("mousedown",function(o){return r.onDocumentClick(o.target)},!1,Hs)},inputs:{group:"group",items:"items"},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"async"),k("mousedown",function(o){return r.onToggleDropdownMouseClick(o)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),m(2),J(3,"async"),h(),T(4,UE,2,2,"div",1)),n&2&&(yt("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),x("disabled",r.isDropdownDisabled)("ariaLabel",de(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),g(2),O(" ",de(3,11,r.getName(r.activeItem||r.group)),`
`),g(2),x("ngIf",r.isDropdownOpen))},dependencies:[Ct,Te,H,Bi],encapsulation:2})}}return i})(),BM=(()=>{class i{constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r,this.showPopup=!1,this.isActive=!1,this.componentId=Hh(),this.form=new Tt({src:new W("",[he.required,he.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new W(""),title:new W("")}),this.update=s=>{let{state:o}=s;this.isActive=r_.isActive(o)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:n}=e;if(n instanceof U&&this.isActive){let{src:r,alt:s="",title:o=""}=n.node.attrs;this.form.setValue({src:r,alt:s,title:o})}}insertLink(e){e.preventDefault();let{src:n,alt:r,title:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView,l={alt:r,title:s};r_.insert(n,l)(a,o),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(xr),w(An))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-image"]],hostBindings:function(n,r){n&1&&k("mousedown",function(o){return r.onDocumentClick(o)},!1,Hs)},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"sanitizeHtml"),J(2,"async"),J(3,"async"),k("mousedown",function(o){return r.onTogglePopupMouseClick(o)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,qE,24,21,"div",1)),n&2&&(yt("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),x("innerHTML",de(1,7,r.icon),ti)("title",de(2,9,r.getLabel("insertImage")))("ariaLabel",de(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),g(4),x("ngIf",r.showPopup))},dependencies:[H,xe,se,oe,ve,Ie,Oe,Bi,Ss],encapsulation:2})}}return i})(),zM=(()=>{class i{constructor(e,n,r){this.el=e,this.menuService=n,this.ngxeService=r,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=s=>{let{state:o}=s;this.canExecute=this.command.canExecute(o),this.isActive=this.command.isActive(o),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(o))}}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?sM:oM}getContrastYIQ(e){let n=e.replace("#",""),r=parseInt(n.substring(0,2),16),s=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16);return(r*299+s*587+o*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:n}=this.editorView;this.command.remove()(e,n),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:n,dispatch:r}=this.editorView;if(this.type==="text_color"){let s={color:e};this.command.apply(s)(n,r)}else{let s={backgroundColor:e};this.command.apply(s)(n,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectColor(n)}onColorSelectKeydown(e){this.selectColor(e)}getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(An),w(xr))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-color-picker"]],hostBindings:function(n,r){n&1&&k("mousedown",function(o){return r.onDocumentClick(o)},!1,Hs)},inputs:{presets:"presets",type:"type"},standalone:!1,decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,r){n&1&&(d(0,"button",0),J(1,"sanitizeHtml"),J(2,"async"),J(3,"async"),k("mousedown",function(o){return r.onTogglePopupMouseClick(o)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,JE,5,6,"div",1)),n&2&&(yt("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),x("disabled",!r.canExecute)("innerHTML",de(1,9,r.icon),ti)("title",de(2,11,r.title))("ariaLabel",de(3,13,r.title)),g(4),x("ngIf",r.showPopup))},dependencies:[Ct,Te,H,af,Bi,Ss],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}}return i})();var $M=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var HM=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],x_=(()=>{class i{constructor(e){this.menuService=e,this.toolbar=$M,this.colorPresets=HM,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"],this.insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){let n=[];return this.colorPresets.forEach((r,s)=>{let o=Math.floor(s/8);n[o]||n.push([]),n[o].push(r)}),n}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new as("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static{this.\u0275fac=function(n){return new(n||i)(w(An))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},standalone:!1,features:[bt([An])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&(d(0,"div",0),T(1,dA,2,2,"ng-container",1)(2,hA,2,1,"ng-container",2),h()),n&2&&(x("ngClass",Br(4,ZE,r.disabled,r.dropdownPlacement==="top")),g(),x("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),g(),x("ngIf",r.customMenuRef))},dependencies:[Ct,Te,H,Ya,NM,RM,PM,VM,BM,zM,lf],encapsulation:2})}}return i})();var jM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({providers:[Ss],imports:[z,ue]})}}return i})(),kc=new ee("NgxEditorConfig"),a_={locals:cp,icons:v_},__=(()=>{class i{static forRoot(e=a_){return{ngModule:i,providers:[{provide:kc,useValue:e},{provide:up,useFactory:s_,deps:[kc]}]}}static forChild(e=a_){return{ngModule:i,providers:[{provide:kc,useValue:e},{provide:up,useFactory:s_,deps:[kc]},xr]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[z,jM]})}}return i})(),GM=i=>i===null||i.length===0,l_=i=>i!==null&&typeof i.length=="number",UM=i=>{if(!i)return!0;let{childCount:t,firstChild:e}=i;return!!(t===1&&e?.isTextblock&&e.content.size===0)},Mc=class{static required(t){return e=>{let n=t||En,r=ta(e.value,n);return UM(r)?{required:!0}:null}}static maxLength(t,e){return n=>{let r=e||En,o=ta(n.value,r).textContent;return l_(o)&&o.length>t?{maxlength:{requiredLength:t,actualLength:o.length}}:null}}static minLength(t,e){return n=>{let r=e||En,o=ta(n.value,r).textContent;return GM(o)||!l_(o)?null:o.length<t?{minlength:{requiredLength:t,actualLength:o.length}}:null}}},Rt=(i,t=!1)=>(e,n)=>{let r=new Ai(i);return t?r.toggle()(e,n):r.apply()(e,n)},pp=class{constructor(t){if(this.applyTrx=e=>{this.state=this.state.apply(e??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=e=>{this.applyTrx(e)},!t)throw new as("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?te.atStart(this.state.doc):te.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return ys(...[Hu,Uu,Wu,qu])(this.state,this.dispatch),this}applyMark(t){return Rt(t,!1)(this.state,this.dispatch),this}toggleMark(t){return Rt(t,!0)(this.state,this.dispatch),this}bold(){return Rt("strong")(this.state,this.dispatch),this}toggleBold(){return Rt("strong",!0)(this.state,this.dispatch),this}italics(){return Rt("em")(this.state,this.dispatch),this}toggleItalics(){return Rt("em",!0)(this.state,this.dispatch),this}underline(){return Rt("u")(this.state,this.dispatch),this}toggleUnderline(){return Rt("u",!0)(this.state,this.dispatch),this}strike(){return Rt("s")(this.state,this.dispatch),this}toggleStrike(){return Rt("s",!0)(this.state,this.dispatch),this}code(){return Rt("code")(this.state,this.dispatch),this}toggleCode(){return Rt("code",!0)(this.state,this.dispatch),this}superscript(){return Rt("sup")(this.state,this.dispatch),this}subscript(){return Rt("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new Cs(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Cs(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new Ki(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new ap().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new ap().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new g_().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new bs("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new bs("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new bs("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new bs("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new vr(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:n,tr:r}=this.state,{from:s,to:o}=e,a=document.createElement("div");a.innerHTML=h_(t)?t.trim():t;let l=_n.fromSchema(n).parseSlice(a),c=r.replaceRange(s,o,l);return this.applyTrx(c),this}indent(){return new ws("increase").insert()(this.state,this.dispatch),this}outdent(){return new ws("decrease").insert()(this.state,this.dispatch),this}},WM=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,qM=i=>xc(/^\s*>\s$/,i),XM=i=>xc(/^(?:\d+)\.\s$/,i,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),YM=i=>xc(/^\s*(?:[-+*])\s$/,i),QM=i=>Xu(/^```$/,i),KM=(i,t)=>Xu(new RegExp(`^(#{1,${t}})\\s$`),i,e=>({level:e[1].length})),JM=i=>Ju(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,i),ZM=i=>Ju(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,i),eD=i=>{let t=Ux.concat(Gx,jx);return t.push(JM(i.marks.strong)),t.push(ZM(i.marks.em)),t.push(qM(i.nodes.blockquote)),t.push(XM(i.nodes.ordered_list)),t.push(YM(i.nodes.bullet_list)),t.push(QM(i.nodes.code_block)),t.push(KM(i.nodes.heading,6)),Hx({rules:t})},tD=(i,t)=>{let e={};e["Mod-z"]=wc,WM?e["Shift-Mod-z"]=Jo:e["Mod-y"]=Jo;let n=[Zo({"Mod-b":mr(i.marks.strong),"Mod-i":mr(i.marks.em),"Mod-u":mr(i.marks.u),"Mod-`":mr(i.marks.code)}),Zo({Enter:Dx(i.nodes.list_item),"Shift-Enter":ys(Gu,(r,s)=>{let{tr:o}=r,a=i.nodes.hard_break;return s(o.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":Bu(i.nodes.list_item),"Mod-]":zu(i.nodes.list_item),Tab:zu(i.nodes.list_item)}),Zo(zx)];return t.history&&n.push(Zo(e)),n},iD=(i,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...tD(i,{history:t.history})),t.history&&e.push(Zx()),t.inputRules&&e.push(eD(i)),e},y_={linkOnPaste:!0,resizeImage:!0},c_={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:En,plugins:[],nodeViews:{},attributes:{},features:y_,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Dc=class{constructor(t=c_){this.valueChangesSubject=new tt,this.updateSubject=new tt,this.options=M(M({},c_),t),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||En}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new pp(this.view)}get features(){return M(M({},y_),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let n=e.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:t,schema:e}=this,{content:n=null,nodeViews:r}=t,{history:s=!0,keyboardShortcuts:o=!0,inputRules:a=!0}=t,l=ta(n,e,t.parseOptions),c=t.plugins??[],u=t.attributes??{},p=iD(e,{history:s,keyboardShortcuts:o,inputRules:a});this.view=new mc(null,{state:nc.create({doc:l,schema:e,plugins:[...p,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:u,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(b0(t))return;let{state:e}=this.view,{tr:n,doc:r}=e,s=ta(t,this.schema,this.options.parseOptions);n.replaceWith(0,e.doc.content.size,s),!r.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(t){let{state:e}=this.view,n=[...e.plugins,t],r=e.reconfigure({plugins:n});this.view.updateState(r)}destroy(){this.view.destroy()}};var ia=ht(at());function rD(i,t){if(i&1&&(d(0,"option",16),m(1),h()),i&2){let e=t.$implicit;x("value",e.Id),g(),$(e.RoleName)}}var Ic=(()=>{class i{constructor(e,n,r,s,o,a,l,c){this.fb=e,this.router=n,this.local=r,this.httpRequest=s,this.handleModal=o,this.userService=a,this.handleAuthentication=l,this.authData=c,this.isLoading=!1,this.userRoles=[]}ngOnInit(){this.createUserForm=this.fb.group({full_name:["",he.required],email:["",[he.required,he.email]],phone:["",he.required],role_id:["",he.required]}),this.httpRequest.makeGetRequest("/users_management/user_roles/all").subscribe(e=>{this.userRoles=e.data})}onSubmit(){if(this.createUserForm.valid){this.isLoading=!0;let e=this.createUserForm.value;this.httpRequest.makePostRequest("/users_management/create_new_user",e).subscribe(n=>{let r=n?.user?.id;this.userService.triggerUserRefresh(),this.isLoading=!1,n.status&&r&&(this.authentication(r),(0,ia.default)({text:"User created successfully!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.local.write("auth-token",{token:n.token}))},n=>{this.isLoading=!1;let r=n?.error?.message??n.message;(0,ia.default)({text:`Error: ${r}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}else(0,ia.default)({text:"Please fill out the form correctly.",duration:3e3,gravity:"top",position:"right",backgroundColor:"orange"}).showToast()}authentication(e){this.httpRequest.makePostRequest("/users_management/create_authenticator_secret",{identity:e}).subscribe(n=>{this.handleModal.showMother("authentication"),this.authData.setAuthData(n)},n=>{console.log(n)})}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(ge),w(St),w(ne),w(j),w(j),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-newuser"]],decls:26,vars:4,consts:[[1,""],[1,"px-5","mb-5"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","full_name"],["type","text","formControlName","full_name","placeholder","Full Name",1,"form-control"],["for","email"],["formControlName","email","type","email","placeholder","Enter email",1,"form-control"],["for","phone"],["type","tel","formControlName","phone","placeholder","Phone Number",1,"form-control"],["for","role_id"],["formControlName","role_id",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[3,"value"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),m(3,"Create User"),h(),d(4,"form",3),k("ngSubmit",function(){return r.onSubmit()}),d(5,"div",4)(6,"label",5),m(7,"Full Name"),h(),y(8,"input",6),h(),d(9,"div",4)(10,"label",7),m(11,"Email address"),h(),y(12,"input",8),h(),d(13,"div",4)(14,"label",9),m(15,"Phone Number"),h(),y(16,"input",10),h(),d(17,"div",4)(18,"label",11),m(19,"Select Role"),h(),d(20,"select",12)(21,"option",13),m(22,"Select Role"),h(),T(23,rD,2,2,"option",14),h()(),d(24,"button",15),m(25),h()()()()),n&2&&(g(4),x("formGroup",r.createUserForm),g(19),x("ngForOf",r.userRoles),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Create User"," "))},dependencies:[z,Te,ue,xe,vn,xn,se,gn,oe,ve,Ie,Oe,De],encapsulation:2})}}return i})();var Ee=ht(at());var C_=(()=>{class i{constructor(e){this.sidebarService=e}ngOnInit(){this.userData=this.sidebarService.getUserData(),console.log(this.userData)}static{this.\u0275fac=function(n){return new(n||i)(w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-userdetail"]],decls:14,vars:3,consts:[[3,"innerHTML"]],template:function(n,r){n&1&&(d(0,"table")(1,"tr")(2,"th"),m(3,"ID"),h(),d(4,"th"),m(5,"Title"),h(),d(6,"th"),m(7,"Contents"),h()(),d(8,"tr")(9,"td"),m(10),h(),d(11,"td"),m(12),h(),y(13,"td",0),h()()),n&2&&(g(10),$(r.userData.Id),g(2),$(r.userData.MemTitle),g(),x("innerHTML",r.userData.MemContents,ti))},styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:18px;text-align:left}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}td[_ngcontent-%COMP%]   [innerHTML][_ngcontent-%COMP%]{padding:10px;border-radius:4px;background-color:#f0f8ff}"]})}}return i})();var mp=ht(at());var w_=(()=>{class i{constructor(e,n,r,s){this.sidebarService=e,this.fb=n,this.httpRequest=r,this.handleModals=s,this.isLoading=!1}ngOnInit(){this.authData=this.sidebarService.getAuthData();let e=this.authData.asciiToken;this.createAuthForm=this.fb.group({otp:[""],asciiToken:e})}onSubmit(){if(this.isLoading=!0,this.createAuthForm.valid){let e=this.createAuthForm.value;this.httpRequest.makePostRequest("/users_management/verify_auth",e).subscribe(n=>{this.isLoading=!1,(0,mp.default)({text:"successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.handleModals.showMother("undefined")},n=>{this.isLoading=!1,(0,mp.default)({text:"Error",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}}static{this.\u0275fac=function(n){return new(n||i)(w(j),w(mt),w(ne),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-authentication"]],decls:15,vars:4,consts:[[1,"px-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"qrcode"],["alt","User Image",3,"src"],[1,"form-group"],["for","otp"],["formControlName","otp","type","otp","placeholder","Enter Otp Code",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"p"),m(2,"User Authentication Page"),h(),y(3,"p"),d(4,"p"),m(5,"Scan your Qr Code"),h(),d(6,"form",1),k("ngSubmit",function(){return r.onSubmit()}),d(7,"p",2),y(8,"img",3),h(),d(9,"div",4)(10,"label",5),m(11,"Otp Code"),h(),y(12,"input",6),h(),d(13,"button",7),m(14),h()()()),n&2&&(g(6),x("formGroup",r.createAuthForm),g(2),x("src",r.authData.url,pt),g(5),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[De,xe,se,oe,ve,z,ue,Ie,Oe],styles:[".qrcode[_ngcontent-%COMP%]{border:2px solid blue;height:200px;width:200px}"]})}}return i})();function sD(i,t){if(i&1){let e=R();d(0,"form",3),k("ngSubmit",function(){E(e);let r=b();return A(r.addESignature())}),d(1,"div",4)(2,"label",5),m(3,"Title:"),h(),d(4,"input",6),Ue("ngModelChange",function(r){E(e);let s=b();return Ge(s.esignature.title,r)||(s.esignature.title=r),A(r)}),h()(),d(5,"label",7),m(6,"Upload Image:"),h(),d(7,"input",8),k("change",function(r){E(e);let s=b();return A(s.onFileChange(r))}),h(),d(8,"button",9),m(9,"Add E-Signature"),h()()}if(i&2){let e=b();g(4),je("ngModel",e.esignature.title)}}function oD(i,t){if(i&1){let e=R();d(0,"form",3),k("ngSubmit",function(){E(e);let r=b();return A(r.updateESignature())}),d(1,"h3"),m(2,"Update Existing E-Signature"),h(),d(3,"label",5),m(4,"Title:"),h(),d(5,"input",10),Ue("ngModelChange",function(r){E(e);let s=b();return Ge(s.esignature.title,r)||(s.esignature.title=r),A(r)}),h(),d(6,"label",7),m(7,"Upload New Image:"),h(),d(8,"input",11),k("change",function(r){E(e);let s=b();return A(s.onFileChange(r))}),h(),d(9,"button",9),m(10,"Update E-Signature"),h()()}if(i&2){let e=b();g(5),je("ngModel",e.esignature.title)}}function aD(i,t){if(i&1&&(d(0,"div")(1,"h3"),m(2,"Current E-Signature"),h(),y(3,"img",12),h()),i&2){let e=b();g(3),x("src",e.esignature.image_path,pt)}}var S_=(()=>{class i{constructor(e){this.http=e,this.esignature={title:"",image_path:""},this.recordExists=!1}ngOnInit(){this.checkForExistingRecord()}checkForExistingRecord(){this.http.makeGetRequest("/api/esignatures").subscribe(e=>{e.length>0&&(this.esignature=e[0],this.recordExists=!0)})}onFileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=s=>{this.esignature.image_path=s.target.result},r.readAsDataURL(n)}}addESignature(){console.log(this.esignature),this.http.makePostRequest("/api/esignatures",this.esignature).subscribe(()=>{this.checkForExistingRecord()})}updateESignature(){}static{this.\u0275fac=function(n){return new(n||i)(w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-esignature"]],decls:6,vars:3,consts:[[1,"esignatures-container"],["enctype","multipart/form-data",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["enctype","multipart/form-data",3,"ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["type","file","id","image","accept","image/*",3,"change"],["alt","E-Signature",1,"signature-image",3,"src"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"h2"),m(2,"E-Signatures Management"),h(),T(3,sD,10,1,"form",1)(4,oD,11,1,"form",1)(5,aD,4,1,"div",2),h()),n&2&&(g(3),x("ngIf",!r.recordExists),g(),x("ngIf",r.recordExists),g(),x("ngIf",r.esignature.image_path))},dependencies:[z,H,ue,xe,se,oe,ve,kt,De,nt,qt],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:18px;text-align:left}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}td[_ngcontent-%COMP%]   [innerHTML][_ngcontent-%COMP%]{padding:10px;border-radius:4px;background-color:#f0f8ff}"]})}}return i})();var fp=ht(at());var T_=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.handleModal=n,this.otpconfirmationService=r,this.otp="",this.isLoading=!1}onSubmit(){if(!this.otp){(0,fp.default)({text:"invalid",gravity:"top",duration:3e3,backgroundColor:"red",position:"right"}).showToast();return}this.isLoading=!0,this.httpRequest.makePostRequest("/auth/validate_two_fact_auth",{otp:this.otp}).subscribe(e=>{this.otpconfirmationService.triggerOtpConfirmationRefresh(),e.status?this.publishAndUnpublish():this.isLoading=!1},e=>{console.error("Error updating memo:",e),this.isLoading=!1,(0,fp.default)({text:"invalid OTP",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}publishAndUnpublish(){this.httpRequest.makePatchRequest("/memo/publsh_memo",{memId:this.handleModal.publishMemId.memId,publish:this.handleModal.publishMemId.status}).subscribe(e=>{this.isLoading=!1,this.handleModal.showMother("undefined")},e=>{this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-otpconfirmation"]],decls:8,vars:3,consts:[[1,"form-group","px-5"],[3,"ngSubmit"],["type","text","name","otp",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"form",1),k("ngSubmit",function(){return r.onSubmit()}),d(2,"div")(3,"label"),m(4,"Enter your Otp"),h(),d(5,"input",2),Ue("ngModelChange",function(o){return Ge(r.otp,o)||(r.otp=o),o}),h()(),d(6,"button",3),m(7),h()()()),n&2&&(g(5),je("ngModel",r.otp),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[ue,xe,se,oe,ve,z,De,nt,qt],encapsulation:2})}}return i})();var Oc=ht(at());var k_=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.sidebarService=n,this.folderService=r,this.isLoading=!1,this.name=""}onSubmit(){if(!this.name){console.log("here"),(0,Oc.default)({text:"invalid",gravity:"top",duration:3e3,backgroundColor:"red",position:"right"}).showToast();return}this.isLoading=!0,this.httpRequest.makePostRequest("/memo/folder/create",{name:this.name,isEnabled:!0}).subscribe(e=>{this.folder=e.data,this.sidebarService.show=void 0,console.log(this.folder),this.isLoading=!1,(0,Oc.default)({text:"successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.folderService.triggerFolderRefresh()},e=>{console.error("Error updating memo:",e),this.isLoading=!1,(0,Oc.default)({text:`${e.error.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-createfolder"]],decls:8,vars:3,consts:[[1,"form-group","px-5"],[3,"ngSubmit"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"form",1),k("ngSubmit",function(){return r.onSubmit()}),d(2,"div")(3,"label"),m(4,"Enter folder name"),h(),d(5,"input",2),Ue("ngModelChange",function(o){return Ge(r.name,o)||(r.name=o),o}),h()(),d(6,"button",3),m(7),h()()()),n&2&&(g(5),je("ngModel",r.name),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[De,xe,se,oe,ve,nt,qt,z,ue],encapsulation:2})}}return i})();var _r=ht(at());function lD(i,t){if(i&1&&(_e(0),d(1,"h3"),m(2,"Scan your physical QR Code"),h(),y(3,"img",3),ye()),i&2){let e=b();g(3),xi("src",e.handleModals.qrCodeData.MemQRCode,pt)}}function cD(i,t){if(i&1){let e=R();d(0,"div")(1,"div",4)(2,"div",5),y(3,"input",6),d(4,"button",7),k("click",function(){E(e);let r=b();return A(r.handleQrCodeLink())}),m(5),h()()()()}if(i&2){let e=b();g(),x("formGroup",e.form),g(4),O(" ",e.isQrCodeLoader?"Submitting...":"Get QR Code"," ")}}function dD(i,t){if(i&1){let e=R();d(0,"button",8),k("click",function(){E(e);let r=b();return A(r.createQrCode())}),m(1),h()}if(i&2){let e=b();g(),O(" ",e.isLoading?"Submitting...":"Submit"," ")}}var E_=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.handleModals=n,this.qrCodeService=r,this.isLoading=!1,this.isQrCodeFetched=!1,this.isQrCodeLoader=!1,this.form=new Tt({qrcode:new W("")})}ngOnDestroy(){}ngOnInit(){let e=this.handleModals.publishMemId}handleQrCodeLink(){let e=this.form.controls.qrcode.value;if(!e){(0,_r.default)({text:"QR Code is required",duration:3e3,gravity:"top",position:"right",backgroundColor:"orange"}).showToast();return}this.isQrCodeLoader=!0,this.httpRequest.makePatchRequest("/memo/update_memqrcode",{memQrcodeLink:e}).subscribe(n=>{this.isQrCodeLoader=!1,this.handleModals.setQrCodeData(n.data),this.form.reset(),this.isQrCodeFetched=!0,(0,_r.default)({text:"Success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast()},n=>{this.isQrCodeLoader=!1,(0,_r.default)({text:`${n.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}createQrCode(){let e=this.handleModals.publishMemId.memId;if(!e){(0,_r.default)({text:"memId is required",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),this.isLoading=!1;return}this.isLoading=!0;let n={memId:e,memqrcodeId:this.handleModals.qrCodeData.MemUniqueId};this.httpRequest.makePatchRequest("/memo/update_memo_memuniqueid",n).subscribe(r=>{(0,_r.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.isLoading=!1,this.qrCodeService.triggerQrCodeRefresh(),this.handleModals.qrCodeData=void 0,this.handleModals.showMother("undefined")},r=>{this.isLoading=!1,(0,_r.default)({text:"invalid",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-createqrcode"]],decls:4,vars:3,consts:[[1,"px-5"],[4,"ngIf"],["type","submit","class","btn btn-primary btn-block w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 my-3",3,"click",4,"ngIf"],["alt","Generated QR Code",3,"src"],[1,"form-group",3,"formGroup"],[1,"relative","w-full"],["type","text","name","qrcode","formControlName","qrcode",1,"form-control","flex-grow","pr-16"],[1,"px-4","btn","btn-primary","text-white","mt-3","rounded-r-md","hover:bg-blue-700",3,"click"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0),T(1,lD,4,1,"ng-container",1)(2,cD,6,2,"div",1)(3,dD,2,1,"button",2),h()),n&2&&(g(),x("ngIf",r.handleModals==null?null:r.handleModals.qrCodeData),g(),x("ngIf",!(r.handleModals!=null&&r.handleModals.qrCodeData)),g(),x("ngIf",r.handleModals==null?null:r.handleModals.qrCodeData))},dependencies:[De,se,oe,ve,z,H,ue,Ie,Oe],encapsulation:2})}}return i})();var hD=["fileInput"],uD=()=>["edit_files","create_memo"];function pD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"New user"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-newuser"),h()()}}function mD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"View User Details"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-userdetail"),h()()}}function fD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Signature page"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-esignature"),h()()}}function gD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Otp Confirmation"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-otpconfirmation"),h()()}}function vD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Add A QR Code"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-createqrcode"),h()()}}function xD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"View User Details"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-authentication"),h()()}}function _D(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Create Folder"),h(),d(5,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(6,"i",8),h()(),y(7,"app-createfolder"),h()()}}function yD(i,t){i&1&&(_e(0),d(1,"h4"),m(2,"Edit Memo"),h(),ye())}function bD(i,t){i&1&&(d(0,"h4"),m(1,"New Memo"),h())}function CD(i,t){if(i&1&&(d(0,"option",59),m(1),h()),i&2){let e=t.$implicit;x("value",e.Id),g(),O(" ",e.MemFoldName," ")}}function wD(i,t){if(i&1&&(_e(0),T(1,CD,2,2,"option",58),ye()),i&2){let e=b(2);g(),x("ngForOf",e.selectedAllFolder)}}function SD(i,t){i&1&&(_e(0),y(1,"span",60),m(2," Loading... "),ye())}function TD(i,t){if(i&1&&m(0),i&2){let e=b(2);O(" ",e.handleModals.show==="edit_files"?"Save Edit":"Save Draft"," ")}}function kD(i,t){i&1&&(d(0,"p"),m(1,"No attachments"),h())}function ED(i,t){if(i&1){let e=R();d(0,"a",63)(1,"div",64)(2,"figure",65)(3,"span",66),y(4,"i",67),h()()(),d(5,"div",68)(6,"p",69),m(7),h(),d(8,"span",70),m(9),h()(),d(10,"div")(11,"h5",71),m(12),h()(),d(13,"div")(14,"a",72),k("click",function(){E(e);let r=b(3);return A(r.deleteAttachment(1))}),y(15,"i",73),h()()()}if(i&2){let e=t.$implicit;g(7),$(e.name),g(2),$(e.type),g(3),$(e.size)}}function AD(i,t){if(i&1&&(d(0,"div")(1,"div",61),T(2,ED,16,3,"a",62),h()()),i&2){let e=b(2);g(2),x("ngForOf",e.memo_attachments)}}function MD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Key name is required."),h()())}function DD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Value name is required."),h()())}function LD(i,t){if(i&1){let e=R();d(0,"div",74)(1,"div")(2,"div",75)(3,"label",76),m(4,"Title"),h(),y(5,"input",77),h(),T(6,MD,3,0,"div",27),d(7,"div",75)(8,"label",78),m(9,"Value"),h(),y(10,"input",79),h(),T(11,DD,3,0,"div",27),d(12,"button",80),k("click",function(){E(e);let r=b(2);return A(r.draftMetaData())}),m(13),h()()()}if(i&2){let e,n,r=b(2);g(6),x("ngIf",((e=r.form.get("key"))==null?null:e.touched)&&((e=r.form.get("key"))==null?null:e.invalid)),g(5),x("ngIf",((n=r.form.get("value"))==null?null:n.touched)&&((n=r.form.get("value"))==null?null:n.invalid)),g(2),O(" ",r.isMetaLoader?"Loading...":"Submit"," ")}}function ID(i,t){if(i&1){let e=R();d(0,"tr")(1,"td"),m(2),h(),d(3,"td"),m(4),h(),d(5,"td",84)(6,"button",87),k("click",function(){let r=E(e).index,s=b(3);return A(s.deleteMetaData(r))}),d(7,"i",88),m(8,"delete"),h()()()()}if(i&2){let e=t.$implicit;g(2),$(e.key),g(2),$(e.value)}}function OD(i,t){if(i&1&&(d(0,"div")(1,"table",82)(2,"thead")(3,"tr",83)(4,"th",84),m(5,"Memo Title"),h(),d(6,"th",84),m(7,"Value"),h(),d(8,"th",84),m(9,"Delete"),h()()(),d(10,"tbody",85),T(11,ID,9,2,"tr",86),h()()()),i&2){let e=b(2);g(11),x("ngForOf",e.metaDataResult)}}function FD(i,t){i&1&&y(0,"div")}function ND(i,t){if(i&1&&(d(0,"li",109)(1,"span",110),m(2),h()()),i&2){let e=t.$implicit;g(2),$(e)}}function RD(i,t){if(i&1){let e=R();d(0,"div",100)(1,"div",101)(2,"div",102)(3,"div",103)(4,"label",104),m(5,"Enter IP Address"),h(),y(6,"input",105),h(),d(7,"button",106),k("click",function(){E(e);let r=b(3);return A(r.addIP(r.memoForm.controls.ip_address.value))}),m(8," Add IP Address "),h()(),d(9,"ul",107),T(10,ND,3,1,"li",108),h()()()}if(i&2){let e=b(3);g(6),x("ngModel",e.ip_address),g(4),x("ngForOf",e.allowed_ips)}}function PD(i,t){i&1&&y(0,"div")}function VD(i,t){i&1&&(d(0,"div"),m(1," No location found for this area. "),h())}function BD(i,t){if(i&1&&(d(0,"li",109)(1,"span",110),m(2),h()()),i&2){let e=t.$implicit;g(2),$(e)}}function zD(i,t){if(i&1){let e=R();_e(0),T(1,PD,1,0,"div",27),d(2,"div"),y(3,"input",111),d(4,"button",112),k("click",function(){E(e);let r=b(3);return A(r.getIp())}),m(5," Get Location Details "),h()(),T(6,VD,2,0,"div",27),d(7,"ul",107),T(8,BD,3,1,"li",108),h(),ye()}if(i&2){let e,n=b(3);g(),x("ngIf",n.iframeVisible),g(2),x("value",n.selectedCountry),g(3),x("ngIf",!n.locationDetails&&((e=n.memoForm.get("areaName"))==null?null:e.value)),g(2),x("ngForOf",n.area_location)}}function $D(i,t){if(i&1&&(d(0,"div",21)(1,"p"),m(2),h(),d(3,"p"),m(4),h(),d(5,"p"),m(6),h(),d(7,"p"),m(8),h(),d(9,"p"),m(10),h()()),i&2){let e=t.$implicit;g(2),O("Id: ",e.Id,""),g(2),O("CreatedAt: ",e.CreatedAt,""),g(2),O("MemSecByIp: ",e.MemSecByIp,""),g(2),O("MemSecBySmsOTP: ",e.MemSecBySmsOTP,""),g(2),O("MemSecByEmailOTP: ",e.MemSecByEmailOTP,"")}}function HD(i,t){if(i&1&&(d(0,"div",100)(1,"div",101),T(2,$D,11,5,"div",113),d(3,"div")(4,"label",114),m(5,"New"),h(),y(6,"input",115),h(),d(7,"div",21)(8,"label",116),m(9,"Template Description"),h(),y(10,"textarea",117),h(),d(11,"button",118),m(12," Save Template "),h()()()),i&2){let e=b(3);g(2),x("ngForOf",e.template)}}function jD(i,t){if(i&1){let e=R();d(0,"div")(1,"div")(2,"h6",89)(3,"span",90),m(4," Create custom security features "),h()(),d(5,"div",44)(6,"div")(7,"a",91),y(8,"i",45),m(9," Email OTP "),h()(),d(10,"div")(11,"div",32),y(12,"input",92),h()()(),d(13,"div",44)(14,"div")(15,"a",91),y(16,"i",45),m(17," SMS OTP "),h()(),d(18,"div")(19,"div",32),y(20,"input",93),h()()(),d(21,"div",44)(22,"div")(23,"a",91),y(24,"i",45),m(25," IP Address "),h()(),d(26,"div")(27,"div",32),y(28,"input",94),h()()(),T(29,RD,11,2,"div",95),d(30,"div",44)(31,"div")(32,"a",91),y(33,"i",45),m(34," Location Geofencing "),h()(),d(35,"div")(36,"div",32)(37,"input",96),k("change",function(r){E(e);let s=b(2);return A(s.onCheckboxChange(r))}),h()()()(),T(38,zD,9,4,"ng-container",27),h(),d(39,"div",32),y(40,"input",97),d(41,"label",98),m(42,"Create as template"),h()(),T(43,HD,13,1,"div",95),d(44,"button",99),m(45),h()()}if(i&2){let e=b(2);g(29),x("ngIf",e.memoForm.controls.secureByIp.value),g(9),x("ngIf",e.memoForm.controls.secureByGeoLocation.value),g(5),x("ngIf",e.memoForm.controls.create_as_template.value),g(2),O(" ",e.isLoading?"Loading.....":"Save"," ")}}function GD(i,t){if(i&1&&(d(0,"div",119)(1,"button",99),m(2),h()()),i&2){let e=b(2);g(2),O(" ",e.isLoading?"Loading.....":"Save"," ")}}function UD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Key name is required."),h()())}function WD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Email is required."),h()())}function qD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Phone number is required."),h()())}function XD(i,t){if(i&1){let e=R();d(0,"div")(1,"button",39),k("click",function(){E(e);let r=b(3);return A(r.selectFile())}),y(2,"i",40),m(3," Upload Allowed Users "),h(),d(4,"input",41,2),k("change",function(r){E(e);let s=b(3);return A(s.handleChangeEvent(r))}),h(),d(6,"div",125)(7,"div",21)(8,"label",126),m(9,"Name"),h(),y(10,"input",127),h(),T(11,UD,3,0,"div",27),d(12,"div",21)(13,"label",128),m(14,"Email"),h(),y(15,"input",129),h(),T(16,WD,3,0,"div",27),d(17,"div",21)(18,"label",130),m(19,"Phone"),h(),y(20,"input",131),h(),T(21,qD,3,0,"div",27),h()()}if(i&2){let e,n,r,s=b(3);g(11),x("ngIf",((e=s.createMemoForm.get("name"))==null?null:e.touched)&&((e=s.createMemoForm.get("name"))==null?null:e.invalid)),g(5),x("ngIf",((n=s.createMemoForm.get("email"))==null?null:n.touched)&&((n=s.createMemoForm.get("email"))==null?null:n.invalid)),g(5),x("ngIf",((r=s.createMemoForm.get("phone"))==null?null:r.touched)&&((r=s.createMemoForm.get("phone"))==null?null:r.invalid))}}function YD(i,t){i&1&&(d(0,"div")(1,"small",81),m(2,"Group email is required."),h()())}function QD(i,t){if(i&1&&(d(0,"div")(1,"div",21)(2,"label",132),m(3,"Group Email"),h(),y(4,"input",133),h(),T(5,YD,3,0,"div",27),h()),i&2){let e,n=b(3);g(5),x("ngIf",((e=n.createMemoForm.get("groupEmail"))==null?null:e.touched)&&((e=n.createMemoForm.get("groupEmail"))==null?null:e.invalid))}}function KD(i,t){if(i&1){let e=R();d(0,"div",119)(1,"div",21)(2,"label",120),m(3,"Select Type"),h(),d(4,"select",121),y(5,"option"),d(6,"option",122),m(7,"Individual"),h(),d(8,"option",123),m(9,"Group"),h()()(),T(10,XD,22,3,"div",27)(11,QD,6,1,"div",27),d(12,"button",124),k("click",function(){E(e);let r=b(2);return A(r.createMemo())}),m(13),h()()}if(i&2){let e=b(2);g(10),x("ngIf",e.createMemoForm.controls.accessType.value=="individual"),g(),x("ngIf",e.createMemoForm.controls.accessType.value=="group"),g(2),O(" ",e.isLoading?"Loading.....":"Save"," ")}}function JD(i,t){if(i&1){let e=R();d(0,"div",4)(1,"div",5)(2,"div",6),T(3,yD,3,0,"ng-container",9)(4,bD,2,0,"ng-template",null,0,an),d(6,"a",7),k("click",function(){E(e);let r=b();return A(r.close())}),y(7,"i",8),h()(),d(8,"div",10)(9,"ul",11)(10,"li",12)(11,"a",13),k("click",function(){E(e);let r=b();return A(r.handle("hello"))}),m(12,"Content"),h()(),d(13,"li",12)(14,"a",14),k("click",function(){E(e);let r=b();return A(r.handle("hello"))}),m(15,"Meta Data"),h()(),d(16,"li",12)(17,"a",15),k("click",function(){E(e);let r=b();return A(r.handle("hello"))}),m(18,"Attachments"),h()(),d(19,"li",12)(20,"a",16),k("click",function(){E(e);let r=b();return A(r.handle("hello"))}),m(21,"Security"),h()(),d(22,"li",12)(23,"a",17),k("click",function(){E(e);let r=b();return A(r.handle("hello"))}),m(24,"Sharing"),h()()(),d(25,"div",18)(26,"div",19)(27,"form",20),k("ngSubmit",function(r){E(e);let s=b();return A(s.draftMemo(r))}),d(28,"div",21)(29,"label",22),m(30,"Title"),h(),y(31,"input",23),h(),d(32,"div",21)(33,"label",24),m(34,"Folder"),h(),d(35,"select",25)(36,"option",26),m(37,"Select a folder"),h(),T(38,wD,2,1,"ng-container",27),h()(),d(39,"div",21)(40,"label",28),m(41,"Memo"),h(),d(42,"div",29),y(43,"ngx-editor-menu",30)(44,"ngx-editor",31),h()(),d(45,"div",32),y(46,"input",33),d(47,"label",34),m(48,"Include Signature"),h()(),d(49,"div")(50,"div",35)(51,"button",36),T(52,SD,3,0,"ng-container",9)(53,TD,1,1,"ng-template",null,1,an),h(),d(55,"button",37),m(56),h()()()()(),d(57,"div",38),T(58,kD,2,0,"p",27),d(59,"button",39),k("click",function(){E(e);let r=b();return A(r.chooseFile())}),y(60,"i",40),m(61," Upload Attachment "),h(),d(62,"input",41,2),k("change",function(r){E(e);let s=b();return A(s.fileChangeEvent(r))}),h(),T(64,AD,3,1,"div",27),h(),d(65,"div",42)(66,"div",43)(67,"div",44)(68,"div")(69,"a"),y(70,"i",45),m(71," Meta Data "),h()(),d(72,"div",46),y(73,"input",47),h()(),T(74,LD,14,3,"div",48),h(),T(75,OD,12,1,"div",27),h(),d(76,"div",49)(77,"form",20),k("ngSubmit",function(){E(e);let r=b();return A(r.onsubmit())}),d(78,"div",21)(79,"select",50),k("change",function(){E(e);let r=b();return A(r.changeSecurityType())}),y(80,"option"),d(81,"option",51),m(82,"Select from Templates"),h(),d(83,"option",52),m(84,"Create Custom"),h()()(),T(85,FD,1,0,"div",27)(86,jD,46,4,"div",27),h()(),d(87,"div",53)(88,"div",43)(89,"div",21)(90,"label",24),m(91,"Select Access Type"),h(),d(92,"select",54),y(93,"option"),d(94,"option",55),m(95,"Public"),h(),d(96,"option",56),m(97,"Restricted"),h()()(),T(98,GD,3,1,"div",57)(99,KD,14,3,"div",57),h()()()()()()}if(i&2){let e=_i(5),n=_i(54),r=b();g(3),x("ngIf",r.handleModals.show==="edit_files")("ngIfElse",e),g(24),x("formGroup",r.memoForm),g(11),x("ngIf",r.selectedAllFolder&&r.selectedAllFolder.length>0),g(5),x("editor",r.editor),g(),x("editor",r.editor)("placeholder","Type here..."),g(7),x("disabled",r.isLoading),g(),x("ngIf",r.isLoading)("ngIfElse",n),g(3),x("disabled",r.isLoading),g(),O(" ",r.isLoadingApprove?"Loading...":"Submit for approval"," "),g(2),x("ngIf",r.memo_attachments.length==0),g(6),x("ngIf",r.memo_attachments.length>0),g(2),x("formGroup",r.form),g(8),x("ngIf",r.form.controls.metaData.value),g(),x("ngIf",r.metaDataResult&&r.metaDataResult.length>0),g(2),x("formGroup",r.memoForm),g(8),x("ngIf",r.memoForm.controls.security_type.value=="template"),g(),x("ngIf",r.memoForm.controls.security_type.value=="custom"),g(2),x("formGroup",r.createMemoForm),g(10),x("ngIf",r.createMemoForm.controls.access.value=="public"),g(),x("ngIf",r.createMemoForm.controls.access.value=="restricted")}}var A_=(()=>{class i{constructor(e,n,r,s,o){this.handleModals=e,this.httpRequest=n,this.fb=r,this.folderService=s,this.fileService=o,this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false"),this.allowed_ips=[],this.ip_address="",this.location=null,this.ipAddress="",this.areaName="",this.locationDetails={},this.area_location=[],this.template=[],this.selectedAllFolder=[],this.isLoading=!1,this.isLoadingApprove=!1,this.showSubmitButton=!1,this.iframeVisible=!1,this.countrySelected=!1,this.selectedCountry="",this.metaDataArray=[],this.isMetaLoader=!1,this.memo_attachments=[{name:"Sample",size:"20",type:"Images"}],this.memoForm=new Tt({title:new W("",he.required),memo:new W("",he.required),memFoldId:new W("",he.required),include_signature:new W(!1),security_type:new W(""),secureByEmailOtp:new W(!1),secureBySmsOtp:new W(!1),secureByIp:new W(!1),secureByGeoLocation:new W(!1),areaName:new W(""),ip_address:new W(""),create_as_template:new W(!1),access:new W(""),accessType:new W(""),public:new W(""),name:new W(""),email:new W(""),phone:new W(""),groupEmail:new W(""),metaData:new W(""),key:new W(""),value:new W("")}),this.form=this.fb.group({metaData:new W(""),key:["",he.required],value:["",he.required]}),this.createMemoForm=this.fb.group({access:new W(""),accessType:new W(""),public:new W(""),name:new W("",he.required),email:new W("",he.required),phone:new W("",he.required),groupEmail:new W("",he.required)})}handle(e=void 0){this.handleModals.setCreateMemoTabs(e)}ngOnInit(){this.editor=new Dc,this.fetchFolders(),this.getIp(),this.folderService.refreshFolder$.subscribe(e=>{e&&this.fetchFolders()})}ngDoCheck(){if(this.handleModals.show=="edit_files"&&this.handleModals.check=="nothing"){let e=this.handleModals.show=="edit_files";this.memoForm.setValue({title:e?this.handleModals?.editMemo?.MemTitle:"",memo:e?this.handleModals?.editMemo?.MemContents:"",memFoldId:e?this.handleModals?.editMemo?.MemFoldId:"",metaData:"",include_signature:!1,security_type:!1,secureByEmailOtp:!1,secureBySmsOtp:!1,secureByIp:!1,secureByGeoLocation:!1,areaName:"",ip_address:"",create_as_template:!1,access:"",accessType:"",name:"",email:"",phone:"",groupEmail:"",key:"",value:"",public:""}),this.handleModals.toggleCheck("hello")}}showIframe(){this.iframeVisible=!0}extractPlainText(e){return!e||!Array.isArray(e.content)?(console.error("Invalid memo content:",e),""):e.content.map(n=>typeof n=="string"?n:n.text?n.text:"").join(" ")}ngOnDestroy(){this.editor.destroy()}fetchAreaDetails(){this.areaName=this.memoForm.get("areaName")?.value,this.area_location.push(this.areaName),console.log("Area Name:",this.areaName),this.memoForm.get("areaName")?.reset()}getIp(){this.httpRequest.makeGetRequest("/memo/memgeotemp").subscribe(e=>{let n=e.data.lat,r=e.data.lng,s=`Lat: ${n}, Lng: ${r}`;this.memoForm.controls.areaName.setValue(s),this.countrySelected=!1,this.iframeVisible=!1},e=>{console.log(e)})}isValidIP(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}dmsToDecimal(e){let n=e.split(/°|'|"| /).filter(c=>c),r=parseFloat(n[0]),s=parseFloat(n[1])/60,o=parseFloat(n[2])/3600,a=n[3],l=r+s+o;return(a==="S"||a==="W")&&(l*=-1),l}isValidAreaName(e){return/^[a-zA-Z\s]+$/.test(e)}isValidAreaNameWithState(e){return/^[a-zA-Z\s]+(?:,\s*[a-zA-Z\s]+)?$/.test(e)}close(){this.handleModals.showMother("undefined"),this.handleModals.toggleCheck("nothing"),this.memoForm.reset()}draftMemo(e){if(!this.memoForm.valid){(0,Ee.default)({text:"Form is not valid",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}let n={title:this.memoForm.value.title,memo:this.memoForm.value.memo,MemUniqueId:this.memId,include_signature:!!this.memoForm.value.include_signature,memFold:Number(this.memoForm.value.memFoldId),isPublished:e.submitter.value==="save"?0:1};if(n.memo&&n.memo.type==="doc"&&(n.memo=this.extractPlainText(n.memo)),this.handleModals.show==="edit_files"&&e.submitter.value==="save"){let r={title:this.memoForm.value.title||this.handleModals?.editMemo?.MemTitle,memo:this.memoForm.value.memo,memId:this.handleModals?.editMemo?.MemUniqueId,memFold:this.handleModals?.editMemo?.MemFoldId};this.isLoading=!0,this.httpRequest.makePatchRequest("/memo/update",r).subscribe(s=>{this.isLoading=!1,this.memoForm.reset(),(0,Ee.default)({text:"Memo updated successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh()},s=>{console.error("Error updating memo:",s),this.isLoading=!1,(0,Ee.default)({text:`${s.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}else this.handleModals.show==="edit_files"&&e.submitter.value==="approve"?(this.isLoadingApprove=!0,this.httpRequest.makePatchRequest("/memo/publsh_memo",{memId:this.handleModals?.editMemo?.Id,publish:"pending"}).subscribe(r=>{this.isLoadingApprove=!1,(0,Ee.default)({text:"Memo submitted successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh(),this.memoForm.reset()},r=>{this.isLoadingApprove=!1,(0,Ee.default)({text:`${r.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})):this.handleModals.show==="create_memo"&&(this.isLoading=!0,this.httpRequest.makePostRequest("/memo/create",n).subscribe(r=>{this.isLoading=!1,this.memId=r.id,this.handleModals.setMemId(r.id),(0,Ee.default)({text:"Memo created successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh(),this.memoForm.reset()},r=>{this.isLoading=!1,(0,Ee.default)({text:`${r.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()}))}addIP(e){if(!e||!this.isValidIP(e)){(0,Ee.default)({text:"Please enter a valid IP address.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}this.allowed_ips.includes(e)?(0,Ee.default)({text:"IP address already exists.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast():(this.allowed_ips.push(e),(0,Ee.default)({text:"IP address added successfully.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()),this.memoForm.get("ip_address")?.reset()}onsubmit(){if(this.isLoading=!1,!this.memId){(0,Ee.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}this.isLoading=!0;let e=Q(M({},this.memoForm.value),{data:this.test,ipData:this.allowed_ips,geolocationData:Object.values(this.locationDetails),memId:this.memId,new:this.area_location,metaData:this.metaDataArray});console.log(e),this.httpRequest.makePostRequest("/memo/mem_secure_rule/create",e).subscribe(n=>{console.log(n),this.isLoading=!1,(0,Ee.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()},n=>{console.log(n.error.message),this.isLoading=!1,(0,Ee.default)({text:"something went wrong",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}onCheckboxChange(e){}createMemo(){if(this.isLoading=!1,!this.memId){(0,Ee.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}if(!this.createMemoForm.valid){(0,Ee.default)({text:"Form is not valid valid",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}this.isLoading=!0;let e={access:this.createMemoForm.get("access")?.value,memId:this.memId,users:[{phone:this.createMemoForm.get("phone")?.value,email:this.createMemoForm.get("email")?.value,group:this.createMemoForm.get("groupEmail")?.value}]};console.log(e),this.httpRequest.makePostRequest("/memo/access_type/create",e).subscribe(n=>{console.log(n),this.isLoading=!1,(0,Ee.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()},n=>{console.log(n),this.isLoading=!1,(0,Ee.default)({text:"Error saving memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}draftMetaData(){if(!this.memId){(0,Ee.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}if(!this.form.valid){(0,Ee.default)({text:"Please fill all the fields",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}let e=this.form.value;this.metaDataArray.push(e),console.log("Form submitted:",e);let n={memId:this.memId,data:{key:e.key,value:e.value}};this.isMetaLoader=!0,this.httpRequest.makePostRequest("/memo/metadata",n).subscribe(r=>{(0,Ee.default)({text:"Meta Data added successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.memoForm.controls.key.reset(),this.memoForm.controls.value.reset(),this.isLoading=!1,this.fetchMetaData(),this.isMetaLoader=!1},r=>{this.isMetaLoader=!1,(0,Ee.default)({text:"Error fetching metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}fetchMetaData(){let e=`/memo/metadata/?memId=${encodeURIComponent(this.memId)}`;this.httpRequest.makeGetRequest(e).subscribe(n=>{this.metaDataResult=n.data},n=>{(0,Ee.default)({text:"Error fetching metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}deleteMetaData(e){let n=`/memo/metadata/?memId=${encodeURIComponent(this.memId)}&key=${encodeURIComponent(e)}`;this.httpRequest.makeDeleteRequest(n).subscribe(r=>{this.metaDataResult=r.data,(0,Ee.default)({text:"success",duration:3e3,position:"top",backgroundColor:"linear-gradient(to right, #0000FF, #0000FF)",stopOnFocus:!0,className:"bg-white text-dark",style:{borderRadius:"8px",fontFamily:"Helvetica Neue",fontWeight:"bold",padding:"25px",margin:"25px"}}).showToast()},r=>{(0,Ee.default)({text:"Error fetching metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}getMemoAttachments(){this.httpRequest.makeGetRequest(`/memo/memo_attachment?${this.memId}`).subscribe(e=>{console.log(e)},e=>{console.log(e)})}deleteAttachment(e){confirm("Are you sure you want to delete this attachment?")&&this.httpRequest.makeDeleteRequest(`/memo/memo_attachment?id=${this.memId}`).subscribe(n=>{console.log("Attachment deleted successfully",n),this.getMemoAttachments()},n=>{console.error("Error deleting attachment",n)})}chooseFile(){this.fileInput.nativeElement.click()}fileChangeEvent(e){let n=new FormData,r=e.target.files[0];r?(console.log(r),n.append("image",r,r.name),this.httpRequest.makePostRequest("/memo/upload_image",n,!0).subscribe(s=>{console.log(s)},s=>{console.log(s)})):console.warn("No file selected.")}changeSecurityType(){event.target.value==="template"&&this.saveTemplate()}saveTemplate(){this.httpRequest.makeGetRequest("/memo/mem_secure_rule/all").subscribe(e=>{console.log(e.data),this.template=e.data})}fetchFolders(){this.httpRequest.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.selectedAllFolder=e.data},e=>{})}selectFile(){this.fileInput.nativeElement.click()}handleChangeEvent(e){let n=new FormData,r=e.target.files[0];r?(console.log(r),n.append("image",r,r.name),this.httpRequest.makePostRequest("/memo/access_type/create",n,!0).subscribe(s=>{console.log(s)},s=>{console.log(s)})):console.warn("No file selected.")}static{this.\u0275fac=function(n){return new(n||i)(w(j),w(ne),w(mt),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-sidebarforms"]],viewQuery:function(n,r){if(n&1&&pi(hD,5),n&2){let s;Ht(s=jt())&&(r.fileInput=s.first)}},decls:9,vars:9,consts:[["newMemo",""],["buttonText",""],["fileInput",""],["class","sidebar-group-forms d-print-none",4,"ngIf"],[1,"sidebar-group-forms","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],["href","javascript:;",1,"btn","btn-light","btn-floating","sidebar-close-btn",3,"click"],[1,"ti-angle-right"],[4,"ngIf","ngIfElse"],[1,"sidebar-content"],["role","tablist",1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["id","home-tab","data-toggle","tab","href","#home","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active",3,"click"],["id","metadata-tab","data-toggle","tab","href","#metadata","role","tab","aria-controls","metadata","aria-selected","false",1,"nav-link",3,"click"],["id","profile-tab","data-toggle","tab","href","#profile","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link",3,"click"],["id","contact-tab","data-toggle","tab","href","#contact","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link",3,"click"],["id","sharing-tab","data-toggle","tab","href","#sharing","role","tab","aria-controls","sharing","aria-selected","false",1,"nav-link",3,"click"],[1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","formControlName","title","id","title","name","title","aria-describedby","emailHelp","placeholder","",1,"form-control"],["for","exampleFormControlSelect1"],["formControlName","memFoldId","id","memFoldId",1,"form-control"],["value",""],[4,"ngIf"],["for","exampleFormControlTextarea1"],[1,"NgxEditor__Wrapper",2,"height","450px","max-height","500px","overflow-y","auto"],[3,"editor"],["formControlName","memo",3,"editor","placeholder"],[1,"form-group","form-check"],["type","checkbox","name","include_signature","formControlName","include_signature","id","include_signature",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],[1,"form-buttons","mb-4"],["type","submit","name","action","value","save",1,"btn","btn-primary",3,"disabled"],["type","submit","name","action","value","approve",1,"btn","btn-primary",3,"disabled"],["id","profile","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"btn","btn-lg","btn-block","btn-outline-primary",3,"click"],[1,"fa","fa-cloud-upload","mr-3"],["type","file","id","input-file","name","input-file","hidden","",3,"change"],["id","metadata","role","tabpanel","aria-labelledby","metadata-tab",1,"tab-pane","fade"],[3,"formGroup"],[1,"card","card-body","mb-3","d-flex","justify-content-between","flex-row"],[1,"fa","fa-lock","mr-2"],[1,"form-check","form-switch"],["type","checkbox","name","metaData","formControlName","metaData","id","exampleCheck1",1,"form-check-input"],["class","mt-3",4,"ngIf"],["id","contact","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],["name","security_type","formControlName","security_type","id","exampleFormControlSelect1",1,"form-control",3,"change"],["value","template"],["value","custom"],["id","sharing","role","tabpanel","aria-labelledby","sharing-tab",1,"tab-pane","fade"],["name","access","formControlName","access","id","access",1,"form-control"],["value","public"],["value","restricted"],["style","margin: 16px 0px",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"list-group","list-group-flush","mb-3"],["href","javascript:;","class","list-group-item px-0 d-flex align-items-center",4,"ngFor","ngForOf"],["href","javascript:;",1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"mb-0"],[1,"small","text-muted"],[1,"text-primary"],["href","javascript:;",1,"btn","btn-floating",3,"click"],[1,"ti-trash"],[1,"mt-3"],[1,"form-group","mb-3"],["for","title"],["type","text","formControlName","key","id","key","placeholder","Enter title",1,"form-control"],["for","value"],["type","text","formControlName","value","id","value","placeholder","Enter value",1,"form-control"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center","align-items-center","w-100","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],[1,"text-danger"],[1,"table","table-bordered","mt-4"],[1,"flex","justify-content-between"],[1,"text-center"],[1,""],[4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[1,"fas","fa-trash-alt","text-danger"],[1,"d-md-flex","justify-content-between","mb-3"],[1,"d-block"],["href","#"],["type","checkbox","name","secureByEmailOtp","formControlName","secureByEmailOtp","id","exampleCheck1",1,"form-check-input"],["type","checkbox","name","secureBySmsOtp","formControlName","secureBySmsOtp","id","exampleCheck1",1,"form-check-input"],["type","checkbox","name","secureByIp","formControlName","secureByIp","id","exampleCheck1",1,"form-check-input"],["class","card",4,"ngIf"],["type","checkbox","name","secureByGeoLocation","formControlName","secureByGeoLocation","id","exampleCheck1",1,"form-check-input",3,"change"],["type","checkbox","name","create_as_template","formControlName","create_as_template","id","create_as_template",1,"form-check-input"],["for","create_as_template",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3"],[1,"card"],[1,"card-body"],[1,"form-inline"],[1,"form-group","mb-2"],["for","ip_address",1,"sr-only"],["type","text","id","ip_address","name","ip_address","value","ip_address","formControlName","ip_address",1,"border","border-dark","rounded","form-control-plaintext",3,"ngModel"],["type","button",1,"btn","btn-primary","mb-2",3,"click"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],[1,"badge","border","bg-success-bright","text-success"],["type","text","formControlName","areaName",1,"card","form-control",3,"value"],["type","button",1,"btn","btn-primary","mb-2","my-3",3,"click"],["class","form-group",4,"ngFor","ngForOf"],["for",""],["type","text","formControlName","templateName","id","templateName","placeholder","Enter Template Name",1,"form-control"],["for","templateDescription"],["formControlName","templateDescription","id","templateDescription","placeholder","Enter Template Description",1,"form-control"],["type","button",1,"btn","btn-primary"],[2,"margin","16px 0px"],["for","accessType"],["name","accessType","formControlName","accessType","id","accessType",1,"form-control"],["value","individual"],["value","group"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"click"],[1,"card","border-0",2,"margin","16px 0px"],["for","users_name"],["type","text","formControlName","name","id","users_name","placeholder","Enter name",1,"form-control"],["for","users_email"],["type","email","formControlName","email","id","users_email","placeholder","Enter email",1,"form-control"],["for","phone"],["type","text","formControlName","phone","id","users_phone","placeholder","Enter phone number",1,"form-control"],["for","group_email"],["type","email","formControlName","groupEmail","id","group_email","placeholder","Enter group email",1,"form-control"]],template:function(n,r){n&1&&(d(0,"div"),T(1,pD,8,0,"div",3)(2,mD,8,0,"div",3)(3,fD,8,0,"div",3)(4,gD,8,0,"div",3)(5,vD,8,0,"div",3)(6,xD,8,0,"div",3)(7,_D,8,0,"div",3)(8,JD,100,23,"div",3),h()),n&2&&(g(),x("ngIf",r.handleModals.show=="new_user"),g(),x("ngIf",r.handleModals.show=="forms"),g(),x("ngIf",r.handleModals.show=="esignature"),g(),x("ngIf",r.handleModals.show=="otp"),g(),x("ngIf",r.handleModals.show=="qrcode"),g(),x("ngIf",r.handleModals.show=="authentication"),g(),x("ngIf",r.handleModals.show=="create_folder"),g(),x("ngIf",Re(8,uD).includes(r.handleModals.show)))},dependencies:[z,Te,H,ue,xe,vn,xn,se,Ao,gn,oe,ve,Ie,Oe,De,__,f_,x_,Ic,C_,w_,S_,T_,k_,E_],styles:[".form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}"]})}}return i})();var M_=(()=>{class i{constructor(){this.prop=!1,this.handleClick=e=>{this.prop=!this.prop}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"layout-wrapper"],[3,"dataEmitter"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"app-header",1),k("dataEmitter",function(o){return r.handleClick(o)}),h(),y(2,"router-outlet")(3,"app-sidebarforms"),h())},dependencies:[kl,Yn,El,A_],encapsulation:2})}}return i})();var ZD=()=>["/portal/dashboard"],eL=()=>["/portal/files"],tL=()=>["/login"],iL=()=>["/portal/activities"],nL=()=>["/portal/users"],rL=()=>["/portal/settings"];function sL(i,t){i&1&&(_e(0),d(1,"li")(2,"a",5),y(3,"i",13),d(4,"span",7),m(5,"Activities"),h()()(),d(6,"li")(7,"a",5),y(8,"i",14),d(9,"span",7),m(10,"Users"),h()()(),d(11,"li")(12,"a",5),y(13,"i",15),d(14,"span",7),m(15,"Settings"),h()()(),ye()),i&2&&(g(2),x("routerLink",Re(3,iL)),g(5),x("routerLink",Re(4,nL)),g(5),x("routerLink",Re(5,rL)))}var Mi=(()=>{class i{constructor(e){this.router=e,this.isAdmin="false"}ngOnInit(){this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false")}signOut(){localStorage.removeItem("isAdmin"),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||i)(w(ge))}}static{this.\u0275cmp=D({type:i,selectors:[["app-navigation"]],decls:23,vars:7,consts:[[1,"navigation"],[1,"logo"],["href","index.html"],["src","../../assets/media/image/logo.png","alt","logo",2,"width","100%","margin","16px 0px"],[2,"margin-top","40px"],[3,"routerLink"],[1,"nav-link-icon","ti-pie-chart"],[1,"nav-link-label"],[1,"badge","badge-danger","badge-small"],[1,"nav-link-icon","ti-file"],[4,"ngIf"],[3,"click","routerLink"],[1,"nav-link-icon","ti-power-off"],[1,"nav-link-icon","ti-pulse"],[1,"nav-link-icon","ti-user"],[1,"nav-link-icon","ti-settings"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"a",2),y(3,"img",3),h()(),d(4,"ul",4)(5,"li")(6,"a",5),y(7,"i",6),d(8,"span",7),m(9,"Dashboard"),h(),d(10,"span",8),m(11,"2"),h()()(),d(12,"li")(13,"a",5),y(14,"i",9),d(15,"span",7),m(16,"Files"),h()()(),T(17,sL,16,6,"ng-container",10),d(18,"li")(19,"a",11),k("click",function(){return r.signOut()}),y(20,"i",12),d(21,"span",7),m(22,"Log out"),h()()()()()),n&2&&(g(6),x("routerLink",Re(4,ZD)),g(7),x("routerLink",Re(5,eL)),g(4),x("ngIf",r.isAdmin),g(2),x("routerLink",Re(6,tL)))},dependencies:[un,z,H],encapsulation:2})}}return i})();function oL(i,t){i&1&&(d(0,"div",39)(1,"div",3),y(2,"div",40),h()())}function aL(i,t){if(i&1&&(d(0,"div")(1,"div",43)(2,"div",44)(3,"div",45)(4,"figure",46)(5,"span",47),y(6,"i",48),h()()(),d(7,"div",49)(8,"p",50),m(9),h(),d(10,"span",51),m(11),h()(),y(12,"div"),h()()()),i&2){let e=t.$implicit;g(9),$(e==null?null:e.MemFoldName),g(2),O("",e==null?null:e.total_file," Files")}}function lL(i,t){if(i&1&&(d(0,"div",12),y(1,"div",41),T(2,aL,13,2,"div",42),h()),i&2){let e=b();g(2),x("ngForOf",e.folder)}}var Di=(()=>{class i{constructor(e,n,r){this.HttpRequest=e,this.handleModal=n,this.folderService=r,this.folder=[],this.isLoading=!0}ngOnInit(){this.folderService.refreshFolder$.subscribe(e=>{e&&this.fetchFolders()})}openModal(){this.handleModal.showMother("create_memo")}fetchFolders(){this.HttpRequest?.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.folder=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-sidebar"]],decls:94,vars:2,consts:[[1,"sidebar-group","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],[1,"text-center"],["class","spinner-container",4,"ngIf"],["class","sidebar-content",4,"ngIf"],[1,"sidebar-footer"],[1,"btn","btn-lg","btn-block","btn-outline-primary",3,"click"],[1,"fa","fa-cloud-upload","mr-3"],["id","view-detail",1,"sidebar"],["href","#",1,"btn","btn-light","btn-floating","sidebar-close-btn"],[1,"ti-angle-right"],[1,"sidebar-content"],[1,"avatar","mb-4"],[1,"avatar-title","bg-info-bright","text-info","rounded-pill"],[1,"ti-file"],[1,"row","mb-3"],[1,"col-md-5"],[1,"col-md-7"],["href","#",1,"link-1"],[1,"col-md-7","text-success"],[1,"btn","btn-lg","btn-block","btn-primary"],[1,"ti-share","mr-3"],["id","settings",1,"sidebar"],[1,"list-group","list-group-flush"],[1,"list-group-item","pl-0","pr-0"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1","checked","",1,"custom-control-input"],["for","customSwitch1",1,"custom-control-label"],["type","checkbox","id","customSwitch2",1,"custom-control-input"],["for","customSwitch2",1,"custom-control-label"],["type","checkbox","id","customSwitch3","checked","",1,"custom-control-input"],["for","customSwitch3",1,"custom-control-label"],["type","checkbox","id","customSwitch4","checked","",1,"custom-control-input"],["for","customSwitch4",1,"custom-control-label"],["type","checkbox","id","customSwitch5",1,"custom-control-input"],["for","customSwitch5",1,"custom-control-label"],["type","checkbox","id","customSwitch6",1,"custom-control-input"],["for","customSwitch6",1,"custom-control-label"],[1,"spinner-container"],[1,"spinner"],["id","justgage_five",1,"mb-3"],[4,"ngFor","ngForOf"],[1,"list-group","list-group-flush","mb-3"],[1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"mb-0"],[1,"small","text-muted"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),m(4,"Folders"),h()(),T(5,oL,3,0,"div",4)(6,lL,3,1,"div",5),d(7,"div",6)(8,"button",7),k("click",function(){return r.openModal()}),y(9,"i",8),m(10," Create a Memo "),h()()(),d(11,"div",9)(12,"div",2)(13,"h4"),m(14,"View Detail"),h(),d(15,"a",10),y(16,"i",11),h()(),d(17,"div",12)(18,"figure",13)(19,"span",14),y(20,"i",15),h()(),d(21,"div",16)(22,"div",17),m(23,"File name:"),h(),d(24,"div",18)(25,"a",19),m(26,"Meeting-notes.doc"),h()()(),d(27,"div",16)(28,"div",17),m(29,"File type:"),h(),d(30,"div",18),m(31,"Word File"),h()(),d(32,"div",16)(33,"div",17),m(34,"File size:"),h(),d(35,"div",18),m(36,"22 KB"),h()(),d(37,"div",16)(38,"div",17),m(39,"Created:"),h(),d(40,"div",18),m(41,"Monday, July 02, 2020 9:34am"),h()(),d(42,"div",16)(43,"div",17),m(44,"Modified:"),h(),d(45,"div",20),m(46,"Monday, July 02, 2020 9:34am"),h()(),d(47,"div",16)(48,"div",17),m(49,"Accessed:"),h(),d(50,"div",18),m(51,"Monday, July 03, 2020 10:22am"),h()()(),d(52,"div",6)(53,"button",21),y(54,"i",22),m(55," Share "),h()()(),d(56,"div",23)(57,"div",2)(58,"h4"),m(59,"Settings"),h(),d(60,"a",10),y(61,"i",11),h()(),d(62,"div",12)(63,"ul",24)(64,"li",25)(65,"div",26),y(66,"input",27),d(67,"label",28),m(68,"Allow notifications."),h()()(),d(69,"li",25)(70,"div",26),y(71,"input",29),d(72,"label",30),m(73,"Hide user requests"),h()()(),d(74,"li",25)(75,"div",26),y(76,"input",31),d(77,"label",32),m(78,"Speed up demands"),h()()(),d(79,"li",25)(80,"div",26),y(81,"input",33),d(82,"label",34),m(83,"Hide menus"),h()()(),d(84,"li",25)(85,"div",26),y(86,"input",35),d(87,"label",36),m(88,"Remember next visits"),h()()(),d(89,"li",25)(90,"div",26),y(91,"input",37),d(92,"label",38),m(93,"Enable report generation."),h()()()()()()()),n&2&&(g(5),x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading))},dependencies:[z,Te,H],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var pd=ht(at());var na=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ra=class extends na{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=s}},gp=class extends na{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},vp=class extends na{element;constructor(t){super(),this.element=t instanceof Le?t.nativeElement:t}},xp=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ra)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof gp)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof vp)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Fc=class extends xp{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,r,s){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=s}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(Um,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=qa(t.component,{elementInjector:t.injector||this._defaultInjector||ut.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Nc="http://www.w3.org/1999/xhtml",_p={svg:"http://www.w3.org/2000/svg",xhtml:Nc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ji(i){var t=i+="",e=t.indexOf(":");return e>=0&&(t=i.slice(0,e))!=="xmlns"&&(i=i.slice(e+1)),_p.hasOwnProperty(t)?{space:_p[t],local:i}:i}function cL(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Nc&&t.documentElement.namespaceURI===Nc?t.createElement(i):t.createElementNS(e,i)}}function dL(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function Rc(i){var t=Ji(i);return(t.local?dL:cL)(t)}function hL(){}function yr(i){return i==null?hL:function(){return this.querySelector(i)}}function D_(i){typeof i!="function"&&(i=yr(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var s=t[r],o=s.length,a=n[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=i.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Fe(n,this._parents)}function yp(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function uL(){return[]}function sa(i){return i==null?uL:function(){return this.querySelectorAll(i)}}function pL(i){return function(){return yp(i.apply(this,arguments))}}function L_(i){typeof i=="function"?i=pL(i):i=sa(i);for(var t=this._groups,e=t.length,n=[],r=[],s=0;s<e;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(n.push(i.call(l,l.__data__,c,o)),r.push(l));return new Fe(n,r)}function oa(i){return function(){return this.matches(i)}}function Pc(i){return function(t){return t.matches(i)}}var mL=Array.prototype.find;function fL(i){return function(){return mL.call(this.children,i)}}function gL(){return this.firstElementChild}function I_(i){return this.select(i==null?gL:fL(typeof i=="function"?i:Pc(i)))}var vL=Array.prototype.filter;function xL(){return Array.from(this.children)}function _L(i){return function(){return vL.call(this.children,i)}}function O_(i){return this.selectAll(i==null?xL:_L(typeof i=="function"?i:Pc(i)))}function F_(i){typeof i!="function"&&(i=oa(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var s=t[r],o=s.length,a=n[r]=[],l,c=0;c<o;++c)(l=s[c])&&i.call(l,l.__data__,c,s)&&a.push(l);return new Fe(n,this._parents)}function Vc(i){return new Array(i.length)}function N_(){return new Fe(this._enter||this._groups.map(Vc),this._parents)}function aa(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}aa.prototype={constructor:aa,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function R_(i){return function(){return i}}function yL(i,t,e,n,r,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):e[o]=new aa(i,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function bL(i,t,e,n,r,s,o){var a,l,c=new Map,u=t.length,p=s.length,f=new Array(u),v;for(a=0;a<u;++a)(l=t[a])&&(f[a]=v=o.call(l,l.__data__,a,t)+"",c.has(v)?r[a]=l:c.set(v,l));for(a=0;a<p;++a)v=o.call(i,s[a],a,s)+"",(l=c.get(v))?(n[a]=l,l.__data__=s[a],c.delete(v)):e[a]=new aa(i,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function CL(i){return i.__data__}function P_(i,t){if(!arguments.length)return Array.from(this,CL);var e=t?bL:yL,n=this._parents,r=this._groups;typeof i!="function"&&(i=R_(i));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=n[c],p=r[c],f=p.length,v=wL(i.call(u,u&&u.__data__,c,n)),_=v.length,C=a[c]=new Array(_),S=o[c]=new Array(_),I=l[c]=new Array(f);e(u,p,C,S,I,v,t);for(var ie=0,G=0,Ve,ke;ie<_;++ie)if(Ve=C[ie]){for(ie>=G&&(G=ie+1);!(ke=S[G])&&++G<_;);Ve._next=ke||null}}return o=new Fe(o,n),o._enter=a,o._exit=l,o}function wL(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function V_(){return new Fe(this._exit||this._groups.map(Vc),this._parents)}function B_(i,t,e){var n=this.enter(),r=this,s=this.exit();return typeof i=="function"?(n=i(n),n&&(n=n.selection())):n=n.append(i+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?s.remove():e(s),n&&r?n.merge(r).order():r}function z_(i){for(var t=i.selection?i.selection():i,e=this._groups,n=t._groups,r=e.length,s=n.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=e[l],u=n[l],p=c.length,f=a[l]=new Array(p),v,_=0;_<p;++_)(v=c[_]||u[_])&&(f[_]=v);for(;l<r;++l)a[l]=e[l];return new Fe(a,this._parents)}function $_(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var n=i[t],r=n.length-1,s=n[r],o;--r>=0;)(o=n[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function H_(i){i||(i=SL);function t(p,f){return p&&f?i(p.__data__,f.__data__):!p-!f}for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s){for(var o=e[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Fe(r,this._parents).order()}function SL(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function j_(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function G_(){return Array.from(this)}function U_(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,s=n.length;r<s;++r){var o=n[r];if(o)return o}return null}function W_(){let i=0;for(let t of this)++i;return i}function q_(){return!this.node()}function X_(i){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length,a;s<o;++s)(a=r[s])&&i.call(a,a.__data__,s,r);return this}function TL(i){return function(){this.removeAttribute(i)}}function kL(i){return function(){this.removeAttributeNS(i.space,i.local)}}function EL(i,t){return function(){this.setAttribute(i,t)}}function AL(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function ML(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(i):this.setAttribute(i,e)}}function DL(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function Y_(i,t){var e=Ji(i);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((t==null?e.local?kL:TL:typeof t=="function"?e.local?DL:ML:e.local?AL:EL)(e,t))}function Bc(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function LL(i){return function(){this.style.removeProperty(i)}}function IL(i,t,e){return function(){this.style.setProperty(i,t,e)}}function OL(i,t,e){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(i):this.style.setProperty(i,n,e)}}function Q_(i,t,e){return arguments.length>1?this.each((t==null?LL:typeof t=="function"?OL:IL)(i,t,e??"")):Mn(this.node(),i)}function Mn(i,t){return i.style.getPropertyValue(t)||Bc(i).getComputedStyle(i,null).getPropertyValue(t)}function FL(i){return function(){delete this[i]}}function NL(i,t){return function(){this[i]=t}}function RL(i,t){return function(){var e=t.apply(this,arguments);e==null?delete this[i]:this[i]=e}}function K_(i,t){return arguments.length>1?this.each((t==null?FL:typeof t=="function"?RL:NL)(i,t)):this.node()[i]}function J_(i){return i.trim().split(/^|\s+/)}function bp(i){return i.classList||new Z_(i)}function Z_(i){this._node=i,this._names=J_(i.getAttribute("class")||"")}Z_.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function ey(i,t){for(var e=bp(i),n=-1,r=t.length;++n<r;)e.add(t[n])}function ty(i,t){for(var e=bp(i),n=-1,r=t.length;++n<r;)e.remove(t[n])}function PL(i){return function(){ey(this,i)}}function VL(i){return function(){ty(this,i)}}function BL(i,t){return function(){(t.apply(this,arguments)?ey:ty)(this,i)}}function iy(i,t){var e=J_(i+"");if(arguments.length<2){for(var n=bp(this.node()),r=-1,s=e.length;++r<s;)if(!n.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?BL:t?PL:VL)(e,t))}function zL(){this.textContent=""}function $L(i){return function(){this.textContent=i}}function HL(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function ny(i){return arguments.length?this.each(i==null?zL:(typeof i=="function"?HL:$L)(i)):this.node().textContent}function jL(){this.innerHTML=""}function GL(i){return function(){this.innerHTML=i}}function UL(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function ry(i){return arguments.length?this.each(i==null?jL:(typeof i=="function"?UL:GL)(i)):this.node().innerHTML}function WL(){this.nextSibling&&this.parentNode.appendChild(this)}function sy(){return this.each(WL)}function qL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oy(){return this.each(qL)}function ay(i){var t=typeof i=="function"?i:Rc(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function XL(){return null}function ly(i,t){var e=typeof i=="function"?i:Rc(i),n=t==null?XL:typeof t=="function"?t:yr(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})}function YL(){var i=this.parentNode;i&&i.removeChild(this)}function cy(){return this.each(YL)}function QL(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function KL(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function dy(i){return this.select(i?KL:QL)}function hy(i){return arguments.length?this.property("__data__",i):this.node().__data__}function JL(i){return function(t){i.call(this,t,this.__data__)}}function ZL(i){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function eI(i){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,s;e<r;++e)s=t[e],(!i.type||s.type===i.type)&&s.name===i.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function tI(i,t,e){return function(){var n=this.__on,r,s=JL(t);if(n){for(var o=0,a=n.length;o<a;++o)if((r=n[o]).type===i.type&&r.name===i.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),r.value=t;return}}this.addEventListener(i.type,s,e),r={type:i.type,name:i.name,value:t,listener:s,options:e},n?n.push(r):this.__on=[r]}}function uy(i,t,e){var n=ZL(i+""),r,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=n[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?tI:eI,r=0;r<s;++r)this.each(a(n[r],t,e));return this}function py(i,t,e){var n=Bc(i),r=n.CustomEvent;typeof r=="function"?r=new r(t,e):(r=n.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),i.dispatchEvent(r)}function iI(i,t){return function(){return py(this,i,t)}}function nI(i,t){return function(){return py(this,i,t.apply(this,arguments))}}function my(i,t){return this.each((typeof t=="function"?nI:iI)(i,t))}function*fy(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,s=n.length,o;r<s;++r)(o=n[r])&&(yield o)}var Cp=[null];function Fe(i,t){this._groups=i,this._parents=t}function gy(){return new Fe([[document.documentElement]],Cp)}function rI(){return this}Fe.prototype=gy.prototype={constructor:Fe,select:D_,selectAll:L_,selectChild:I_,selectChildren:O_,filter:F_,data:P_,enter:N_,exit:V_,join:B_,merge:z_,selection:rI,order:$_,sort:H_,call:j_,nodes:G_,node:U_,size:W_,empty:q_,each:X_,attr:Y_,style:Q_,property:K_,classed:iy,text:ny,html:ry,raise:sy,lower:oy,append:ay,insert:ly,remove:cy,clone:dy,datum:hy,on:uy,dispatch:my,[Symbol.iterator]:fy};var Zi=gy;function wp(i){return typeof i=="string"?new Fe([[document.querySelector(i)]],[document.documentElement]):new Fe([[i]],Cp)}var sI={value:()=>{}};function xy(){for(var i=0,t=arguments.length,e={},n;i<t;++i){if(!(n=arguments[i]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new zc(e)}function zc(i){this._=i}function oI(i,t){return i.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}zc.prototype=xy.prototype={constructor:zc,on:function(i,t){var e=this._,n=oI(i+"",e),r,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((r=(i=n[s]).type)&&(r=aI(e[r],i.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(i=n[s]).type)e[r]=vy(e[r],i.name,t);else if(t==null)for(r in e)e[r]=vy(e[r],i.name,null);return this},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new zc(i)},call:function(i,t){if((r=arguments.length-2)>0)for(var e=new Array(r),n=0,r,s;n<r;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(s=this._[i],n=0,r=s.length;n<r;++n)s[n].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],r=0,s=n.length;r<s;++r)n[r].value.apply(t,e)}};function aI(i,t){for(var e=0,n=i.length,r;e<n;++e)if((r=i[e]).name===t)return r.value}function vy(i,t,e){for(var n=0,r=i.length;n<r;++n)if(i[n].name===t){i[n]=sI,i=i.slice(0,n).concat(i.slice(n+1));break}return e!=null&&i.push({name:t,value:e}),i}var Sp=xy;function $c(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function Tp(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function da(){}var la=.7,Gc=1/la,Ts="\\s*([+-]?\\d+)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lI=/^#([0-9a-f]{3,8})$/,cI=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),dI=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),hI=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${ca}\\)$`),uI=new RegExp(`^rgba\\(${Li},${Li},${Li},${ca}\\)$`),pI=new RegExp(`^hsl\\(${ca},${Li},${Li}\\)$`),mI=new RegExp(`^hsla\\(${ca},${Li},${Li},${ca}\\)$`),_y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$c(da,vi,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:yy,formatHex:yy,formatHex8:fI,formatHsl:gI,formatRgb:by,toString:by});function yy(){return this.rgb().formatHex()}function fI(){return this.rgb().formatHex8()}function gI(){return Ey(this).formatHsl()}function by(){return this.rgb().formatRgb()}function vi(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=lI.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?Cy(t):e===3?new Pt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Hc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Hc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cI.exec(i))?new Pt(t[1],t[2],t[3],1):(t=dI.exec(i))?new Pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hI.exec(i))?Hc(t[1],t[2],t[3],t[4]):(t=uI.exec(i))?Hc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pI.exec(i))?Ty(t[1],t[2]/100,t[3]/100,1):(t=mI.exec(i))?Ty(t[1],t[2]/100,t[3]/100,t[4]):_y.hasOwnProperty(i)?Cy(_y[i]):i==="transparent"?new Pt(NaN,NaN,NaN,0):null}function Cy(i){return new Pt(i>>16&255,i>>8&255,i&255,1)}function Hc(i,t,e,n){return n<=0&&(i=t=e=NaN),new Pt(i,t,e,n)}function vI(i){return i instanceof da||(i=vi(i)),i?(i=i.rgb(),new Pt(i.r,i.g,i.b,i.opacity)):new Pt}function ks(i,t,e,n){return arguments.length===1?vI(i):new Pt(i,t,e,n??1)}function Pt(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}$c(Pt,ks,Tp(da,{brighter(i){return i=i==null?Gc:Math.pow(Gc,i),new Pt(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?la:Math.pow(la,i),new Pt(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Pt(Cr(this.r),Cr(this.g),Cr(this.b),Uc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wy,formatHex:wy,formatHex8:xI,formatRgb:Sy,toString:Sy}));function wy(){return`#${br(this.r)}${br(this.g)}${br(this.b)}`}function xI(){return`#${br(this.r)}${br(this.g)}${br(this.b)}${br((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sy(){let i=Uc(this.opacity);return`${i===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${i===1?")":`, ${i})`}`}function Uc(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function Cr(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function br(i){return i=Cr(i),(i<16?"0":"")+i.toString(16)}function Ty(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new gi(i,t,e,n)}function Ey(i){if(i instanceof gi)return new gi(i.h,i.s,i.l,i.opacity);if(i instanceof da||(i=vi(i)),!i)return new gi;if(i instanceof gi)return i;i=i.rgb();var t=i.r/255,e=i.g/255,n=i.b/255,r=Math.min(t,e,n),s=Math.max(t,e,n),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(e-n)/a+(e<n)*6:e===s?o=(n-t)/a+2:o=(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new gi(o,a,l,i.opacity)}function Ay(i,t,e,n){return arguments.length===1?Ey(i):new gi(i,t,e,n??1)}function gi(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}$c(gi,Ay,Tp(da,{brighter(i){return i=i==null?Gc:Math.pow(Gc,i),new gi(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?la:Math.pow(la,i),new gi(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,r=2*e-n;return new Pt(kp(i>=240?i-240:i+120,r,n),kp(i,r,n),kp(i<120?i+240:i-120,r,n),this.opacity)},clamp(){return new gi(ky(this.h),jc(this.s),jc(this.l),Uc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let i=Uc(this.opacity);return`${i===1?"hsl(":"hsla("}${ky(this.h)}, ${jc(this.s)*100}%, ${jc(this.l)*100}%${i===1?")":`, ${i})`}`}}));function ky(i){return i=(i||0)%360,i<0?i+360:i}function jc(i){return Math.max(0,Math.min(1,i||0))}function kp(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}function Ep(i,t,e,n,r){var s=i*i,o=s*i;return((1-3*i+3*s-o)*t+(4-6*s+3*o)*e+(1+3*i+3*s-3*o)*n+o*r)/6}function My(i){var t=i.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=i[n],s=i[n+1],o=n>0?i[n-1]:2*r-s,a=n<t-1?i[n+2]:2*s-r;return Ep((e-n/t)*t,o,r,s,a)}}function Dy(i){var t=i.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*t),r=i[(n+t-1)%t],s=i[n%t],o=i[(n+1)%t],a=i[(n+2)%t];return Ep((e-n/t)*t,r,s,o,a)}}var ha=i=>()=>i;function _I(i,t){return function(e){return i+e*t}}function yI(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}function Ly(i){return(i=+i)==1?Wc:function(t,e){return e-t?yI(t,e,i):ha(isNaN(t)?e:t)}}function Wc(i,t){var e=t-i;return e?_I(i,e):ha(isNaN(i)?t:i)}var wr=function i(t){var e=Ly(t);function n(r,s){var o=e((r=ks(r)).r,(s=ks(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=Wc(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return n.gamma=i,n}(1);function Iy(i){return function(t){var e=t.length,n=new Array(e),r=new Array(e),s=new Array(e),o,a;for(o=0;o<e;++o)a=ks(t[o]),n[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return n=i(n),r=i(r),s=i(s),a.opacity=1,function(l){return a.r=n(l),a.g=r(l),a.b=s(l),a+""}}}var bI=Iy(My),CI=Iy(Dy);function Oy(i,t){t||(t=[]);var e=i?Math.min(t.length,i.length):0,n=t.slice(),r;return function(s){for(r=0;r<e;++r)n[r]=i[r]*(1-s)+t[r]*s;return n}}function Fy(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Ny(i,t){var e=t?t.length:0,n=i?Math.min(e,i.length):0,r=new Array(n),s=new Array(e),o;for(o=0;o<n;++o)r[o]=Sr(i[o],t[o]);for(;o<e;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=r[o](a);return s}}function Ry(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function lt(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function Py(i,t){var e={},n={},r;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in i?e[r]=Sr(i[r],t[r]):n[r]=t[r];return function(s){for(r in e)n[r]=e[r](s);return n}}var Mp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp(Mp.source,"g");function wI(i){return function(){return i}}function SI(i){return function(t){return i(t)+""}}function ua(i,t){var e=Mp.lastIndex=Ap.lastIndex=0,n,r,s,o=-1,a=[],l=[];for(i=i+"",t=t+"";(n=Mp.exec(i))&&(r=Ap.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:lt(n,r)})),e=Ap.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?SI(l[0].x):wI(t):(t=l.length,function(c){for(var u=0,p;u<t;++u)a[(p=l[u]).i]=p.x(c);return a.join("")})}function Sr(i,t){var e=typeof t,n;return t==null||e==="boolean"?ha(t):(e==="number"?lt:e==="string"?(n=vi(t))?(t=n,wr):ua:t instanceof vi?wr:t instanceof Date?Ry:Fy(t)?Oy:Array.isArray(t)?Ny:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Py:lt)(i,t)}function Dp(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}var Vy=180/Math.PI,qc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lp(i,t,e,n,r,s){var o,a,l;return(o=Math.sqrt(i*i+t*t))&&(i/=o,t/=o),(l=i*e+t*n)&&(e-=i*l,n-=t*l),(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a,l/=a),i*n<t*e&&(i=-i,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,i)*Vy,skewX:Math.atan(l)*Vy,scaleX:o,scaleY:a}}var Xc;function By(i){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?qc:Lp(t.a,t.b,t.c,t.d,t.e,t.f)}function zy(i){return i==null?qc:(Xc||(Xc=document.createElementNS("http://www.w3.org/2000/svg","g")),Xc.setAttribute("transform",i),(i=Xc.transform.baseVal.consolidate())?(i=i.matrix,Lp(i.a,i.b,i.c,i.d,i.e,i.f)):qc)}function $y(i,t,e,n){function r(c){return c.length?c.pop()+" ":""}function s(c,u,p,f,v,_){if(c!==p||u!==f){var C=v.push("translate(",null,t,null,e);_.push({i:C-4,x:lt(c,p)},{i:C-2,x:lt(u,f)})}else(p||f)&&v.push("translate("+p+t+f+e)}function o(c,u,p,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:p.push(r(p)+"rotate(",null,n)-2,x:lt(c,u)})):u&&p.push(r(p)+"rotate("+u+n)}function a(c,u,p,f){c!==u?f.push({i:p.push(r(p)+"skewX(",null,n)-2,x:lt(c,u)}):u&&p.push(r(p)+"skewX("+u+n)}function l(c,u,p,f,v,_){if(c!==p||u!==f){var C=v.push(r(v)+"scale(",null,",",null,")");_.push({i:C-4,x:lt(c,p)},{i:C-2,x:lt(u,f)})}else(p!==1||f!==1)&&v.push(r(v)+"scale("+p+","+f+")")}return function(c,u){var p=[],f=[];return c=i(c),u=i(u),s(c.translateX,c.translateY,u.translateX,u.translateY,p,f),o(c.rotate,u.rotate,p,f),a(c.skewX,u.skewX,p,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,p,f),c=u=null,function(v){for(var _=-1,C=f.length,S;++_<C;)p[(S=f[_]).i]=S.x(v);return p.join("")}}}var Ip=$y(By,"px, ","px)","deg)"),Op=$y(zy,", ",")",")");var Es=0,ma=0,pa=0,jy=1e3,Yc,fa,Qc=0,Tr=0,Kc=0,ga=typeof performance=="object"&&performance.now?performance:Date,Gy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function xa(){return Tr||(Gy(TI),Tr=ga.now()+Kc)}function TI(){Tr=0}function va(){this._call=this._time=this._next=null}va.prototype=Jc.prototype={constructor:va,restart:function(i,t,e){if(typeof i!="function")throw new TypeError("callback is not a function");e=(e==null?xa():+e)+(t==null?0:+t),!this._next&&fa!==this&&(fa?fa._next=this:Yc=this,fa=this),this._call=i,this._time=e,Fp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fp())}};function Jc(i,t,e){var n=new va;return n.restart(i,t,e),n}function Uy(){xa(),++Es;for(var i=Yc,t;i;)(t=Tr-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Es}function Hy(){Tr=(Qc=ga.now())+Kc,Es=ma=0;try{Uy()}finally{Es=0,EI(),Tr=0}}function kI(){var i=ga.now(),t=i-Qc;t>jy&&(Kc-=t,Qc=i)}function EI(){for(var i,t=Yc,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:Yc=e);fa=i,Fp(n)}function Fp(i){if(!Es){ma&&(ma=clearTimeout(ma));var t=i-Tr;t>24?(i<1/0&&(ma=setTimeout(Hy,i-ga.now()-Kc)),pa&&(pa=clearInterval(pa))):(pa||(Qc=ga.now(),pa=setInterval(kI,jy)),Es=1,Gy(Hy))}}function Zc(i,t,e){var n=new va;return t=t==null?0:+t,n.restart(r=>{n.stop(),i(r+t)},t,e),n}var AI=Sp("start","end","cancel","interrupt"),MI=[],Xy=0,Wy=1,td=2,ed=3,qy=4,id=5,_a=6;function Dn(i,t,e,n,r,s){var o=i.__transition;if(!o)i.__transition={};else if(e in o)return;DI(i,e,{name:t,index:n,group:r,on:AI,tween:MI,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Xy})}function ya(i,t){var e=qe(i,t);if(e.state>Xy)throw new Error("too late; already scheduled");return e}function ct(i,t){var e=qe(i,t);if(e.state>ed)throw new Error("too late; already running");return e}function qe(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function DI(i,t,e){var n=i.__transition,r;n[t]=e,e.timer=Jc(s,0,e.time);function s(c){e.state=Wy,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)}function o(c){var u,p,f,v;if(e.state!==Wy)return l();for(u in n)if(v=n[u],v.name===e.name){if(v.state===ed)return Zc(o);v.state===qy?(v.state=_a,v.timer.stop(),v.on.call("interrupt",i,i.__data__,v.index,v.group),delete n[u]):+u<t&&(v.state=_a,v.timer.stop(),v.on.call("cancel",i,i.__data__,v.index,v.group),delete n[u])}if(Zc(function(){e.state===ed&&(e.state=qy,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=td,e.on.call("start",i,i.__data__,e.index,e.group),e.state===td){for(e.state=ed,r=new Array(f=e.tween.length),u=0,p=-1;u<f;++u)(v=e.tween[u].value.call(i,i.__data__,e.index,e.group))&&(r[++p]=v);r.length=p+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=id,1),p=-1,f=r.length;++p<f;)r[p].call(i,u);e.state===id&&(e.on.call("end",i,i.__data__,e.index,e.group),l())}function l(){e.state=_a,e.timer.stop(),delete n[t];for(var c in n)return;delete i.__transition}}function Np(i,t){var e=i.__transition,n,r,s=!0,o;if(e){t=t==null?null:t+"";for(o in e){if((n=e[o]).name!==t){s=!1;continue}r=n.state>td&&n.state<id,n.state=_a,n.timer.stop(),n.on.call(r?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete e[o]}s&&delete i.__transition}}function Yy(i){return this.each(function(){Np(this,i)})}function LI(i,t){var e,n;return function(){var r=ct(this,i),s=r.tween;if(s!==e){n=e=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}r.tween=n}}function II(i,t,e){var n,r;if(typeof e!="function")throw new Error;return function(){var s=ct(this,i),o=s.tween;if(o!==n){r=(n=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function Qy(i,t){var e=this._id;if(i+="",arguments.length<2){for(var n=qe(this.node(),e).tween,r=0,s=n.length,o;r<s;++r)if((o=n[r]).name===i)return o.value;return null}return this.each((t==null?LI:II)(e,i,t))}function As(i,t,e){var n=i._id;return i.each(function(){var r=ct(this,n);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return qe(r,n).value[t]}}function nd(i,t){var e;return(typeof t=="number"?lt:t instanceof vi?wr:(e=vi(t))?(t=e,wr):ua)(i,t)}function OI(i){return function(){this.removeAttribute(i)}}function FI(i){return function(){this.removeAttributeNS(i.space,i.local)}}function NI(i,t,e){var n,r=e+"",s;return function(){var o=this.getAttribute(i);return o===r?null:o===n?s:s=t(n=o,e)}}function RI(i,t,e){var n,r=e+"",s;return function(){var o=this.getAttributeNS(i.space,i.local);return o===r?null:o===n?s:s=t(n=o,e)}}function PI(i,t,e){var n,r,s;return function(){var o,a=e(this),l;return a==null?void this.removeAttribute(i):(o=this.getAttribute(i),l=a+"",o===l?null:o===n&&l===r?s:(r=l,s=t(n=o,a)))}}function VI(i,t,e){var n,r,s;return function(){var o,a=e(this),l;return a==null?void this.removeAttributeNS(i.space,i.local):(o=this.getAttributeNS(i.space,i.local),l=a+"",o===l?null:o===n&&l===r?s:(r=l,s=t(n=o,a)))}}function Ky(i,t){var e=Ji(i),n=e==="transform"?Op:nd;return this.attrTween(i,typeof t=="function"?(e.local?VI:PI)(e,n,As(this,"attr."+i,t)):t==null?(e.local?FI:OI)(e):(e.local?RI:NI)(e,n,t))}function BI(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function zI(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function $I(i,t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&zI(i,s)),e}return r._value=t,r}function HI(i,t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&BI(i,s)),e}return r._value=t,r}function Jy(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var n=Ji(i);return this.tween(e,(n.local?$I:HI)(n,t))}function jI(i,t){return function(){ya(this,i).delay=+t.apply(this,arguments)}}function GI(i,t){return t=+t,function(){ya(this,i).delay=t}}function Zy(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?jI:GI)(t,i)):qe(this.node(),t).delay}function UI(i,t){return function(){ct(this,i).duration=+t.apply(this,arguments)}}function WI(i,t){return t=+t,function(){ct(this,i).duration=t}}function e1(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?UI:WI)(t,i)):qe(this.node(),t).duration}function qI(i,t){if(typeof t!="function")throw new Error;return function(){ct(this,i).ease=t}}function t1(i){var t=this._id;return arguments.length?this.each(qI(t,i)):qe(this.node(),t).ease}function XI(i,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ct(this,i).ease=e}}function i1(i){if(typeof i!="function")throw new Error;return this.each(XI(this._id,i))}function n1(i){typeof i!="function"&&(i=oa(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var s=t[r],o=s.length,a=n[r]=[],l,c=0;c<o;++c)(l=s[c])&&i.call(l,l.__data__,c,s)&&a.push(l);return new Lt(n,this._parents,this._name,this._id)}function r1(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,n=t.length,r=e.length,s=Math.min(n,r),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=e[a],u=l.length,p=o[a]=new Array(u),f,v=0;v<u;++v)(f=l[v]||c[v])&&(p[v]=f);for(;a<n;++a)o[a]=t[a];return new Lt(o,this._parents,this._name,this._id)}function YI(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function QI(i,t,e){var n,r,s=YI(t)?ya:ct;return function(){var o=s(this,i),a=o.on;a!==n&&(r=(n=a).copy()).on(t,e),o.on=r}}function s1(i,t){var e=this._id;return arguments.length<2?qe(this.node(),e).on.on(i):this.each(QI(e,i,t))}function KI(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}function o1(){return this.on("end.remove",KI(this._id))}function a1(i){var t=this._name,e=this._id;typeof i!="function"&&(i=yr(i));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,c=s[o]=new Array(l),u,p,f=0;f<l;++f)(u=a[f])&&(p=i.call(u,u.__data__,f,a))&&("__data__"in u&&(p.__data__=u.__data__),c[f]=p,Dn(c[f],t,e,f,c,qe(u,e)));return new Lt(s,this._parents,t,e)}function l1(i){var t=this._name,e=this._id;typeof i!="function"&&(i=sa(i));for(var n=this._groups,r=n.length,s=[],o=[],a=0;a<r;++a)for(var l=n[a],c=l.length,u,p=0;p<c;++p)if(u=l[p]){for(var f=i.call(u,u.__data__,p,l),v,_=qe(u,e),C=0,S=f.length;C<S;++C)(v=f[C])&&Dn(v,t,e,C,f,_);s.push(f),o.push(u)}return new Lt(s,o,t,e)}var JI=Zi.prototype.constructor;function c1(){return new JI(this._groups,this._parents)}function ZI(i,t){var e,n,r;return function(){var s=Mn(this,i),o=(this.style.removeProperty(i),Mn(this,i));return s===o?null:s===e&&o===n?r:r=t(e=s,n=o)}}function d1(i){return function(){this.style.removeProperty(i)}}function eO(i,t,e){var n,r=e+"",s;return function(){var o=Mn(this,i);return o===r?null:o===n?s:s=t(n=o,e)}}function tO(i,t,e){var n,r,s;return function(){var o=Mn(this,i),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(i),Mn(this,i))),o===l?null:o===n&&l===r?s:(r=l,s=t(n=o,a))}}function iO(i,t){var e,n,r,s="style."+t,o="end."+s,a;return function(){var l=ct(this,i),c=l.on,u=l.value[s]==null?a||(a=d1(t)):void 0;(c!==e||r!==u)&&(n=(e=c).copy()).on(o,r=u),l.on=n}}function h1(i,t,e){var n=(i+="")=="transform"?Ip:nd;return t==null?this.styleTween(i,ZI(i,n)).on("end.style."+i,d1(i)):typeof t=="function"?this.styleTween(i,tO(i,n,As(this,"style."+i,t))).each(iO(this._id,i)):this.styleTween(i,eO(i,n,t),e).on("end.style."+i,null)}function nO(i,t,e){return function(n){this.style.setProperty(i,t.call(this,n),e)}}function rO(i,t,e){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&nO(i,o,e)),n}return s._value=t,s}function u1(i,t,e){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,rO(i,t,e??""))}function sO(i){return function(){this.textContent=i}}function oO(i){return function(){var t=i(this);this.textContent=t??""}}function p1(i){return this.tween("text",typeof i=="function"?oO(As(this,"text",i)):sO(i==null?"":i+""))}function aO(i){return function(t){this.textContent=i.call(this,t)}}function lO(i){var t,e;function n(){var r=i.apply(this,arguments);return r!==e&&(t=(e=r)&&aO(r)),t}return n._value=i,n}function m1(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,lO(i))}function f1(){for(var i=this._name,t=this._id,e=rd(),n=this._groups,r=n.length,s=0;s<r;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=qe(l,t);Dn(l,i,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Lt(n,this._parents,i,e)}function g1(){var i,t,e=this,n=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};e.each(function(){var c=ct(this,n),u=c.on;u!==i&&(t=(i=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&s()})}var cO=0;function Lt(i,t,e,n){this._groups=i,this._parents=t,this._name=e,this._id=n}function v1(i){return Zi().transition(i)}function rd(){return++cO}var en=Zi.prototype;Lt.prototype=v1.prototype={constructor:Lt,select:a1,selectAll:l1,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:n1,merge:r1,selection:c1,transition:f1,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:s1,attr:Ky,attrTween:Jy,style:h1,styleTween:u1,text:p1,textTween:m1,remove:o1,tween:Qy,delay:Zy,duration:e1,ease:t1,easeVarying:i1,end:g1,[Symbol.iterator]:en[Symbol.iterator]};function sd(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var dO={time:null,delay:0,duration:250,ease:sd};function hO(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}function x1(i){var t,e;i instanceof Lt?(t=i._id,i=i._name):(t=rd(),(e=dO).time=xa(),i=i==null?null:i+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Dn(l,i,t,c,o,e||hO(l,t));return new Lt(n,this._parents,i,t)}Zi.prototype.interrupt=Yy;Zi.prototype.transition=x1;var{abs:Z8,max:e7,min:t7}=Math;function _1(i){return[+i[0],+i[1]]}function uO(i){return[_1(i[0]),_1(i[1])]}var i7={name:"x",handles:["w","e"].map(Rp),input:function(i,t){return i==null?null:[[+i[0],t[0][1]],[+i[1],t[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},n7={name:"y",handles:["n","s"].map(Rp),input:function(i,t){return i==null?null:[[t[0][0],+i[0]],[t[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},r7={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Rp),input:function(i){return i==null?null:uO(i)},output:function(i){return i}};function Rp(i){return{type:i}}function Ii(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Pp(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function od(i){let t,e,n;i.length!==2?(t=Ii,e=(a,l)=>Ii(i(a),l),n=(a,l)=>i(a)-l):(t=i===Ii||i===Pp?i:mO,e=i,n=i);function r(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let p=c+u>>>1;e(a[p],l)<0?c=p+1:u=p}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let p=c+u>>>1;e(a[p],l)<=0?c=p+1:u=p}while(c<u)}return c}function o(a,l,c=0,u=a.length){let p=r(a,l,c,u-1);return p>c&&n(a[p-1],l)>-n(a[p],l)?p-1:p}return{left:r,center:o,right:s}}function mO(){return 0}function ba(i){return i===null?NaN:+i}var y1=od(Ii),b1=y1.right,fO=y1.left,gO=od(ba).center,Ca=b1;var Ms=class extends Map{constructor(t,e=_O){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(let[n,r]of t)this.set(n,r)}get(t){return super.get(C1(this,t))}has(t){return super.has(C1(this,t))}set(t,e){return super.set(vO(this,t),e)}delete(t){return super.delete(xO(this,t))}};function C1({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):e}function vO({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):(i.set(n,e),e)}function xO({_intern:i,_key:t},e){let n=t(e);return i.has(n)&&(e=i.get(n),i.delete(n)),e}function _O(i){return i!==null&&typeof i=="object"?i.valueOf():i}var yO=Math.sqrt(50),bO=Math.sqrt(10),CO=Math.sqrt(2);function ad(i,t,e){let n=(t-i)/Math.max(0,e),r=Math.floor(Math.log10(n)),s=n/Math.pow(10,r),o=s>=yO?10:s>=bO?5:s>=CO?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(i*c),l=Math.round(t*c),a/c<i&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(i/c),l=Math.round(t/c),a*c<i&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?ad(i,t,e*2):[a,l,c]}function ld(i,t,e){if(t=+t,i=+i,e=+e,!(e>0))return[];if(i===t)return[i];let n=t<i,[r,s,o]=n?ad(t,i,e):ad(i,t,e);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function wa(i,t,e){return t=+t,i=+i,e=+e,ad(i,t,e)[2]}function Vp(i,t,e){t=+t,i=+i,e=+e;let n=t<i,r=n?wa(t,i,e):wa(i,t,e);return(n?-1:1)*(r<0?1/-r:r)}function Bp(i,t,e=ba){if(!(!(n=i.length)||isNaN(t=+t))){if(t<=0||n<2)return+e(i[0],0,i);if(t>=1)return+e(i[n-1],n-1,i);var n,r=(n-1)*t,s=Math.floor(r),o=+e(i[s],s,i),a=+e(i[s+1],s+1,i);return o+(a-o)*(r-s)}}function Ds(i,t,e){i=+i,t=+t,e=(r=arguments.length)<2?(t=i,i=0,1):r<3?1:+e;for(var n=-1,r=Math.max(0,Math.ceil((t-i)/e))|0,s=new Array(r);++n<r;)s[n]=i+n*e;return s}function Ln(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}var zp=Symbol("implicit");function kr(){var i=new Ms,t=[],e=[],n=zp;function r(s){let o=i.get(s);if(o===void 0){if(n!==zp)return n;i.set(s,o=t.push(s)-1)}return e[o%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],i=new Ms;for(let o of s)i.has(o)||i.set(o,t.push(o)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return kr(t,e).unknown(n)},Ln.apply(r,arguments),r}function Ls(){var i=kr().unknown(void 0),t=i.domain,e=i.range,n=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete i.unknown;function p(){var f=t().length,v=r<n,_=v?r:n,C=v?n:r;s=(C-_)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),_+=(C-_-s*(f-l))*u,o=s*(1-l),a&&(_=Math.round(_),o=Math.round(o));var S=Ds(f).map(function(I){return _+s*I});return e(v?S.reverse():S)}return i.domain=function(f){return arguments.length?(t(f),p()):t()},i.range=function(f){return arguments.length?([n,r]=f,n=+n,r=+r,p()):[n,r]},i.rangeRound=function(f){return[n,r]=f,n=+n,r=+r,a=!0,p()},i.bandwidth=function(){return o},i.step=function(){return s},i.round=function(f){return arguments.length?(a=!!f,p()):a},i.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),p()):l},i.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),p()):l},i.paddingOuter=function(f){return arguments.length?(c=+f,p()):c},i.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),p()):u},i.copy=function(){return Ls(t(),[n,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},Ln.apply(p(),arguments)}function $p(i){return function(){return i}}function Hp(i){return+i}var w1=[0,1];function Is(i){return i}function jp(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:$p(isNaN(t)?NaN:.5)}function SO(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}function TO(i,t,e){var n=i[0],r=i[1],s=t[0],o=t[1];return r<n?(n=jp(r,n),s=e(o,s)):(n=jp(n,r),s=e(s,o)),function(a){return s(n(a))}}function kO(i,t,e){var n=Math.min(i.length,t.length)-1,r=new Array(n),s=new Array(n),o=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++o<n;)r[o]=jp(i[o],i[o+1]),s[o]=e(t[o],t[o+1]);return function(a){var l=Ca(i,a,1,n)-1;return s[l](r[l](a))}}function S1(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function EO(){var i=w1,t=w1,e=Sr,n,r,s,o=Is,a,l,c;function u(){var f=Math.min(i.length,t.length);return o!==Is&&(o=SO(i[0],i[f-1])),a=f>2?kO:TO,l=c=null,p}function p(f){return f==null||isNaN(f=+f)?s:(l||(l=a(i.map(n),t,e)))(n(o(f)))}return p.invert=function(f){return o(r((c||(c=a(t,i.map(n),lt)))(f)))},p.domain=function(f){return arguments.length?(i=Array.from(f,Hp),u()):i.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),e=Dp,u()},p.clamp=function(f){return arguments.length?(o=f?!0:Is,u()):o!==Is},p.interpolate=function(f){return arguments.length?(e=f,u()):e},p.unknown=function(f){return arguments.length?(s=f,p):s},function(f,v){return n=f,r=v,u()}}function Gp(){return EO()(Is,Is)}function T1(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function Er(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function Oi(i){return i=Er(Math.abs(i)),i?i[1]:NaN}function k1(i,t){return function(e,n){for(var r=e.length,s=[],o=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>n));)a=i[o=(o+1)%i.length];return s.reverse().join(t)}}function E1(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}var AO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function In(i){if(!(t=AO.exec(i)))throw new Error("invalid format: "+i);var t;return new cd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}In.prototype=cd.prototype;function cd(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}cd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A1(i){e:for(var t=i.length,e=1,n=-1,r;e<t;++e)switch(i[e]){case".":n=r=e;break;case"0":n===0&&(n=e),r=e;break;default:if(!+i[e])break e;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(r+1):i}var Up;function M1(i,t){var e=Er(i,t);if(!e)return i+"";var n=e[0],r=e[1],s=r-(Up=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Er(i,Math.max(0,t+s-1))[0]}function Wp(i,t){var e=Er(i,t);if(!e)return i+"";var n=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}var qp={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:T1,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>Wp(i*100,t),r:Wp,s:M1,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function Xp(i){return i}var D1=Array.prototype.map,L1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function I1(i){var t=i.grouping===void 0||i.thousands===void 0?Xp:k1(D1.call(i.grouping,Number),i.thousands+""),e=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",r=i.decimal===void 0?".":i.decimal+"",s=i.numerals===void 0?Xp:E1(D1.call(i.numerals,String)),o=i.percent===void 0?"%":i.percent+"",a=i.minus===void 0?"\u2212":i.minus+"",l=i.nan===void 0?"NaN":i.nan+"";function c(p){p=In(p);var f=p.fill,v=p.align,_=p.sign,C=p.symbol,S=p.zero,I=p.width,ie=p.comma,G=p.precision,Ve=p.trim,ke=p.type;ke==="n"?(ie=!0,ke="g"):qp[ke]||(G===void 0&&(G=12),Ve=!0,ke="g"),(S||f==="0"&&v==="=")&&(S=!0,f="0",v="=");var et=C==="$"?e:C==="#"&&/[boxX]/.test(ke)?"0"+ke.toLowerCase():"",Ps=C==="$"?n:/[%p]/.test(ke)?o:"",Pn=qp[ke],ce=/[defgprs%]/.test(ke);G=G===void 0?6:/[gprs]/.test(ke)?Math.max(1,Math.min(21,G)):Math.max(0,Math.min(20,G));function ci(re){var Fi=et,Jt=Ps,Mr,um,Da;if(ke==="c")Jt=Pn(re)+Jt,re="";else{re=+re;var La=re<0||1/re<0;if(re=isNaN(re)?l:Pn(Math.abs(re),G),Ve&&(re=A1(re)),La&&+re==0&&_!=="+"&&(La=!1),Fi=(La?_==="("?_:a:_==="-"||_==="("?"":_)+Fi,Jt=(ke==="s"?L1[8+Up/3]:"")+Jt+(La&&_==="("?")":""),ce){for(Mr=-1,um=re.length;++Mr<um;)if(Da=re.charCodeAt(Mr),48>Da||Da>57){Jt=(Da===46?r+re.slice(Mr+1):re.slice(Mr))+Jt,re=re.slice(0,Mr);break}}}ie&&!S&&(re=t(re,1/0));var Ia=Fi.length+re.length+Jt.length,Ni=Ia<I?new Array(I-Ia+1).join(f):"";switch(ie&&S&&(re=t(Ni+re,Ni.length?I-Jt.length:1/0),Ni=""),v){case"<":re=Fi+re+Jt+Ni;break;case"=":re=Fi+Ni+re+Jt;break;case"^":re=Ni.slice(0,Ia=Ni.length>>1)+Fi+re+Jt+Ni.slice(Ia);break;default:re=Ni+Fi+re+Jt;break}return s(re)}return ci.toString=function(){return p+""},ci}function u(p,f){var v=c((p=In(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Oi(f)/3)))*3,C=Math.pow(10,-_),S=L1[8+_/3];return function(I){return v(C*I)+S}}return{format:c,formatPrefix:u}}var dd,hd,ud;Yp({thousands:",",grouping:[3],currency:["$",""]});function Yp(i){return dd=I1(i),hd=dd.format,ud=dd.formatPrefix,dd}function Qp(i){return Math.max(0,-Oi(Math.abs(i)))}function Kp(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oi(t)/3)))*3-Oi(Math.abs(i)))}function Jp(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Oi(t)-Oi(i))+1}function Zp(i,t,e,n){var r=Vp(i,t,e),s;switch(n=In(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(i),Math.abs(t));return n.precision==null&&!isNaN(s=Kp(r,o))&&(n.precision=s),ud(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Jp(r,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Qp(r))&&(n.precision=s-(n.type==="%")*2);break}}return hd(n)}function MO(i){var t=i.domain;return i.ticks=function(e){var n=t();return ld(n[0],n[n.length-1],e??10)},i.tickFormat=function(e,n){var r=t();return Zp(r[0],r[r.length-1],e??10,n)},i.nice=function(e){e==null&&(e=10);var n=t(),r=0,s=n.length-1,o=n[r],a=n[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=wa(o,a,e),c===l)return n[r]=o,n[s]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return i},i}function On(){var i=Gp();return i.copy=function(){return S1(i,On())},Ln.apply(i,arguments),MO(i)}function Sa(){var i=[],t=[],e=[],n;function r(){var o=0,a=Math.max(1,t.length);for(e=new Array(a-1);++o<a;)e[o-1]=Bp(i,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Ca(e,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?e[a-1]:i[0],a<e.length?e[a]:i[i.length-1]]},s.domain=function(o){if(!arguments.length)return i.slice();i=[];for(let a of o)a!=null&&!isNaN(a=+a)&&i.push(a);return i.sort(Ii),r()},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return e.slice()},s.copy=function(){return Sa().domain(i).range(t).unknown(n)},Ln.apply(s,arguments)}var NO=["caretElm"],RO=i=>({model:i});function PO(i,t){}function VO(i,t){if(i&1&&(d(0,"span"),T(1,PO,0,0,"ng-template",5),h()),i&2){let e=b();g(),x("ngTemplateOutlet",e.template)("ngTemplateOutletContext",it(2,RO,e.context))}}function BO(i,t){if(i&1&&y(0,"span",6),i&2){let e=b();x("innerHTML",e.title,ti)}}function zO(i,t){if(i&1&&(d(0,"header",4)(1,"span",5),m(2),h()()),i&2){let e=b();g(2),$(e.title)}}function $O(i,t){if(i&1){let e=R();d(0,"li",6)(1,"ngx-charts-legend-entry",7),k("select",function(r){E(e);let s=b();return A(s.labelClick.emit(r))})("activate",function(r){E(e);let s=b();return A(s.activate(r))})("deactivate",function(r){E(e);let s=b();return A(s.deactivate(r))}),h()()}if(i&2){let e=t.$implicit,n=b();g(),x("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}var HO=["*"];function jO(i,t){if(i&1&&y(0,"ngx-charts-scale-legend",4),i&2){let e=b();x("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function GO(i,t){if(i&1){let e=R();d(0,"ngx-charts-legend",5),k("labelClick",function(r){E(e);let s=b();return A(s.legendLabelClick.emit(r))})("labelActivate",function(r){E(e);let s=b();return A(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){E(e);let s=b();return A(s.legendLabelDeactivate.emit(r))}),h()}if(i&2){let e=b();x("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}var UO=["ngx-charts-axis-label",""],H1=["ticksel"],WO=["ngx-charts-x-axis-ticks",""];function qO(i,t){i&1&&(q(),Ws(0))}function XO(i,t){if(i&1&&(q(),d(0,"tspan",10),m(1),h()),i&2){let e=t.$implicit,n=t.index;fe("y",n*12),g(),O(" ",e," ")}}function YO(i,t){if(i&1&&(q(),_e(0),T(1,XO,2,2,"tspan",9),ye()),i&2){let e=t.ngIf;g(),x("ngForOf",e)}}function QO(i,t){if(i&1&&T(0,YO,2,1,"ng-container",6),i&2){let e=b(2).$implicit,n=b();x("ngIf",n.tickChunks(e))}}function KO(i,t){if(i&1&&m(0),i&2){let e=b().ngIf,n=b(2);O(" ",n.tickTrim(e)," ")}}function JO(i,t){if(i&1&&(q(),_e(0),d(1,"title"),m(2),h(),d(3,"text",7),T(4,qO,1,0,"ng-container",8),h(),T(5,QO,1,1,"ng-template",null,1,an)(7,KO,1,1,"ng-template",null,2,an),ye()),i&2){let e=t.ngIf,n=_i(6),r=_i(8),s=b(2);g(2),$(e),g(),fe("text-anchor",s.textAnchor)("transform",s.textTransform),g(),x("ngIf",s.isWrapTicksSupported)("ngIfThen",n)("ngIfElse",r)}}function ZO(i,t){if(i&1&&(q(),d(0,"g",5),T(1,JO,9,6,"ng-container",6),h()),i&2){let e=t.$implicit,n=b();fe("transform",n.tickTransform(e)),g(),x("ngIf",n.tickFormat(e))}}function eF(i,t){if(i&1&&(q(),d(0,"g"),y(1,"line",11),h()),i&2){let e=b(2);fe("transform",e.gridLineTransform()),g(),fe("y1",-e.gridLineHeight)}}function tF(i,t){if(i&1&&(q(),d(0,"g"),T(1,eF,2,2,"g",6),h()),i&2){let e=t.$implicit,n=b();fe("transform",n.tickTransform(e)),g(),x("ngIf",n.showGridLines)}}var iF=["ngx-charts-x-axis",""];function nF(i,t){if(i&1){let e=R();q(),d(0,"g",2),k("dimensionsChanged",function(r){E(e);let s=b();return A(s.emitTicksHeight(r))}),h()}if(i&2){let e=b();x("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function rF(i,t){if(i&1&&(q(),y(0,"g",3)),i&2){let e=b();x("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}var sF=["ngx-charts-y-axis-ticks",""];function oF(i,t){i&1&&(q(),Ws(0))}function aF(i,t){if(i&1&&(q(),d(0,"tspan",12),m(1),h()),i&2){let e=t.$implicit,n=t.index,r=b(6);fe("y",n*(8+r.tickSpacing)),g(),O(" ",e," ")}}function lF(i,t){if(i&1&&(q(),_e(0),T(1,aF,2,2,"tspan",11),ye()),i&2){let e=b().ngIf;g(),x("ngForOf",e)}}function cF(i,t){if(i&1&&(q(),_e(0),T(1,lF,2,1,"ng-container",10),ye()),i&2){let e=t.ngIf;b(2);let n=_i(8);g(),x("ngIf",e.length>1)("ngIfElse",n)}}function dF(i,t){if(i&1&&T(0,cF,2,2,"ng-container",7),i&2){let e=b(2).$implicit,n=b();x("ngIf",n.tickChunks(e))}}function hF(i,t){if(i&1&&m(0),i&2){let e=b().ngIf,n=b(2);O(" ",n.tickTrim(e)," ")}}function uF(i,t){if(i&1&&(q(),_e(0),d(1,"title"),m(2),h(),d(3,"text",8),T(4,oF,1,0,"ng-container",9),h(),T(5,dF,1,1,"ng-template",null,1,an)(7,hF,1,1,"ng-template",null,2,an),ye()),i&2){let e=t.ngIf,n=_i(6),r=_i(8),s=b(2);g(2),$(e),g(),ui("font-size","12px"),fe("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),g(),x("ngIf",s.wrapTicks)("ngIfThen",n)("ngIfElse",r)}}function pF(i,t){if(i&1&&(q(),d(0,"g",6),T(1,uF,9,10,"ng-container",7),h()),i&2){let e=t.$implicit,n=b();fe("transform",n.transform(e)),g(),x("ngIf",n.tickFormat(e))}}function mF(i,t){if(i&1&&(q(),y(0,"path",13)),i&2){let e=b();fe("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function fF(i,t){if(i&1&&(q(),y(0,"line",15)),i&2){let e=b(3);fe("x2",e.gridLineWidth)}}function gF(i,t){if(i&1&&(q(),y(0,"line",15)),i&2){let e=b(3);fe("x2",-e.gridLineWidth)}}function vF(i,t){if(i&1&&(q(),d(0,"g"),T(1,fF,1,1,"line",14)(2,gF,1,1,"line",14),h()),i&2){let e=b(2);fe("transform",e.gridLineTransform()),g(),x("ngIf",e.orient===e.Orientation.Left),g(),x("ngIf",e.orient===e.Orientation.Right)}}function xF(i,t){if(i&1&&(q(),d(0,"g"),T(1,vF,3,3,"g",7),h()),i&2){let e=t.$implicit,n=b();fe("transform",n.transform(e)),g(),x("ngIf",n.showGridLines)}}function _F(i,t){if(i&1&&(q(),d(0,"g")(1,"title"),m(2),h(),d(3,"text",17),m(4),h()()),i&2){let e=b(2).$implicit,n=b();g(2),$(n.tickTrim(n.tickFormat(e.value))),g(),fe("dy",n.dy)("y",-6)("x",n.gridLineWidth)("text-anchor",n.textAnchor),g(),O(" ",e.name," ")}}function yF(i,t){if(i&1&&(q(),d(0,"g"),y(1,"line",16),T(2,_F,5,6,"g",7),h()),i&2){let e=b().$implicit,n=b();fe("transform",n.transform(e.value)),g(),fe("x2",n.gridLineWidth)("transform",n.gridLineTransform()),g(),x("ngIf",n.showRefLabels)}}function bF(i,t){if(i&1&&(q(),d(0,"g"),T(1,yF,3,4,"g",7),h()),i&2){let e=b();g(),x("ngIf",e.showRefLines)}}var CF=["ngx-charts-y-axis",""];function wF(i,t){if(i&1){let e=R();q(),d(0,"g",2),k("dimensionsChanged",function(r){E(e);let s=b();return A(s.emitTicksWidth(r))}),h()}if(i&2){let e=b();x("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function SF(i,t){if(i&1&&(q(),y(0,"g",3)),i&2){let e=b();x("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}var TF=["ngx-charts-svg-linear-gradient",""];function kF(i,t){if(i&1&&(q(),y(0,"stop")),i&2){let e=t.$implicit;ui("stop-color",e.color)("stop-opacity",e.opacity),fe("offset",e.offset+"%")}}var EF=["tooltipTemplate"];var AF=(i,t)=>[i,t];var MF=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var DF=["ngx-charts-bar",""];function LF(i,t){if(i&1&&(q(),d(0,"defs"),y(1,"g",2),h()),i&2){let e=b();g(),x("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}var IF=["ngx-charts-bar-label",""];var OF=["ngx-charts-series-vertical",""];function FF(i,t){if(i&1){let e=R();q(),d(0,"g",2),k("select",function(r){E(e);let s=b(2);return A(s.onClick(r))})("activate",function(r){E(e);let s=b(2);return A(s.activate.emit(r))})("deactivate",function(r){E(e);let s=b(2);return A(s.deactivate.emit(r))}),h()}if(i&2){let e=t.$implicit,n=b(2);x("@animationState","active")("@.disabled",!n.animations)("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",n.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function NF(i,t){if(i&1&&(q(),d(0,"g"),T(1,FF,1,22,"g",1),h()),i&2){let e=b();g(),x("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function RF(i,t){if(i&1){let e=R();q(),d(0,"g",2),k("select",function(r){E(e);let s=b(2);return A(s.onClick(r))})("activate",function(r){E(e);let s=b(2);return A(s.activate.emit(r))})("deactivate",function(r){E(e);let s=b(2);return A(s.deactivate.emit(r))}),h()}if(i&2){let e=t.$implicit,n=b(2);x("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",n.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function PF(i,t){if(i&1&&(q(),d(0,"g"),T(1,RF,1,20,"g",1),h()),i&2){let e=b();g(),x("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function VF(i,t){if(i&1){let e=R();q(),d(0,"g",4),k("dimensionsChanged",function(r){let s=E(e).index,o=b(2);return A(o.dataLabelHeightChanged.emit({size:r,index:s}))}),h()}if(i&2){let e=t.$implicit,n=b(2);x("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation",n.barOrientation.Vertical)}}function BF(i,t){if(i&1&&(q(),d(0,"g"),T(1,VF,1,7,"g",3),h()),i&2){let e=b();g(),x("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function zF(i,t){if(i&1){let e=R();q(),d(0,"g",5),k("dimensionsChanged",function(r){E(e);let s=b();return A(s.updateXAxisHeight(r))}),h()}if(i&2){let e=b();x("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)("wrapTicks",e.wrapTicks)}}function $F(i,t){if(i&1){let e=R();q(),d(0,"g",6),k("dimensionsChanged",function(r){E(e);let s=b();return A(s.updateYAxisWidth(r))}),h()}if(i&2){let e=b();x("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("wrapTicks",e.wrapTicks)}}function HF(i,t,e){e=e||{};let n,r,s,o=null,a=0;function l(){a=e.leading===!1?0:+new Date,o=null,s=i.apply(n,r)}return function(){let c=+new Date;!a&&e.leading===!1&&(a=c);let u=t-(c-a);return n=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=i.apply(n,r)):!o&&e.trailing!==!1&&(o=setTimeout(l,u)),s}}function jF(i,t){return function(n,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:HF(s.value,i,t)}),this[r]}}}}var ae=function(i){return i.Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",i.Center="center",i}(ae||{}),Rn=7;function O1(i,t,e){if(e===ae.Top)return i.top-Rn;if(e===ae.Bottom)return i.top+i.height-t.height+Rn;if(e===ae.Center)return i.top+i.height/2-t.height/2}function F1(i,t,e){if(e===ae.Left)return i.left-Rn;if(e===ae.Right)return i.left+i.width-t.width+Rn;if(e===ae.Center)return i.left+i.width/2-t.width/2}var ka=class i{static calculateVerticalAlignment(t,e,n){let r=O1(t,e,n);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,n,r){let s;r===ae.Top&&(s=t.height/2-n.height/2+Rn),r===ae.Bottom&&(s=e.height-t.height/2-n.height/2-Rn),r===ae.Center&&(s=e.height/2-n.height/2);let o=O1(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,n){let r=F1(t,e,n);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,n,r){let s;r===ae.Left&&(s=t.width/2-n.width/2+Rn),r===ae.Right&&(s=e.width-t.width/2-n.width/2-Rn),r===ae.Center&&(s=e.width/2-n.width/2);let o=F1(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,n,r){let s=!1;return n===ae.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),n===ae.Left&&t.left-e.width-r<0&&(s=!0),n===ae.Top&&t.top-e.height-r<0&&(s=!0),n===ae.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,n,r,s){let o=0,a=0;return t===ae.Right?(a=-7,o=i.calculateVerticalCaret(n,e,r,s)):t===ae.Left?(a=e.width,o=i.calculateVerticalCaret(n,e,r,s)):t===ae.Top?(o=e.height,a=i.calculateHorizontalCaret(n,e,r,s)):t===ae.Bottom&&(o=-7,a=i.calculateHorizontalCaret(n,e,r,s)),{top:o,left:a}}static positionContent(t,e,n,r,s){let o=0,a=0;return t===ae.Right?(a=n.left+n.width+r,o=i.calculateVerticalAlignment(n,e,s)):t===ae.Left?(a=n.left-e.width-r,o=i.calculateVerticalAlignment(n,e,s)):t===ae.Top?(o=n.top-e.height-r,a=i.calculateHorizontalAlignment(n,e,s)):t===ae.Bottom&&(o=n.top+n.height+r,a=i.calculateHorizontalAlignment(n,e,s)),{top:o,left:a}}static determinePlacement(t,e,n,r){if(i.shouldFlip(n,e,t,r)){if(t===ae.Right)return ae.Left;if(t===ae.Left)return ae.Right;if(t===ae.Top)return ae.Bottom;if(t===ae.Bottom)return ae.Top}return t}},GF=(()=>{class i{get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}constructor(e,n,r){this.element=e,this.renderer=n,this.platformId=r}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Gn(this.platformId))return;let e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;let r=e.getBoundingClientRect();this.checkFlip(n,r),this.positionContent(e,n,r),this.showCaret&&this.positionCaret(n,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,n,r){let{top:s,left:o}=ka.positionContent(this.placement,r,n,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,n){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=ka.positionCaret(this.placement,n,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,n){this.placement=ka.determinePlacement(this.placement,n,e,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(ii),w(zt))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,r){if(n&1&&pi(NO,5),n&2){let s;Ht(s=jt())&&(r.caretElm=s.first)}},hostVars:2,hostBindings:function(n,r){n&1&&k("resize",function(){return r.onWindowResize()},!1,jm),n&2&&$t(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,r){n&1&&(d(0,"div"),y(1,"span",1,0),d(3,"div",2),T(4,VO,2,4,"span",3)(5,BO,1,1,"span",4),h()()),n&2&&(g(),Vr("tooltip-caret position-",r.placement,""),x("hidden",!r.showCaret),g(3),x("ngIf",!r.title),g(),x("ngIf",r.title))},dependencies:[H,Ya],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return gm([jF(100)],i.prototype,"onWindowResize",null),i})(),em=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);let n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){let e=this.components.get(t.componentType);if(e&&e.length){let n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let e=this.components.get(t);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){let e=M({},this.defaults.inputs),n=M({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs=M(M({},e),t.inputs)),n&&(t.outputs=M(M({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}};function UF(i){return i.element}var j1=(()=>{class i{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(e){i.globalRootViewContainer=e}constructor(e,n,r){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=r}getRootViewContainer(){if(this._container)return this._container;if(i.globalRootViewContainer)return i.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return UF(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(n.inputs!==void 0){let r=Object.getOwnPropertyNames(n.inputs);for(let s of r)e.instance[s]=n.inputs[s]}if(n.outputs!==void 0){let r=Object.getOwnPropertyNames(n.outputs);for(let s of r)e.instance[s]=n.outputs[s]}}return e}appendComponent(e,n={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new Fc(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new ra(e),l=o.attach(a);return this.projectComponentBindings(l,n),l}static{this.\u0275fac=function(n){return new(n||i)(B(hi),B(Gm),B(ut))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac})}}return i})(),nm=(()=>{class i extends em{constructor(e){super(e),this.type=GF}static{this.\u0275fac=function(n){return new(n||i)(B(j1))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac})}}return i})(),Ar=function(i){return i.Right="right",i.Below="below",i}(Ar||{}),Ta=function(i){return i.ScaleLegend="scaleLegend",i.Legend="legend",i}(Ta||{}),Se=function(i){return i.Time="time",i.Linear="linear",i.Ordinal="ordinal",i.Quantile="quantile",i}(Se||{});function rm(i){return i instanceof Date?i=i.toLocaleDateString():i=i.toLocaleString(),i}function WF(i){return i.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var qF=(()=>{class i{constructor(){this.isActive=!1,this.select=new X,this.activate=new X,this.deactivate=new X,this.toggle=new X}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,r){n&1&&k("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,r){n&1&&(d(0,"span",0),k("click",function(){return r.select.emit(r.formattedLabel)}),d(1,"span",1),k("click",function(){return r.toggle.emit(r.formattedLabel)}),h(),d(2,"span",2),m(3),h()()),n&2&&(yt("active",r.isActive),x("title",r.formattedLabel),g(),ui("background-color",r.color),g(2),O(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return i})(),XF=(()=>{class i{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new X,this.labelActivate=new X,this.labelDeactivate=new X,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let e=[];for(let n of this.data){let r=rm(n);e.findIndex(o=>o.label===r)===-1&&e.push({label:n,formattedLabel:r,color:this.colors.getColor(n)})}return e}isActive(e){return this.activeEntries?this.activeEntries.find(r=>e.label===r.name)!==void 0:!1}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,n){return n.label}static{this.\u0275fac=function(n){return new(n||i)(w(ln))}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[Ae],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,r){n&1&&(d(0,"div"),T(1,zO,3,1,"header",0),d(2,"div",1)(3,"ul",2),T(4,$O,2,4,"li",3),h()()()),n&2&&(ui("width",r.width,"px"),g(),x("ngIf",(r.title==null?null:r.title.length)>0),g(2),ui("max-height",r.height-45,"px"),yt("horizontal-legend",r.horizontal),g(),x("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[Te,H,qF],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return i})(),YF=(()=>{class i{constructor(){this.horizontal=!1}ngOnChanges(e){let n=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${n})`}gradientString(e,n){n.push(1);let r=[];return e.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(n[o]*100)}%`)}),r.join(", ")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[Ae],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"span"),m(3),h()(),y(4,"div",2),d(5,"div",1)(6,"span"),m(7),h()()()),n&2&&(ui("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),yt("horizontal-legend",r.horizontal),g(3),$(r.valueRange[1].toLocaleString()),g(),ui("background",r.gradient),g(3),$(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return i})(),QF=(()=>{class i{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new X,this.legendLabelActivate=new X,this.legendLabelDeactivate=new X,this.LegendPosition=Ar,this.LegendType=Ta}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Ar.Right)&&(this.legendType===Ta.ScaleLegend?e=1:e=2));let n=12-e;this.chartWidth=Math.floor(this.view[0]*n/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Ar.Right?Math.floor(this.view[0]*e/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===Se.Linear?Ta.ScaleLegend:Ta.Legend}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[bt([nm]),Ae],ngContentSelectors:HO,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,r){n&1&&(ja(),d(0,"div",0),q(),d(1,"svg",1),Ga(2),h(),T(3,jO,1,5,"ngx-charts-scale-legend",2)(4,GO,1,7,"ngx-charts-legend",3),h()),n&2&&(ui("width",r.view[0],"px")("height",r.view[1],"px"),g(),fe("width",r.chartWidth)("height",r.view[1]),g(2),x("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),g(),x("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[H,XF,YF],encapsulation:2,changeDetection:0})}}return i})(),KF=(()=>{class i{constructor(e,n){this.element=e,this.zone=n,this.visible=new X,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:r}=this.element.nativeElement;n&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(Be))}}static{this.\u0275dir=Me({type:i,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}}return i})();function N1(i){return toString.call(i)==="[object Date]"}var JF=(()=>{class i{constructor(e,n,r,s){this.chartElement=e,this.zone=n,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=Se.Ordinal,this.animations=!0,this.select=new X}ngOnInit(){Hr(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new KF(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,n,r=this.chartElement.nativeElement;if(Gn(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();e=s.width,n=s.height}return e&&n?{width:e,height:n}:null}formatDates(){for(let e=0;e<this.results.length;e++){let n=this.results[e];if(n.label=n.name,N1(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let r=0;r<n.series.length;r++){let s=n.series[r];s.label=s.name,N1(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Gn(this.platformId))return;let n=Lr(window,"resize").pipe(_m(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(e){let n=[];for(let r of e){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),n.push(s)}return n}static{this.\u0275fac=function(n){return new(n||i)(w(Le),w(Be),w(ln),w(zt))}}static{this.\u0275cmp=D({type:i,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[Ae],decls:1,vars:0,template:function(n,r){n&1&&y(0,"div")},encapsulation:2})}}return i})(),dt=function(i){return i.Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",i}(dt||{}),G1=(()=>{class i{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case dt.Top:this.y=this.offset,this.x=this.width/2;break;case dt.Bottom:this.y=this.offset,this.x=this.width/2;break;case dt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case dt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}static{this.\u0275fac=function(n){return new(n||i)(w(Le))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[Ae],attrs:UO,decls:2,vars:6,template:function(n,r){n&1&&(q(),d(0,"text"),m(1),h()),n&2&&(fe("stroke-width",r.strokeWidth)("x",r.x)("y",r.y)("text-anchor",r.textAnchor)("transform",r.transform),g(),O(" ",r.label," "))},encapsulation:2,changeDetection:0})}}return i})();function U1(i,t=16){return typeof i!="string"?typeof i=="number"?i+"":"":(i=i.trim(),i.length<=t?i:`${i.slice(0,t)}...`)}function W1(i,t){if(i.length>t){let e=[],n=Math.floor(i.length/t);for(let r=0;r<i.length;r++)r%n===0&&e.push(i[r]);i=e}return i}function q1(i,t,e){let n=(i||"").toString(),r=[];if(/\s/.test(n))r=n.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>t?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<n.length;)r.push(n.substring(s,s+t)),s+=t}return r.length>e&&(r=r.splice(0,e),r[r.length-1]+="..."),r}var tn=function(i){return i.Start="start",i.Middle="middle",i.End="end",i}(tn||{}),R1=(()=>{class i{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new X,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=tn.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Gn(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let e=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",n&&n!==0?(this.textTransform=`rotate(${n})`,this.textAnchor=tn.End,this.verticalSpacing=10):this.textAnchor=tn.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let n=0;this.maxTicksLength=0;for(let p=0;p<e.length;p++){let f=this.tickFormat(e[p]).toString(),v=f.length;this.trimTicks&&(v=this.tickTrim(f).length),v>this.maxTicksLength&&(this.maxTicksLength=v)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/e.length);for(;a>l&&n>-90;)n-=30,a=Math.cos(n*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let p=this.ticks.reduce((v,_)=>_.length>v.length?_:v,"");c=14*(this.tickChunks(p).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(p)}let u=n!==0?Math.max(Math.abs(Math.sin(n*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(u,200),n}getTicks(){let e,n=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=W1(e,n)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?U1(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=e.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(e)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Gn(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),q1(e,s,r<1?1:r)}return[this.tickTrim(e)]}static{this.\u0275fac=function(n){return new(n||i)(w(zt))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&pi(H1,5),n&2){let s;Ht(s=jt())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ae],attrs:WO,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,r){n&1&&(q(),d(0,"g",null,0),T(2,ZO,2,2,"g",3),h(),T(3,tF,2,2,"g",4)),n&2&&(g(2),x("ngForOf",r.ticks),g(),x("ngForOf",r.ticks))},dependencies:[Te,H],encapsulation:2,changeDetection:0})}}return i})(),ZF=(()=>{class i{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=dt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new X,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=dt}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){let n=e+25+5;n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,r){if(n&1&&pi(R1,5),n&2){let s;Ht(s=jt())&&(r.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ae],attrs:iF,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(q(),d(0,"g"),T(1,nF,1,13,"g",0)(2,rF,1,5,"g",1),h()),n&2&&(fe("class",r.xAxisClassName)("transform",r.transform),g(),x("ngIf",r.xScale),g(),x("ngIf",r.showLabel))},dependencies:[H,G1,R1],encapsulation:2,changeDetection:0})}}return i})();function Fn(i,t,e,n,r,[s,o,a,l]){let c="";return e=Math.floor(e),n=Math.floor(n),e=e===0?1:e,n=n===0?1:n,c=`M${[i+r,t]}`,c+=`h${e-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${n-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-e}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-n}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var P1=(()=>{class i{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new X,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=tn.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=dt}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Gn(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e=this.scale,n=this.orient===dt.Top||this.orient===dt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=e.bandwidth?r=>{let s=e(r)+e.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=e.bandwidth(),l=o*8,c=a*.5-l*.5;return e(r)+c}return s}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case dt.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=tn.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case dt.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=tn.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case dt.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=tn.End,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case dt.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=tn.Start,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Fn(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e,n=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=W1(e,n)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?U1(e,this.maxTickLength):e}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let n=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(e)]:q1(e,n,Math.min(r,5))}return[this.tickFormat(e)]}static{this.\u0275fac=function(n){return new(n||i)(w(zt))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&pi(H1,5),n&2){let s;Ht(s=jt())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ae],attrs:sF,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,r){n&1&&(q(),d(0,"g",null,0),T(2,pF,2,2,"g",3),h(),T(3,mF,1,2,"path",4)(4,xF,2,2,"g",5)(5,bF,2,1,"g",5)),n&2&&(g(2),x("ngForOf",r.ticks),g(),x("ngIf",r.referenceLineLength>1&&r.refMax&&r.refMin&&r.showRefLines),g(),x("ngForOf",r.ticks),g(),x("ngForOf",r.referenceLines))},dependencies:[Te,H],encapsulation:2,changeDetection:0})}}return i})(),e3=(()=>{class i{constructor(){this.showGridLines=!1,this.yOrient=dt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new X,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===dt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===dt.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,r){if(n&1&&pi(P1,5),n&2){let s;Ht(s=jt())&&(r.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ae],attrs:CF,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(q(),d(0,"g"),T(1,wF,1,15,"g",0)(2,SF,1,5,"g",1),h()),n&2&&(fe("class",r.yAxisClassName)("transform",r.transform),g(),x("ngIf",r.yScale),g(),x("ngIf",r.showLabel))},dependencies:[H,G1,P1],encapsulation:2,changeDetection:0})}}return i})(),V1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[z]})}}return i})(),sm=function(i){return i.popover="popover",i.tooltip="tooltip",i}(sm||{}),Os=function(i){return i[i.all="all"]="all",i[i.focus="focus"]="focus",i[i.mouseover="mouseover"]="mouseover",i}(Os||{}),t3=(()=>{class i{get listensForFocus(){return this.tooltipShowEvent===Os.all||this.tooltipShowEvent===Os.focus}get listensForHover(){return this.tooltipShowEvent===Os.all||this.tooltipShowEvent===Os.mouseover}constructor(e,n,r){this.tooltipService=e,this.viewContainerRef=n,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=ae.Top,this.tooltipAlignment=ae.Center,this.tooltipType=sm.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Os.all,this.tooltipImmediateExit=!1,this.show=new X,this.hide=new X}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;let n=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{e.contains(n.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;let n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(n){return new(n||i)(w(nm),w(Gs),w(ii))}}static{this.\u0275dir=Me({type:i,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,r){n&1&&k("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(o){return r.onMouseLeave(o.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1})}}return i})(),B1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({providers:[j1,nm],imports:[z]})}}return i})(),z1={};function X1(){let i=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return i=`a${i}`,z1[i]?X1():(z1[i]=!0,i)}var It=function(i){return i.Vertical="vertical",i.Horizontal="horizontal",i}(It||{});var i3=(()=>{class i{constructor(){this.orientation=It.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===It.Horizontal?this.x2="100%":this.orientation===It.Vertical&&(this.y1="100%")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[Ae],attrs:TF,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(q(),d(0,"linearGradient",0),T(1,kF,1,5,"stop",1),h()),n&2&&(x("id",r.name),fe("x1",r.x1)("y1",r.y1)("x2",r.x2)("y2",r.y2),g(),x("ngForOf",r.stops))},dependencies:[Te],encapsulation:2,changeDetection:0})}}return i})();var tm;typeof window<"u"?tm=window:typeof global<"u"&&(tm=global);var HH=tm.MouseEvent;var Kt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[z,V1,B1,z,V1,B1]})}}return i})();function n3({width:i,height:t,margins:e,showXAxis:n=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=Se.Ordinal,legendPosition:p=Ar.Right,columns:f=12}){let v=e[3],_=i,C=t-e[0]-e[2];return c&&p===Ar.Right&&(u===Se.Ordinal?f-=2:f-=1),_=_*f/12,_=_-e[1]-e[3],n&&(C-=5,C-=s,a&&(C-=30)),r&&(_-=5,_-=o,v+=o,v+=10,l&&(_-=30,v+=30)),_=Math.max(0,_),C=Math.max(0,C),{width:Math.floor(_),height:Math.floor(C),xOffset:Math.floor(v)}}var $1=[{name:"vivid",selectable:!0,group:Se.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:Se.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:Se.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:Se.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:Se.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:Se.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:Se.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:Se.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:Se.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:Se.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:Se.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:Se.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:Se.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:Se.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:Se.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],im=class{constructor(t,e,n,r){typeof t=="string"&&(t=$1.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){typeof t=="string"&&(t=$1.find(s=>s.name===t));let r;switch(e){case Se.Quantile:r=Sa().range(t.domain).domain(n);break;case Se.Ordinal:r=kr().range(t.domain).domain(n);break;case Se.Linear:{let s=[...t.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=Ds(0,1,1/s.length);r=On().range(s).domain(o)}break;default:break}return r}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===Se.Linear){let e=On().domain(this.domain).range([0,1]);return this.scale(e(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let e=t.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(r=>r.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){e===void 0&&(e=this.domain[0]);let n=On().domain(this.domain).range([0,1]),r=Ls().domain(this.colorDomain).range([0,1]),s=this.getColor(t),o=n(e),a=this.getColor(e),l=n(t),c=1,u=o,p=[];for(p.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let f=this.colorDomain[c],v=r(f);if(v<=o){c++;continue}if(v.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;p.push({color:f,offset:v,opacity:1}),u=v,c++}if(p[p.length-1].offset<100&&p.push({color:s,offset:l,opacity:1}),l===o)p[0].offset=0,p[1].offset=100;else if(p[p.length-1].offset!==100)for(let f of p)f.offset=(f.offset-o)/(l-o)*100;return p}};var r3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})(),s3=(()=>{class i{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new X,this.activate=new X,this.deactivate=new X,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+X1().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let e=wp(this.element).select(".bar"),n=this.getPath();this.animations?e.transition().duration(500).attr("d",n):e.attr("d",n)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let e=this.getRadius(),n;return this.roundEdges?this.orientation===It.Vertical?(e=Math.min(this.height,e),n=Fn(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===It.Horizontal&&(e=Math.min(this.width,e),n=Fn(this.x,this.y,1,this.height,0,this.edges)):this.orientation===It.Vertical?n=Fn(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===It.Horizontal&&(n=Fn(this.x,this.y,1,this.height,0,this.edges)),n}getPath(){let e=this.getRadius(),n;return this.roundEdges?this.orientation===It.Vertical?(e=Math.min(this.height,e),n=Fn(this.x,this.y,this.width,this.height,e,this.edges)):this.orientation===It.Horizontal&&(e=Math.min(this.width,e),n=Fn(this.x,this.y,this.width,this.height,e,this.edges)):n=Fn(this.x,this.y,this.width,this.height,e,this.edges),n}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===It.Vertical?this.data.value>0?e=[!0,!0,!1,!1]:e=[!1,!1,!0,!0]:this.orientation===It.Horizontal&&(this.data.value>0?e=[!1,!0,!1,!0]:e=[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===It.Vertical&&this.height===0||this.orientation===It.Horizontal&&this.width===0)}static{this.\u0275fac=function(n){return new(n||i)(w(Le))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(n,r){n&1&&k("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Ae],attrs:DF,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,r){n&1&&(T(0,LF,2,3,"defs",0),q(),d(1,"path",1),k("click",function(){return r.select.emit(r.data)}),h()),n&2&&(x("ngIf",r.hasGradient),g(),yt("active",r.isActive)("hidden",r.hideBar),fe("d",r.path)("aria-label",r.ariaLabel)("fill",r.hasGradient?r.gradientFill:r.fill))},dependencies:[H,i3],encapsulation:2,changeDetection:0})}}return i})(),Nn=function(i){return i.Standard="standard",i.Normalized="normalized",i.Stacked="stacked",i}(Nn||{}),Fs=function(i){return i.positive="positive",i.negative="negative",i}(Fs||{}),o3=(()=>{class i{constructor(e){this.dimensionsChanged=new X,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){let e=this.element.getBoundingClientRect().height,n=this.element.getBoundingClientRect().width;return{height:e,width:n,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=rm(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}static{this.\u0275fac=function(n){return new(n||i)(w(Le))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ae],attrs:IF,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(n,r){n&1&&(q(),d(0,"text",0),m(1),h()),n&2&&(fe("text-anchor",r.textAnchor)("transform",r.transform)("x",r.x)("y",r.y),g(),O(" ",r.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0})}}return i})();var a3=(()=>{class i{constructor(e){this.platformId=e,this.type=Nn.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new X,this.activate=new X,this.deactivate=new X,this.dataLabelHeightChanged=new X,this.barsForDataLabels=[],this.barOrientation=It,this.isSSR=!1}ngOnInit(){Hr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();let e;this.series.length&&(e=this.xScale.bandwidth()),e=Math.round(e);let n=Math.max(this.yScale.domain()[0],0),r={[Fs.positive]:0,[Fs.negative]:0},s=Fs.positive,o;this.type===Nn.Normalized&&(o=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,u=this.getLabel(a),p=rm(u),f=this.roundEdges;s=c>0?Fs.positive:Fs.negative;let v={value:c,label:u,roundEdges:f,data:a,width:e,formattedLabel:p,height:0,x:0,y:0};if(this.type===Nn.Standard)v.height=Math.abs(this.yScale(c)-this.yScale(n)),v.x=this.xScale(u),c<0?v.y=this.yScale(0):v.y=this.yScale(c);else if(this.type===Nn.Stacked){let C=r[s],S=C+c;r[s]+=c,v.height=this.yScale(C)-this.yScale(S),v.x=0,v.y=this.yScale(S),v.offset0=C,v.offset1=S}else if(this.type===Nn.Normalized){let C=r[s],S=C+c;r[s]+=c,o>0?(C=C*100/o,S=S*100/o):(C=0,S=0),v.height=this.yScale(C)-this.yScale(S),v.x=0,v.y=this.yScale(S),v.offset0=C,v.offset1=S,c=(S-C).toFixed(2)+"%"}this.colors.scaleType===Se.Ordinal?v.color=this.colors.getColor(u):this.type===Nn.Standard?(v.color=this.colors.getColor(c),v.gradientStops=this.colors.getLinearGradientStops(c)):(v.color=this.colors.getColor(v.offset1),v.gradientStops=this.colors.getLinearGradientStops(v.offset1,v.offset0));let _=p;return v.ariaLabel=p+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(_=`${this.seriesName} \u2022 ${p}`,v.data.series=this.seriesName,v.ariaLabel=this.seriesName+" "+v.ariaLabel),v.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${WF(_)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,v}),this.updateDataLabels()}updateDataLabels(){if(this.type===Nn.Stacked){this.barsForDataLabels=[];let e={};e.series=this.seriesName;let n=this.series.map(s=>s.value).reduce((s,o)=>o>0?s+o:s,0),r=this.series.map(s=>s.value).reduce((s,o)=>o<0?s+o:s,0);e.total=n+r,e.x=0,e.y=0,e.total>0?e.height=this.yScale(n):e.height=this.yScale(r),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{let n={};return n.series=this.seriesName??e.label,n.total=e.value,n.x=this.xScale(e.label),n.y=this.yScale(0),n.height=this.yScale(n.total)-this.yScale(0),n.width=this.xScale.bandwidth(),n})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:ae.Top,this.tooltipType=this.tooltipDisabled?void 0:sm.tooltip}isActive(e){return this.activeEntries?this.activeEntries.find(r=>e.name===r.name&&e.value===r.value)!==void 0:!1}onClick(e){this.select.emit(e)}getLabel(e){return e.label?e.label:e.name}trackBy(e,n){return n.label}trackDataLabelBy(e,n){return e+"#"+n.series+"#"+n.total}static{this.\u0275fac=function(n){return new(n||i)(w(zt))}}static{this.\u0275cmp=D({type:i,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},standalone:!1,features:[Ae],attrs:OF,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(n,r){n&1&&T(0,NF,2,2,"g",0)(1,PF,2,2,"g",0)(2,BF,2,2,"g",0),n&2&&(x("ngIf",!r.isSSR),g(),x("ngIf",r.isSSR),g(),x("ngIf",r.showDataLabel))},dependencies:[Te,H,t3,s3,o3],encapsulation:2,data:{animation:[hf("animationState",[pf(":leave",[Fd({opacity:1}),uf(500,Fd({opacity:0}))])])]},changeDetection:0})}}return i})(),Y1=(()=>{class i extends JF{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Ar.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new X,this.deactivate=new X,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=n3({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();let e=this.xDomain.length/(this.dims.width/this.barPadding+1);return Ls().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let e=On().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}getXDomain(){return this.results.map(e=>e.label)}getYDomain(){let e=this.results.map(s=>s.value),n=this.yScaleMin?Math.min(this.yScaleMin,...e):Math.min(0,...e);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.min(n,...this.yAxisTicks));let r=this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(r=Math.max(r,...this.yAxisTicks)),[n,r]}onClick(e){this.select.emit(e)}setColors(){let e;this.schemeType===Se.Ordinal?e=this.xDomain:e=this.yDomain,this.colors=new im(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){let e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===Se.Ordinal?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxHeightChanged(e){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,n=!1){e=this.results.find(s=>n?s.label===e.name:s.name===e.name),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,n=!1){e=this.results.find(s=>n?s.label===e.name:s.name===e.name);let r=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275cmp=D({type:i,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(n,r,s){if(n&1&&Od(s,EF,5),n&2){let o;Ht(o=jt())&&(r.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[_t],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"]],template:function(n,r){n&1&&(d(0,"ngx-charts-chart",0),k("legendLabelClick",function(o){return r.onClick(o)})("legendLabelActivate",function(o){return r.onActivate(o,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,!0)}),q(),d(1,"g",1),T(2,zF,1,12,"g",2)(3,$F,1,10,"g",3),d(4,"g",4),k("activate",function(o){return r.onActivate(o)})("deactivate",function(o){return r.onDeactivate(o)})("select",function(o){return r.onClick(o)})("dataLabelHeightChanged",function(o){return r.onDataLabelMaxHeightChanged(o)}),h()()()),n&2&&(x("view",Br(22,AF,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),g(),fe("transform",r.transform),g(),x("ngIf",r.xAxis),g(),x("ngIf",r.yAxis),g(),x("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("series",r.results)("dims",r.dims)("gradient",r.gradient)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("showDataLabel",r.showDataLabel)("dataLabelFormatting",r.dataLabelFormatting)("activeEntries",r.activeEntries)("roundEdges",r.roundEdges)("animations",r.animations)("noBarWhenZero",r.noBarWhenZero))},dependencies:[H,ZF,e3,QF,a3],styles:[MF],encapsulation:2,changeDetection:0})}}return i})();var Q1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var l3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var c3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var d3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var K1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var jH=2*Math.PI;var om=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})(),h3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt,om,K1]})}}return i})();var u3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var p3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})();var m3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt,om,Q1]})}}return i})();function f3(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var g3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt]})}}return i})(),J1=(()=>{class i{constructor(){f3()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=pe({imports:[Kt,r3,Q1,l3,c3,d3,g3,K1,h3,u3,om,p3,m3]})}}return i})();var x3=()=>[700,400],am=()=>["/portal/files"];function _3(i,t){i&1&&(d(0,"div",29),y(1,"div",30),h())}function y3(i,t){if(i&1&&(d(0,"div",32)(1,"div",8)(2,"div",33)(3,"div",34)(4,"div"),y(5,"i",35),h(),y(6,"div"),h(),d(7,"div",36)(8,"h5"),m(9),h(),d(10,"div",37)(11,"a",38),y(12,"i",39),h(),d(13,"div",40)(14,"a",41),m(15,"Pending...."),h()()()(),d(16,"p",42),m(17),h()()()()),i&2){let e=t.$implicit;g(9),$(e.MemFoldName),g(8),O("",e.total_file," Files")}}function b3(i,t){if(i&1&&(d(0,"div",4),T(1,y3,18,2,"div",31),h()),i&2){let e=b();g(),x("ngForOf",e.data)}}function C3(i,t){i&1&&(d(0,"div",29),y(1,"div",30),h())}function w3(i,t){if(i&1){let e=R();_e(0),d(1,"div",40)(2,"span",53),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.qrCode(r==null?null:r.MemUniqueId))}),m(3,"Attach Qr Code"),h(),d(4,"span",54),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.approve(r.Id,"approve"))}),m(5,"Approve"),h(),d(6,"span",55),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.approve(r.Id,"reject"))}),m(7,"Reject"),h()(),ye()}}function S3(i,t){if(i&1){let e=R();d(0,"div",40)(1,"span",56),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.editFiles(r==null?null:r.MemUniqueId))}),m(2),h()()}if(i&2){let e=b(4);g(2),$(e.isEditLoader?"Loading...":"Edit")}}function T3(i,t){if(i&1&&(d(0,"div",37)(1,"a",38),y(2,"i",39),h(),T(3,w3,8,0,"ng-container",28),_e(4),T(5,S3,3,1,"div",52),ye(),h()),i&2){let e=b().$implicit,n=b(2);g(3),x("ngIf",n.isAdmin),g(2),x("ngIf",!n.isAdmin&&e.IsPublished==0)}}function k3(i,t){if(i&1&&(d(0,"tbody")(1,"tr")(2,"td")(3,"a",46)(4,"figure",47)(5,"span",48),y(6,"i",49),h()(),m(7),h()(),d(8,"td"),m(9),J(10,"date"),h(),d(11,"td"),m(12),h(),d(13,"td")(14,"span"),m(15),h()(),d(16,"td",50),T(17,T3,6,2,"div",51),h()()()),i&2){let e,n=t.$implicit,r=b(2);g(7),O(" ",n==null?null:n.MemTitle," "),g(2),$(on(10,8,n==null?null:n.CreatedAt,"dd/MM/YYYY")),g(3),O(" ",n==null?null:n.MemFoldName," "),g(2),Vr("badge badge-pill ",r.statusClasses[n==null?null:n.IsPublished],""),g(),O(" ",(e=r.status[n==null?null:n.IsPublished])!==null&&e!==void 0?e:"Pending"," "),g(2),x("ngIf",(n==null?null:n.IsPublished)==0||(n==null?null:n.IsPublished)==1)}}function E3(i,t){if(i&1&&(d(0,"div",43)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),m(5,"Name"),h(),d(6,"th"),m(7,"Date Created"),h(),d(8,"th"),m(9,"Folder Name"),h(),d(10,"th"),m(11,"Status"),h(),d(12,"th"),m(13,"Action"),h()()(),T(14,k3,18,11,"tbody",45),h()()),i&2){let e=b();g(14),x("ngForOf",e.recentFiles)}}function A3(i,t){i&1&&(d(0,"div",29),y(1,"div",30),h())}function M3(i,t){if(i&1&&(d(0,"div",62)(1,"div")(2,"figure",63),y(3,"img",64),h()(),d(4,"div")(5,"h6",65)(6,"span",66)(7,"a",67)(8,"p"),m(9),J(10,"date"),J(11,"date"),h()()()(),y(12,"a",46),h()()),i&2){let e=t.$implicit;g(9),Ua("",e==null?null:e.ViewEmail," from ",e==null?null:e.ViewLoc," viewed this memo on ",on(10,4,e==null?null:e.CreatedAt,"YYYY/MM/dd")," at approximately ",on(11,7,e==null?null:e.CreatedAt,"hh:mm a"),".")}}function D3(i,t){if(i&1&&(d(0,"div",58)(1,"div",59)(2,"div",60),T(3,M3,13,10,"div",61),h()()()),i&2){let e=b(2);g(3),x("ngForOf",e.activities)}}function L3(i,t){if(i&1&&(_e(0),d(1,"div",15)(2,"h4"),m(3,"Last Activities"),h()(),T(4,A3,2,0,"div",17)(5,D3,4,1,"div",57),ye()),i&2){let e=b();g(4),x("ngIf",e.isLoading),g(),x("ngIf",!e.isLoading)}}var Z1=(()=>{class i{toggleSidebar(){this.sidebarVisible=!this.sidebarVisible}constructor(e,n,r,s,o){this.httpRequest=e,this.handleModal=n,this.userData=r,this.router=s,this.fileService=o,this.isSuperAdmin=!1,this.data=[],this.monthOnMonthGraph=[],this.recentFiles=[],this.isLoading=!0,this.isEditLoader=!1,this.sidebarVisible=!1,this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false"),this.status=[],this.statusClasses=["bg-secondary","bg-warning text-dark","bg-success","bg-danger"],this.barChartData=[]}ngOnInit(){this.status=this.userData.status,this.fileService.refreshFile$.subscribe(e=>{e&&(this.fetchRecentFiles(),this.fetchChartData())}),this.isLoading=!0,this.httpRequest.makeGetRequest("/memo/memo_activities").subscribe(e=>{this.activities=e.data,this.isLoading=!1},e=>{this.isLoading=!1,e.error.message&&((0,pd.default)({text:"Token Expired!",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),localStorage.removeItem("token"),this.router.navigate(["/login"]))}),this.httpRequest?.makeGetRequest("/dashboard/folder/recent").subscribe(e=>{this.data=e.data,this.isLoading=!1},e=>{this.isLoading=!1,(0,pd.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}fetchChartData(){this.httpRequest?.makeGetRequest("/dashboard/month_on_month_graph?year=2025").subscribe(e=>{this.barChartData=e.data.map(n=>({name:n.month,value:n.count})),this.isLoading=!1},e=>{this.isLoading=!1})}fetchRecentFiles(){this.isLoading=!0,this.httpRequest?.makeGetRequest("/dashboard/files/recent").subscribe(e=>{this.recentFiles=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}openModal(){this.handleModal.showMother("create_memo"),this.handleModal.toggleCheck("hello")}qrCode(e){this.handleModal.setPublishMemId({memId:e}),this.handleModal.showMother("qrcode")}viewFiles(e){this.httpRequest?.makeGetRequest("/memo/single?id="+e.MemUniqueId).subscribe(n=>{this.handleModal.showMother("forms"),this.userData.setUserData(n.data)})}editFiles(e){this.isEditLoader=!0,this.httpRequest?.makeGetRequest("/memo/single?id="+e).subscribe(n=>{this.isEditLoader=!1,this.handleModal.setEditMemo(n.data),this.handleModal.showMother("edit_files")},n=>{this.isEditLoader=!1,(0,pd.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}approve(e,n){this.handleModal.showMother("otp"),this.handleModal.setPublishMemId({memId:e,status:n})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j),w(ge),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-dashboard"]],decls:52,vars:17,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"card","bg-primary-bright","border-0"],[1,"row"],[1,"col-md-8"],["yAxisLabel","Memo Created Count",3,"view","results","yAxis","legend","showYAxisLabel"],[1,"col-md-4","mt-5"],[1,"card"],[1,"card-body","text-center"],[1,"row","mb-4"],[1,"col-md-8","offset-md-2"],["src","../../assets/media/svg/report.svg","alt","report",1,"img-fluid"],[1,"my-3"],[1,"btn","btn-outline-primary","btn-lg2",3,"click"],[1,"content-title","d-flex","justify-content-between"],[1,"view-all-link",3,"routerLink"],["class","spinner-container",4,"ngIf"],["class","row",4,"ngIf"],[3,"routerLink"],[1,"col-md-2","text-center"],[1,"card","mb-3"],[1,"card-body","cursor-pointer"],[1,"avatar","avatar-lg",3,"click"],[1,"avatar-title","rounded-pill"],[1,"ti-plus"],[1,"mb-4"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"spinner-container"],[1,"spinner"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card-body"],[1,"d-flex","justify-content-between","mb-4"],[1,"font-size-22","ti-folder"],[1,"d-flex","justify-content-between"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"small","text-muted","mb-0"],[1,"table-responsive"],[1,"table","table-borderless","table-hover","mb-0"],[4,"ngFor","ngForOf"],["href","#"],[1,"avatar","avatar-sm","mr-2"],[1,"avatar-title","bg-warning","text-black-50","rounded-pill"],[1,"ti-folder"],[1,""],["class","dropdown",4,"ngIf"],["class","dropdown-menu dropdown-menu-right",4,"ngIf"],[1,"dropdown-item","cursor-pointer","bg-primary","hover-text-dark",3,"click"],[1,"dropdown-item","cursor-pointer","bg-success","hover-bg-success-light","hover-text-dark","mt-2",3,"click"],[1,"dropdown-item","cursor-pointer","bg-danger","hover-bg-danger-light","hover-text-dark","mt-2",3,"click"],["data-sidebar-target","#view-file",1,"dropdown-item","cursor-pointer",3,"click"],["class","row mb-5",4,"ngIf"],[1,"row","mb-5"],[1,"col-md-12"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"avatar","mr-3"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[1,"d-md-flex","justify-content-between","mt-3",2,"margin-top","50ppx"],[1,"d-block"],[1,"link-1"]],template:function(n,r){n&1&&(d(0,"div")(1,"div",0),y(2,"app-navigation"),d(3,"div",1)(4,"div",2),y(5,"div",3),d(6,"div",4)(7,"div",5)(8,"h4"),m(9,"Daily Usage"),h(),y(10,"ngx-charts-bar-vertical",6),h(),d(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),y(16,"img",12),h()(),d(17,"h4",13),m(18,"Create Memo"),h(),d(19,"button",14),k("click",function(){return r.openModal()}),m(20,"Create Memo"),h()()()()(),d(21,"div",15)(22,"h4"),m(23,"Favorite Folders"),h(),d(24,"a",16),m(25,"View All"),h()(),T(26,_3,2,0,"div",17)(27,b3,2,1,"div",18),d(28,"div",15)(29,"h4"),m(30,"Quick Access"),h(),d(31,"a",19),m(32,"View All"),h()(),d(33,"div",10)(34,"div",20)(35,"div",21)(36,"div",22)(37,"div",23),k("click",function(){return r.openModal()}),d(38,"span",24),y(39,"i",25),h()()()(),d(40,"h6"),m(41,"Add"),h()()(),d(42,"div",15)(43,"h4"),m(44,"Recent Memo"),h(),d(45,"a",19),m(46,"View All"),h()(),T(47,C3,2,0,"div",17),d(48,"div",26),T(49,E3,15,1,"div",27),h(),T(50,L3,6,2,"ng-container",28),h()(),y(51,"app-sidebar"),h()()),n&2&&(g(10),x("view",Re(13,x3))("results",r.barChartData)("yAxis",!0)("legend",!0)("showYAxisLabel",!0),g(14),x("routerLink",Re(14,am)),g(2),x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading),g(4),x("routerLink",Re(15,am)),g(14),x("routerLink",Re(16,am)),g(2),x("ngIf",r.isLoading),g(2),x("ngIf",!r.isLoading),g(),x("ngIf",r.isAdmin))},dependencies:[z,Te,H,$r,Mi,Di,un,J1,Y1],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .8em;border-radius:.5rem;margin-right:.5em}.view-all-link[_ngcontent-%COMP%]:hover{color:#00f}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var Ns=ht(at());var eb=i=>({"is-invalid":i}),I3=()=>["/forgotpassword"];function O3(i,t){i&1&&(d(0,"small"),m(1,"Identity is required."),h())}function F3(i,t){i&1&&(d(0,"small"),m(1,"Please enter a valid email."),h())}function N3(i,t){if(i&1&&(d(0,"div",20),T(1,O3,2,0,"small",21)(2,F3,2,0,"small",21),h()),i&2){let e=b();g(),x("ngIf",e.loginForm.get("identity").errors.required),g(),x("ngIf",e.loginForm.get("identity").errors.email)}}function R3(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),h())}function P3(i,t){i&1&&(d(0,"small"),m(1,"Password must be at least 6 characters long."),h())}function V3(i,t){if(i&1&&(d(0,"div",20),T(1,R3,2,0,"small",21)(2,P3,2,0,"small",21),h()),i&2){let e=b();g(),x("ngIf",e.loginForm.get("password").errors.required),g(),x("ngIf",e.loginForm.get("password").errors.minlength)}}var tb=(()=>{class i{ngOnInit(){this.route.queryParams.subscribe(e=>{this.mac_address=e.mac,this.mac_address||((0,Ns.default)({text:"You are not allowed to view this page",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),setTimeout(()=>{this.router.navigate(["/errorpage"])},2e3))})}constructor(e,n,r,s,o,a){this.fb=e,this.router=n,this.local=r,this.HttpRequest=s,this.userDetail=o,this.route=a,this.isLoading=!1,this.mac_address=null,this.loginForm=this.fb.group({identity:["",he.required],password:["",he.required]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let e=Q(M({},this.loginForm.value),{mac_address:this.mac_address});this.HttpRequest.makePostRequest("/auth/login",e).subscribe({next:n=>{this.userDetail.setUserDetail(n),this.isLoading=!1,n.status&&((0,Ns.default)({text:`${n.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"green"}).showToast(),this.local.write("data",n.token),this.local.write("isAdmin",n.isAdmin),this.router.navigate(["/auth"]))},error:n=>{if(this.isLoading=!1,n?.status===0){(0,Ns.default)({text:"Something went wrong, please try again later",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}if(n?.status===404){(0,Ns.default)({text:"Something went wrong, please try again later",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}let r=n?.error?.message??n.message;(0,Ns.default)({text:r,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()}})}}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(ge),w(St),w(ne),w(j),w(ri))}}static{this.\u0275cmp=D({type:i,selectors:[["app-login"]],decls:57,vars:13,consts:[[1,"login-page"],[1,"left-panel"],[1,"features-grid"],[1,"row"],[1,"col-3","feature-item"],[1,"fa","fa-lock"],["href","tel:+23414721521"],["href","tel:+23412790421"],["href","mailto:cpd@ncaa.gov.ng"],["href","https://www.ncaa.gov.ng"],[1,"right-panel"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","identity","placeholder","Identity (Username or Email)","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control",3,"ngClass"],[1,"form-group","d-flex","justify-content-between"],[1,"cursor-pointer",3,"routerLink"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),m(4,"IMSET-AI 4.2"),h(),d(5,"h1"),m(6,"INTEGRATED MEMO SECURITY TERMINAL"),h(),d(7,"p"),m(8,"A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information"),h(),d(9,"div",2)(10,"div",3)(11,"div",4),y(12,"i",5),d(13,"p"),m(14,"Security"),h()(),d(15,"div",4),y(16,"i",5),d(17,"p"),m(18,"Confidentiality"),h()(),d(19,"div",4),y(20,"i",5),d(21,"p"),m(22,"integrity"),h()(),d(23,"div",4),y(24,"i",5),d(25,"p"),m(26,"availability"),h()()()()(),d(27,"address"),m(28," Aviation House P.M.B. 21029 Ikeja Murtala Mohammed Airport Ikeja Lagos"),y(29,"br"),d(30,"a",6),m(31,"+234-1-472-1521"),h(),m(32,", "),d(33,"a",7),m(34,"+234-1-279-0421"),h(),y(35,"br"),d(36,"a",8),m(37,"cpd.gov.ng"),h(),y(38,"br"),d(39,"a",9),m(40,"www.ncaa.gov.ng"),h()()(),d(41,"div",10)(42,"div",11)(43,"h2"),m(44,"Login"),h(),d(45,"form",12),k("ngSubmit",function(){return r.onSubmit()}),d(46,"div",13),y(47,"input",14),T(48,N3,3,2,"div",15),h(),d(49,"div",13),y(50,"input",16),T(51,V3,3,2,"div",15),h(),d(52,"div",17)(53,"span",18),m(54,"Forgot password"),h()(),d(55,"button",19),m(56),h()()()()()),n&2&&(g(45),x("formGroup",r.loginForm),g(2),x("ngClass",it(8,eb,r.loginForm.get("identity").invalid&&r.loginForm.get("identity").touched)),g(),x("ngIf",r.loginForm.get("identity").invalid&&r.loginForm.get("identity").touched),g(2),x("ngClass",it(10,eb,r.loginForm.get("password").invalid&&r.loginForm.get("password").touched)),g(),x("ngIf",r.loginForm.get("password").invalid&&r.loginForm.get("password").touched),g(2),x("routerLink",Re(12,I3)),g(2),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Logging in...":"Login"," "))},dependencies:[z,Ct,H,ue,xe,se,oe,ve,kt,Ie,Oe,un],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;overflow:hidden}.login-page[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-panel[_ngcontent-%COMP%]{width:60%;background-color:#111c44;color:#fff;padding:2.5rem 4rem;display:flex;flex-direction:column;justify-content:space-between}.left-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1rem}.left-panel[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:3rem}.features-grid[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:2rem;margin:2rem 0;margin-top:100px}.feature-item[_ngcontent-%COMP%]{text-align:center}.feature-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:1rem;filter:invert(1)}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:#fffc}address[_ngcontent-%COMP%]{font-style:normal;font-size:.9rem;line-height:1.8}address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.right-panel[_ngcontent-%COMP%]{width:40%;background-color:#f8f9fa;padding:2rem;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:2rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.forgot-password[_ngcontent-%COMP%]{color:#3182ce;text-decoration:none;font-size:.9rem;display:block;margin-bottom:1.5rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#2563eb;border:none;border-radius:8px;color:#fff;font-weight:500;text-align:center;display:flex;justify-content:center}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1d4ea8}"]})}}return i})();var Ea=ht(at());function B3(i,t){if(i&1){let e=R();d(0,"div",120)(1,"ul",121)(2,"li",122)(3,"a",123),k("click",function(){let r=E(e).$implicit,s=b(2);return A(s.foldName(r.Id))}),y(4,"i",124),d(5,"span",125),m(6),h()()()()()}if(i&2){let e=t.$implicit;g(6),O(" ",(e==null?null:e.MemFoldName)==="0"||!(e!=null&&e.MemFoldName)?"No folder name available":e==null?null:e.MemFoldName," ")}}function z3(i,t){if(i&1){let e=R();d(0,"div",114)(1,"div",115)(2,"h6",116),m(3,"My Folders"),h(),d(4,"span",117)(5,"button",118),k("click",function(){E(e);let r=b();return A(r.createFolders())}),m(6," Create Folder "),h()(),T(7,B3,7,1,"div",119),J(8,"async"),h()()}if(i&2){let e=b();g(7),x("ngForOf",de(8,1,e.allFolder$))}}function $3(i,t){i&1&&y(0,"span",134)}function H3(i,t){i&1&&y(0,"span",134)}function j3(i,t){if(i&1){let e=R();d(0,"div",126)(1,"div")(2,"span",117)(3,"button",127),k("click",function(){E(e);let r=b();return A(r.previous())}),T(4,$3,1,0,"span",128),m(5),h()(),d(6,"span",117)(7,"button",127),k("click",function(){E(e);let r=b();return A(r.next())}),T(8,H3,1,0,"span",128),m(9),h()()(),d(10,"ul",129)(11,"div",130)(12,"input",131),Ue("ngModelChange",function(r){E(e);let s=b();return Ge(s.searchTerm,r)||(s.searchTerm=r),A(r)}),h()(),d(13,"li",132)(14,"button",133),k("click",function(){E(e);let r=b();return A(r.setFilterStatus(""))}),m(15,"All Memo"),h()(),d(16,"li",132)(17,"button",118),k("click",function(){E(e);let r=b();return A(r.setFilterStatus("approved"))}),m(18,"Approved"),h()(),d(19,"li",132)(20,"button",118),k("click",function(){E(e);let r=b();return A(r.setFilterStatus("pending"))}),m(21,"Pending"),h()()()()}if(i&2){let e=b();g(3),x("disabled",e.isLoadingNext),g(),x("ngIf",e.isLoadingPrevious),g(),O(" ",e.isLoadingPrevious?"":"Previous"," "),g(2),x("disabled",e.isLoadingPrevious),g(),x("ngIf",e.isLoadingNext),g(),O(" ",e.isLoadingNext?"":"Next"," "),g(3),je("ngModel",e.searchTerm)}}function G3(i,t){i&1&&(d(0,"div",135),y(1,"div",136),h())}function U3(i,t){i&1&&(d(0,"tr")(1,"td",141)(2,"h3",142),m(3,"No files found"),h()()())}function W3(i,t){if(i&1){let e=R();d(0,"button",152),k("click",function(){E(e);let r=b().$implicit,s=b(2);return A(s.copyToClipboard(r.MemFullLink))}),y(1,"i",153),h()}}function q3(i,t){if(i&1){let e=R();_e(0),d(1,"div",157)(2,"span",158),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.qrCode(r==null?null:r.MemUniqueId))}),m(3,"Attach Qr Code"),h(),d(4,"span",159),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.approve(r==null?null:r.Id,"approve"))}),m(5,"Approve"),h(),d(6,"span",160),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.approve(r==null?null:r.Id,"reject"))}),m(7,"Reject"),h()(),ye()}}function X3(i,t){if(i&1){let e=R();_e(0),d(1,"div",157)(2,"span",161),k("click",function(){E(e);let r=b(2).$implicit,s=b(2);return A(s.editFiles(r==null?null:r.MemUniqueId))}),m(3),h()(),ye()}if(i&2){let e=b(4);g(3),O(" ",e.isEditLoader?"Loading...":"Edit"," ")}}function Y3(i,t){if(i&1&&(d(0,"div",154)(1,"a",155),y(2,"i",156),h(),T(3,q3,8,0,"ng-container",139)(4,X3,4,1,"ng-container",139),h()),i&2){let e=b().$implicit,n=b(2);g(3),x("ngIf",n.isAdmin),g(),x("ngIf",!n.isAdmin&&e.IsPublished===0)}}function Q3(i,t){if(i&1&&(d(0,"tr"),y(1,"td"),d(2,"td")(3,"span",143)(4,"figure",144)(5,"span",145),y(6,"i",93),h()(),d(7,"span",146)(8,"span"),m(9),h()()()(),d(10,"td"),m(11),J(12,"date"),h(),d(13,"td"),m(14),h(),d(15,"td")(16,"span"),m(17),h()(),d(18,"td",147),T(19,W3,2,0,"button",148),h(),d(20,"td"),y(21,"img",149),h(),d(22,"td",150),T(23,Y3,5,2,"div",151),h()()),i&2){let e,n=t.$implicit,r=b(2);g(9),$(n.MemTitle),g(2),$(on(12,10,n.CreatedAt,"dd/MM/yyyy")),g(3),$(n.MemFoldName),g(2),Vr("badge badge-pill ",r.statusClasses[n==null?null:n.IsPublished],""),g(),O(" ",(e=r.status[n==null?null:n.IsPublished])!==null&&e!==void 0?e:"Pending"," "),g(2),x("ngIf",n==null?null:n.MemFullLink),g(2),xi("src",n==null?null:n.MemQuickResponse,pt),g(2),x("ngIf",(n==null?null:n.IsPublished)===0||(n==null?null:n.IsPublished)===1)}}function K3(i,t){if(i&1&&(d(0,"div",137)(1,"table",138)(2,"thead")(3,"tr"),y(4,"th"),d(5,"th"),m(6,"Name"),h(),d(7,"th"),m(8,"Date"),h(),d(9,"th"),m(10,"Folder Name"),h(),d(11,"th"),m(12,"Status"),h(),d(13,"th"),m(14,"Link"),h(),d(15,"th"),m(16,"QrCode"),h(),d(17,"th"),m(18,"Action"),h()()(),d(19,"tbody"),T(20,U3,4,0,"tr",139)(21,Q3,24,13,"tr",140),h()()()),i&2){let e=b();g(20),x("ngIf",e.filteredFiles().length===0),g(),x("ngForOf",e.filteredFiles())}}var ib=(()=>{class i{constructor(e,n,r,s,o,a){this.httpRequest=e,this.handleModal=n,this.editMemo=r,this.folderService=s,this.fileService=o,this.qrCodeService=a,this.folderSubject=new Ne([]),this.allFolder$=this.folderSubject.asObservable(),this.isLoadingPrevious=!1,this.isLoadingNext=!1,this.foldId=void 0,this.page=1,this.allFile=[],this.allFolder=[],this.isLoading=!0,this.isEditLoader=!1,this.searchTerm="",this.filterStatus="",this.status=[],this.statusClasses=["bg-secondary","bg-warning text-dark","bg-success","bg-danger"],this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false")}ngOnInit(){this.status=this.handleModal.status,this.folderService.refreshFolder$.subscribe(e=>{e&&this.loadFolders()}),this.fileService.refreshFile$.subscribe(e=>{e&&this.loadFiles()}),this.qrCodeService.refreshQrCode$.subscribe(e=>{e&&this.loadFiles()})}loadFiles(){this.httpRequest.makeGetRequest("/dashboard/files/all").subscribe(e=>{this.allFile=e.data,this.isLoading=!1},e=>{(0,Ea.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}loadFolders(){this.httpRequest.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.folderSubject.next(e.data)},e=>{(0,Ea.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}previous(){this.isLoadingPrevious=!0,this.page-=1,this.page>0&&this.httpRequest.makeGetRequest(`/dashboard/files/all?page=${this.page}&foldId=${this.foldId}`).subscribe(e=>{this.allFile=e.data,this.isLoadingPrevious=!1},e=>{console.log(e),this.isLoadingPrevious=!1})}next(){this.isLoadingNext=!0,this.page+=1,this.httpRequest.makeGetRequest(`/dashboard/files/all?page=${this.page}&foldId=${this.foldId}`).subscribe(e=>{this.allFile=e.data,console.log(this.allFile),this.isLoadingNext=!1},e=>{this.isLoadingNext=!1})}editFiles(e){this.isEditLoader=!0,this.httpRequest?.makeGetRequest("/memo/single?id="+e).subscribe(n=>{this.handleModal.setEditMemo(n.data),this.handleModal.showMother("edit_files"),this.isEditLoader=!1},n=>{this.isLoading=!1,(0,Ea.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}foldName(e){this.isLoading=!0,this.foldId=e,this.page=1,this.httpRequest.makeGetRequest("/dashboard/files/all?page=1&foldId="+e).subscribe(n=>{this.allFile=n.data,this.isLoading=!1})}approve(e,n){this.handleModal.showMother("otp"),this.handleModal.setPublishMemId({memId:e,status:n})}qrCode(e){console.log(e),this.handleModal.setPublishMemId({memId:e}),this.handleModal.showMother("qrcode")}setFilterStatus(e){this.filterStatus=e}filteredFiles(){return this.allFile.filter(e=>{let n=e?.MemTitle?.toLowerCase().includes(this.searchTerm.toLowerCase()),r=this.filterStatus===""||this.filterStatus==="approved"&&e.IsPublished===2||this.filterStatus==="pending"&&e.IsPublished===1;return n&&r})}createFolders(){this.handleModal.showMother("create_folder")}copyToClipboard(e){let n=document.createElement("textarea");n.style.position="fixed",n.style.opacity="0",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),(0,Ea.default)({text:"Link copied to clipboard!",duration:"3000",position:"right",gravity:"top",backgroundColor:"blue"}).showToast()}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(j),w(j),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-files"]],decls:364,vars:4,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header","d-flex","justify-content-between"],["href","#",1,"files-toggler"],[1,"ti-menu"],[1,"row"],["class","col-xl-3 files-sidebar",4,"ngIf"],[1,"col-xl-9"],[1,"content-title","mt-0"],["class","mb-4",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","newTaskModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"ti-close"],[1,"modal-body"],["autocomplete","off"],[1,"form-group","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text",1,"form-control"],["multiple","",1,"js-example-basic-single"],["value","Theme Support"],["value","Freelance"],["selected","","value","Social"],["selected","","value","Friends"],["value","Coding"],[1,"form-group","row","row-sm"],[1,"col-sm-5"],["type","text","placeholder","Date",1,"form-control","create-event-datepicker"],[1,"col-sm-4"],["type","text","placeholder","Time",1,"form-control","create-event-demo"],[1,"avatar-group"],[1,"avatar","avatar-sm"],["src","../../assets/media/image/user/women_avatar3.jpg","alt","image",1,"rounded-circle"],[1,"avatar-title","bg-danger","rounded-circle"],["src","../../assets/media/image/user/women_avatar5.jpg","alt","image",1,"rounded-circle"],["type","button","title","Add User","data-toggle","dropdown",1,"btn","btn-outline-light","btn-sm","btn-floating"],[1,"ti-plus"],[1,"dropdown-menu","p-0"],[1,"p-3"],[1,"text-uppercase","font-size-11","mb-3"],[1,"input-group","input-group-sm"],["type","text","placeholder","Search User","aria-describedby","button-addon2",1,"form-control"],[1,"input-group-append"],["type","button","id","button-addon2",1,"btn","btn-outline-light"],[1,"ti-search"],[1,"list-group","list-group-flush","mt-2"],[1,"list-group-item","d-flex","align-items-center","pl-0","pr-0"],[1,"mr-2"],[1,"avatar-title","bg-primary","rounded-circle"],[1,"mb-0"],[1,"dropdown","ml-auto"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","btn-sm"],["data-feather","plus"],["src","../../assets/media/image/user/women_avatar2.jpg","alt","image",1,"rounded-circle"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","btn-sm","ml-3"],["src","../../assets/media/image/user/man_avatar2.jpg","alt","image",1,"rounded-circle"],["rows","6",1,"form-control"],[1,"col-sm-3"],["type","submit",1,"btn","btn-primary"],["id","editTaskModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["type","text","placeholder","Title","value","Draw design and presentation for customers.",1,"form-control"],["selected","","value","Theme Support"],["value","Social"],["value","Friends"],["type","text","placeholder","Date","value","10/31/2019",1,"form-control","create-event-datepicker"],["type","text","value","11:57","placeholder","Time",1,"form-control","create-event-demo"],["type","text","placeholder","Search User","aria-describedby","button-addon3",1,"form-control"],["type","button","id","button-addon3",1,"btn","btn-outline-light"],["type","submit",1,"btn","btn-success"],["data-feather","check",1,"mr-2"],[1,"sidebar-group","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],[1,"sidebar-content"],["id","justgage_five",1,"mb-3"],[1,"list-group","list-group-flush","mb-3"],["href","#",1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"small","text-muted"],[1,"text-primary"],[1,"ti-control-play"],[1,"ti-files"],[1,"ti-file"],[1,"card","border","shadow-none"],[1,"card-body","text-center"],["src","../../assets/media/svg/upgrade.svg","alt","upgrade",1,"img-fluid","mb-3"],[1,"text-muted"],[1,"btn","btn-primary"],[1,"sidebar-footer"],[1,"btn","btn-lg","btn-block","btn-outline-primary"],[1,"fa","fa-cloud-upload","mr-3"],["id","view-detail",1,"sidebar"],["href","#",1,"btn","btn-light","btn-floating","sidebar-close-btn"],[1,"ti-angle-right"],[1,"avatar","mb-4"],[1,"avatar-title","bg-info-bright","text-info","rounded-pill"],[1,"row","mb-3"],[1,"col-md-5"],[1,"col-md-7"],["href","#",1,"link-1"],[1,"col-md-7","text-success"],[1,"btn","btn-lg","btn-block","btn-primary"],[1,"ti-share","mr-3"],[1,"col-xl-3","files-sidebar"],["id","folder",1,"card","border-0"],[1,"card-title"],[1,"list-inline-item","mb-0"],[1,"btn","btn-primary",3,"click"],["id","files","class","jstree jstree-1 jstree-default","role","tree","aria-multiselectable","true","tabindex","0","aria-activedescendant","j1_1","aria-busy","false",4,"ngFor","ngForOf"],["id","files","role","tree","aria-multiselectable","true","tabindex","0","aria-activedescendant","j1_1","aria-busy","false",1,"jstree","jstree-1","jstree-default"],["role","group",1,"jstree-container-ul","jstree-children","jstree-no-dots"],["role","treeitem","aria-selected","false","aria-level","1","aria-labelledby","j1_1_anchor","aria-expanded","false","id","j1_1",1,"jstree-node","jstree-closed"],["tabindex","-1","id","j1_1_anchor",1,"jstree-anchor","cursor-pointer","ms-5",3,"click"],["role","presentation",1,"jstree-icon","jstree-themeicon","ti-folder","text-warning","jstree-themeicon-custom"],[2,"margin-left","10px"],[1,"mb-4"],[1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","file-filter",1,"list-inline","mt-3"],[1,"form-group","mb-3"],["type","text","placeholder","Enter title to search",1,"form-control",3,"ngModelChange","ngModel"],[1,"list-inline-item"],[1,"btn","btn-secondary",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"spinner-container"],[1,"spinner"],[1,"table-responsive"],["id","table-files",1,"table","table-borderless","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-center"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"avatar","avatar-sm","mr-3"],[1,"avatar-title","rounded-pill"],[1,"d-flex","flex-column"],[1,"text-primary","cursor-pointer"],["title","Copy to clipboard","class","btn btn-icon",3,"click",4,"ngIf"],["alt","",2,"width","60px","height","60px",3,"src"],[1,"text-right"],["class","dropdown",4,"ngIf"],["title","Copy to clipboard",1,"btn","btn-icon",3,"click"],[1,"ti-clipboard"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","cursor-pointer","bg-primary","hover-bg-success-light","hover-text-dark",3,"click"],[1,"dropdown-item","cursor-pointer","bg-success","hover-bg-success-light","hover-text-dark","mt-2",3,"click"],[1,"dropdown-item","cursor-pointer","bg-danger","hover-bg-danger-light","hover-text-dark","mt-2",3,"click"],["data-sidebar-target","#view-file",1,"dropdown-item","cursor-pointer",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0),y(1,"app-navigation"),d(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2"),m(6,"Files"),h(),d(7,"a",4),y(8,"i",5),h()(),d(9,"div",6),T(10,z3,9,3,"div",7),d(11,"div",8)(12,"div",9)(13,"h4"),m(14,"Documents"),h()(),T(15,j3,22,7,"div",10)(16,G3,2,0,"div",11)(17,K3,22,2,"div",12),h()(),d(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"h5",17),m(23,"New Task"),h(),d(24,"button",18),y(25,"i",19),h()(),d(26,"div",20)(27,"form",21)(28,"div",22)(29,"label",23),m(30,"Task title"),h(),d(31,"div",24),y(32,"input",25),h()(),d(33,"div",22)(34,"label",23),m(35,"Tags"),h(),d(36,"div",24)(37,"select",26)(38,"option",27),m(39,"Theme Support"),h(),d(40,"option",28),m(41,"Freelance"),h(),d(42,"option",29),m(43,"Social"),h(),d(44,"option",30),m(45,"Friends"),h(),d(46,"option",31),m(47,"Coding"),h()()()(),d(48,"div",32)(49,"label",23),m(50,"Deadline"),h(),d(51,"div",33),y(52,"input",34),h(),d(53,"div",35),y(54,"input",36),h()(),d(55,"div",22)(56,"label",23),m(57,"Participate"),h(),d(58,"div",24)(59,"div",37)(60,"figure",38),y(61,"img",39),h(),d(62,"figure",38)(63,"span",40),m(64,"S"),h()(),d(65,"figure",38),y(66,"img",41),h()(),d(67,"button",42),y(68,"i",43),h(),d(69,"div",44)(70,"div",45)(71,"h6",46),m(72,"Add User"),h(),d(73,"div",47),y(74,"input",48),d(75,"div",49)(76,"button",50),y(77,"i",51),h()()(),d(78,"ul",52)(79,"li",53)(80,"div",54)(81,"figure",38)(82,"span",55),m(83,"V"),h()()(),d(84,"div")(85,"h6",56),m(86,"Valentine Maton"),h()(),d(87,"div",57)(88,"a",58),y(89,"i",59),h()()(),d(90,"li",53)(91,"div",54)(92,"figure",38),y(93,"img",39),h()(),d(94,"div")(95,"h6",56),m(96,"Valentine Maton"),h()(),d(97,"div",57)(98,"a",58),y(99,"i",59),h()()(),d(100,"li",53)(101,"div",54)(102,"figure",38),y(103,"img",60),h()(),d(104,"div")(105,"h6",56),m(106,"Valentine Maton"),h()(),d(107,"div",57)(108,"a",61),y(109,"i",59),h()()(),d(110,"li",53)(111,"div",54)(112,"figure",38),y(113,"img",62),h()(),d(114,"div")(115,"h6",56),m(116,"Valentine Maton"),h()(),d(117,"div",57)(118,"a",61),y(119,"i",59),h()()()()()()()(),d(120,"div",22)(121,"label",23),m(122,"Description"),h(),d(123,"div",24),y(124,"textarea",63),h()(),d(125,"div",22),y(126,"label",64),d(127,"div",24)(128,"button",65),m(129,"Create"),h()()()()()()()(),d(130,"div",66)(131,"div",14)(132,"div",15)(133,"div",16)(134,"h5",17),m(135,"Edit Task"),h(),d(136,"button",18),y(137,"i",19),h()(),d(138,"div",20)(139,"form",21)(140,"div",22)(141,"label",23),m(142,"Task title"),h(),d(143,"div",24),y(144,"input",67),h()(),d(145,"div",22)(146,"label",23),m(147,"Tags"),h(),d(148,"div",24)(149,"select",26)(150,"option",68),m(151,"Theme Support"),h(),d(152,"option",28),m(153,"Freelance"),h(),d(154,"option",69),m(155,"Social"),h(),d(156,"option",70),m(157,"Friends"),h(),d(158,"option",31),m(159,"Coding"),h()()()(),d(160,"div",32)(161,"label",23),m(162,"Deadline"),h(),d(163,"div",33),y(164,"input",71),h(),d(165,"div",35),y(166,"input",72),h()(),d(167,"div",22)(168,"label",23),m(169,"Participate"),h(),d(170,"div",24)(171,"div",37)(172,"figure",38),y(173,"img",39),h(),d(174,"figure",38)(175,"span",40),m(176,"S"),h()(),d(177,"figure",38),y(178,"img",41),h()(),d(179,"button",42),y(180,"i",43),h(),d(181,"div",44)(182,"div",45)(183,"h6",46),m(184,"Add User"),h(),d(185,"div",47),y(186,"input",73),d(187,"div",49)(188,"button",74),y(189,"i",51),h()()(),d(190,"ul",52)(191,"li",53)(192,"div",54)(193,"figure",38)(194,"span",55),m(195,"V"),h()()(),d(196,"div")(197,"h6",56),m(198,"Valentine Maton"),h()(),d(199,"div",57)(200,"a",58),y(201,"i",59),h()()(),d(202,"li",53)(203,"div",54)(204,"figure",38),y(205,"img",39),h()(),d(206,"div")(207,"h6",56),m(208,"Valentine Maton"),h()(),d(209,"div",57)(210,"a",58),y(211,"i",59),h()()(),d(212,"li",53)(213,"div",54)(214,"figure",38),y(215,"img",60),h()(),d(216,"div")(217,"h6",56),m(218,"Valentine Maton"),h()(),d(219,"div",57)(220,"a",61),y(221,"i",59),h()()(),d(222,"li",53)(223,"div",54)(224,"figure",38),y(225,"img",62),h()(),d(226,"div")(227,"h6",56),m(228,"Valentine Maton"),h()(),d(229,"div",57)(230,"a",61),y(231,"i",59),h()()()()()()()(),d(232,"div",22)(233,"label",23),m(234,"Description"),h(),d(235,"div",24)(236,"textarea",63),m(237,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur corporis incidunt labore modi numquam omnis pariatur possimus suscipit vitae voluptas?"),h()()(),d(238,"div",22),y(239,"label",64),d(240,"div",24)(241,"button",75),y(242,"i",76),m(243," Save "),h()()()()()()()()()(),d(244,"div",77)(245,"div",78)(246,"div",79)(247,"h4"),m(248,"Storage Overview"),h()(),d(249,"div",80),y(250,"div",81),d(251,"div")(252,"div",82)(253,"a",83)(254,"div",84)(255,"figure",85)(256,"span",86),y(257,"i",87),h()()(),d(258,"div",88)(259,"p",56),m(260,"Images"),h(),d(261,"span",89),m(262,"259 Files"),h()(),d(263,"div")(264,"h5",90),m(265,"15.7 GB"),h()()(),d(266,"a",83)(267,"div",84)(268,"figure",85)(269,"span",86),y(270,"i",91),h()()(),d(271,"div",88)(272,"p",56),m(273,"Videos"),h(),d(274,"span",89),m(275,"8 Files"),h()(),d(276,"div")(277,"h5",90),m(278,"20 GB"),h()()(),d(279,"a",83)(280,"div",84)(281,"figure",85)(282,"span",86),y(283,"i",92),h()()(),d(284,"div",88)(285,"p",56),m(286,"Documents"),h(),d(287,"span",89),m(288,"46 Files"),h()(),d(289,"div")(290,"h5",90),m(291,"10.5 GB"),h()()(),d(292,"a",83)(293,"div",84)(294,"figure",85)(295,"span",86),y(296,"i",93),h()()(),d(297,"div",88)(298,"p",56),m(299,"Other Files"),h(),d(300,"span",89),m(301,"50 Files"),h()(),d(302,"div")(303,"h5",90),m(304,"2.8 GB"),h()()()()(),d(305,"div",94)(306,"div",95),y(307,"img",96),d(308,"h5"),m(309,"Get an Upgrade"),h(),d(310,"p",97),m(311,"Get additional 500 GB space for your documents and files. Unlock now for more space."),h(),d(312,"button",98),m(313,"Upgrade"),h()()()(),d(314,"div",99)(315,"button",100),y(316,"i",101),m(317," Upload "),h()()(),d(318,"div",102)(319,"div",79)(320,"h4"),m(321,"View Detail"),h(),d(322,"a",103),y(323,"i",104),h()(),d(324,"div",80)(325,"figure",105)(326,"span",106),y(327,"i",93),h()(),d(328,"div",107)(329,"div",108),m(330,"File name:"),h(),d(331,"div",109)(332,"a",110),m(333,"Meeting-notes.doc"),h()()(),d(334,"div",107)(335,"div",108),m(336,"File type:"),h(),d(337,"div",109),m(338,"Word File"),h()(),d(339,"div",107)(340,"div",108),m(341,"File size:"),h(),d(342,"div",109),m(343,"22 KB"),h()(),d(344,"div",107)(345,"div",108),m(346,"Created:"),h(),d(347,"div",109),m(348,"Monday, July 02, 2020 9:34am"),h()(),d(349,"div",107)(350,"div",108),m(351,"Modified:"),h(),d(352,"div",111),m(353,"Monday, July 02, 2020 9:34am"),h()(),d(354,"div",107)(355,"div",108),m(356,"Accessed:"),h(),d(357,"div",109),m(358,"Monday, July 03, 2020 10:22am"),h()()(),d(359,"div",99)(360,"button",112),y(361,"i",113),m(362," Share "),h()()(),y(363,"app-sidebar"),h()()),n&2&&(g(10),x("ngIf",!r.isLoading),g(5),x("ngIf",!r.isLoading),g(),x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading))},dependencies:[Mi,Di,ue,xe,vn,xn,se,oe,ve,De,nt,qt,z,Te,H,Bi,$r],styles:["#folder[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}#file-filter[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#folder[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#88888880;border-radius:6px}#folder[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(136,136,136,.5) transparent}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.qrcode1[_ngcontent-%COMP%]{border:2px solid blue;height:10px;width:10px}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:0;margin-left:3px;margin-top:-4px;cursor:pointer;color:#007bff}.btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-icon[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#00f}"]})}}return i})();function J3(i,t){i&1&&(d(0,"div",9),y(1,"div",10),h())}function Z3(i,t){if(i&1&&(d(0,"div",15)(1,"div")(2,"figure",16),y(3,"img",17),h()(),d(4,"div")(5,"h6",18)(6,"span",19)(7,"a",20)(8,"p"),m(9),h()()()(),y(10,"a",21),h()()),i&2){let e=t.$implicit,n=b(2);g(9),Ua("",e==null?null:e.ViewEmail," from ",e==null?null:e.ViewLoc," viewed this memo on ",n.format(e==null?null:e.CreatedAt)," at approximately ",n.formatTime(e==null?null:e.CreatedAt),".")}}function eN(i,t){if(i&1&&(d(0,"div",11)(1,"div",12)(2,"div",13),T(3,Z3,11,4,"div",14),h()()()),i&2){let e=b();g(3),x("ngForOf",e.activities)}}var nb=(()=>{class i{constructor(e,n){this.service=e,this.httpRequest=n,this.isLoading=!1,this.format=r=>{let s=new Date(r),o=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),l=String(s.getDate()).padStart(2,"0");return`${o}-${a}-${l}`}}ngOnInit(){this.memoAcitivities()}memoAcitivities(){this.isLoading=!0,this.httpRequest.makeGetRequest("/memo/memo_activities").subscribe(e=>{this.activities=e.data,this.isLoading=!1},e=>{console.log(e),this.isLoading=!1})}formatTime(e){let n=new Date(e),r=String(n.getHours()).padStart(2,"0"),s=String(n.getMinutes()).padStart(2,"0"),o=String(n.getSeconds()).padStart(2,"0");return`${r}:${s}:${o}`}static{this.\u0275fac=function(n){return new(n||i)(w(j),w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-activities"]],decls:14,vars:2,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header","d-md-flex","justify-content-between"],[1,"nav","justify-content-end","mt-4","mt-md-0"],[1,"nav-item"],["href","#",1,"nav-link","active"],["class","spinner-container",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[1,"row","mb-5"],[1,"col-md-12"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"avatar","mr-3"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[1,"d-md-flex","justify-content-between","mt-3",2,"margin-top","50ppx"],[1,"d-block"],[1,"link-1"],["href","#"]],template:function(n,r){n&1&&(d(0,"div",0),y(1,"app-navigation"),d(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2"),m(6,"Activities"),h(),d(7,"ul",4)(8,"li",5)(9,"a",6),m(10,"Memo"),h()()()(),T(11,J3,2,0,"div",7)(12,eN,4,1,"div",8),h()(),y(13,"app-sidebar"),h()),n&2&&(g(11),x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading))},dependencies:[Mi,Di,z,Te,H,ue],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var lm=ht(at());var tN=()=>({standalone:!0});function iN(i,t){i&1&&(d(0,"div",7)(1,"div",8),y(2,"div",9),h()())}function nN(i,t){if(i&1&&(d(0,"option",26),m(1),h()),i&2){let e=t.$implicit;x("value",e.id),g(),$(e.RoleName)}}function rN(i,t){if(i&1){let e=R();d(0,"tr")(1,"td")(2,"a",30)(3,"figure",31),y(4,"img",32),h(),m(5),h()(),d(6,"td")(7,"a",33),m(8),h()(),d(9,"td"),m(10),h(),d(11,"td")(12,"span"),m(13),h()(),d(14,"td")(15,"div",34)(16,"a",35),y(17,"i",36),h(),d(18,"div",37)(19,"button",38),k("click",function(){let r=E(e).$implicit,s=b(3);return A(s.suspendUserMethod(r.id,s.suspendUser?"unsuspend":"suspend"))}),m(20),h(),d(21,"button",38),k("click",function(){let r=E(e).$implicit,s=b(3);return A(s.authentication(r.id))}),m(22,"Authentication"),h()(),y(23,"div",37),h()()()}if(i&2){let e=t.$implicit;g(5),O(" ",e==null?null:e.full_name," "),g(2),Ym("href","mailto:",e==null?null:e.email,"",pt),g(),$(e==null?null:e.email),g(2),$(e==null?null:e["UserRole.RoleName"]),g(2),$t(e.is_locked_out?"bg-danger-bright text-danger badge":"badge bg-success-bright text-success"),g(),$(e.is_locked_out?"Block":"Active"),g(7),O(" ",e.is_locked_out?"Unsuspend":"Suspend"," ")}}function sN(i,t){if(i&1&&(d(0,"div",27)(1,"table",28)(2,"thead")(3,"tr")(4,"th"),m(5,"Name"),h(),d(6,"th"),m(7,"Email"),h(),d(8,"th"),m(9,"Role"),h(),d(10,"th"),m(11,"Status"),h(),d(12,"th"),m(13,"Action"),h()()(),d(14,"tbody"),T(15,rN,24,9,"tr",29),h()()()),i&2){let e=b(2);g(15),x("ngForOf",e.makeFilter())}}function oN(i,t){if(i&1){let e=R();d(0,"div",10)(1,"div",11)(2,"h2"),m(3,"Users"),h(),d(4,"ul",12)(5,"li",13)(6,"a",14),y(7,"i",15),h(),d(8,"div",16)(9,"form")(10,"div",17)(11,"label"),m(12,"Role"),h(),d(13,"select",18),Ue("ngModelChange",function(r){E(e);let s=b();return Ge(s.selectedValue,r)||(s.selectedValue=r),A(r)}),d(14,"option",19),m(15,"Select a role"),h(),T(16,nN,2,2,"option",20),h()()()()(),d(17,"li",21)(18,"div",22),k("click",function(){E(e);let r=b();return A(r.createUser())}),y(19,"i",23),h()()()(),d(20,"div",24),T(21,sN,16,1,"div",25),h()()}if(i&2){let e=b();g(13),je("ngModel",e.selectedValue),x("ngModelOptions",Re(5,tN)),g(),x("value",void 0),g(2),x("ngForOf",e.userRoles),g(5),x("ngIf",!e.isLoading)}}var rb=(()=>{class i{constructor(e,n,r,s,o,a,l){this.httpRequest=e,this.authData=n,this.local=s,this.handleModal=o,this.userServive=a,this.suspendUnsuspendUser=l,this.user=[],this.users=[],this.userRoles=[],this.userRoleRights=[],this.userProfile=[],this.selectedValue=void 0,this.isLoading=!0,this.makeFilter=()=>isNaN(this.selectedValue)?this.users:this.users.filter(c=>c.role_id==this.selectedValue)}ngOnInit(){this.userServive.refreshUser$.subscribe(e=>{e&&this.fetchUsers()}),this.suspendUnsuspendUser.suspendUser$.subscribe(e=>{e&&this.fetchUsers()}),this.httpRequest?.makeGetRequest("/users_management/user_roles/all").subscribe(e=>{if(this.userRoles=e.data,this.local.write("userRoles",this.userRoles),this.userRoles&&this.userRoles.length>0){let n=this.userRoles[0].Id;this.local.write("role_id",n),this.httpRequest?.makeGetRequest(`/users_management/user_role/right?roleId=${n}`).subscribe(r=>{this.userRoleRights=r.data},r=>{})}},e=>{})}fetchUsers(){this.httpRequest?.makeGetRequest("/users_management/users/all").subscribe(e=>{this.users=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}suspendUserMethod(e,n){this.httpRequest.makePatchRequest("/users_management/suspend_user_and_unsuspend_user",{identity:e}).subscribe(r=>{this.suspendUnsuspendUser.triggerSuspendUserRefresh(),(0,lm.default)({text:r.message,duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.suspendUser=n==="suspend"},r=>{(0,lm.default)({text:`${r.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast()})}createUser(){this.handleModal.showMother("new_user")}authentication(e){this.httpRequest.makePostRequest("/users_management/create_authenticator_secret",{identity:e}).subscribe(n=>{this.handleModal.showMother("authentication"),this.authData.setAuthData(n)},n=>{})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j),w(ge),w(St),w(j),w(j),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-users"]],decls:10,vars:2,consts:[[1,"layout-wrapper"],[1,"content-wrapper"],[1,"content-body"],[1,"row"],[1,"content"],["class","spinner-container",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"spinner-container"],[1,"text-center"],[1,"spinner"],[1,"col-md-12"],[1,"page-header","d-flex","justify-content-between"],[1,"nav"],[1,"nav-item","dropdown"],["href","#","title","Filter","data-toggle","dropdown",1,"nav-link"],[1,"ti-filter"],[1,"dropdown-menu","dropdown-menu-big","p-4","dropdown-menu-right"],[1,"form-group"],["id","roleSelect",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"nav-item","cursor-pointer"],["title","create user",1,"nav-link",3,"click"],[1,"ti-view-grid"],[1,"card","border-0"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["id","user-list",1,"table","table-borderless","table-hover"],[4,"ngFor","ngForOf"],["href","#"],[1,"avatar","avatar-sm","mr-2"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[3,"href"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1),y(2,"app-header")(3,"app-navigation"),d(4,"div",2)(5,"div",3)(6,"div",4),T(7,iN,3,0,"div",5)(8,oN,22,6,"div",6),h()()(),y(9,"app-sidebar"),h()()),n&2&&(g(7),x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading))},dependencies:[z,Te,H,Mi,El,Di,De,xe,vn,xn,gn,oe,ve,nt,qt],styles:[".example-container[_ngcontent-%COMP%]{width:500px;height:300px;border:1px solid rgba(0,0,0,.5)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var md=ht(at());function aN(i,t){i&1&&(d(0,"thead")(1,"tr")(2,"th"),m(3,"Title"),h(),d(4,"th"),m(5,"Date"),h(),d(6,"th"),m(7,"Image"),h()()())}function lN(i,t){if(i&1&&(d(0,"tr")(1,"td"),m(2),h(),d(3,"td"),m(4),J(5,"date"),h(),d(6,"td"),y(7,"img",34),h()()),i&2){let e=t.$implicit;g(2),$(e.Title),g(2),$(on(5,3,e.CreatedAt,"medium")),g(3),x("src",e.ESignFile,pt)}}var sb=(()=>{class i{ngOnInit(){this.checkForExistingRecord();let e=this.http.makeGetRequest("/auth/user").subscribe(n=>{this.user=n.data},n=>{console.log(n)})}constructor(e,n){this.http=e,this.handleModal=n,this.imageSrc="../../assets/media/image/user/women_avatar1.jpg",this.base64Image=null,this.memoImage=null,this.data=void 0,this.user={},this.isLoading=!1,this.isLoadingImage=!1,this.esignature={title:"",image:""},this.recordExists=!1}onFileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=()=>{this.base64Image=r.result,this.imageSrc=this.base64Image},r.readAsDataURL(n)}}uploadImage(){if(this.isLoadingImage=!0,this.base64Image){let e={image:this.base64Image};this.http.makePatchRequest("/users_management/admin/change_profile_picture",e).subscribe(n=>{this.isLoadingImage=!1},n=>{console.error(n),this.isLoadingImage=!1})}else console.warn("No file selected. Please select an image before uploading.")}returnData(){return this.data||[]}handleImageChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=()=>{this.memoImage=r.result},r.readAsDataURL(n)}}eSignatures(){this.handleModal.showMother("esignature")}checkForExistingRecord(){this.isLoading=!0,this.http.makeGetRequest("/memo/mem_e_signature/all").subscribe(e=>{console.log(e),this.isLoading=!1,this.data=Array.isArray(e.data)?e.data:[],this.data.length>0&&(this.esignature=this.data[0],this.recordExists=!0),this.isLoading=!1},e=>{console.log(e),this.isLoading=!1})}fileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=s=>{this.esignature.image=s.target.result},r.readAsDataURL(n)}}addESignature(){if(console.log(this.esignature),console.log(this.data[0].Id),!this.esignature.title||!this.esignature.image||!this.data[0].Id){(0,md.default)({text:"Please fill in all required fields!",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}this.isLoading=!0,(this.data&&this.data.length>0?this.http.makePatchRequest("/memo/mem_e_signature/update/",Q(M({},this.esignature),{identity:this.data[0].Id})):this.http.makePostRequest("/memo/mem_e_signature/create",this.esignature)).subscribe(n=>{(0,md.default)({text:this.data.length>0?"E-Signature Updated Successfully!":"E-Signature Added Successfully!",duration:3e3,gravity:"top",position:"right",backgroundColor:"green"}).showToast(),this.data[0]=n.data,this.isLoading=!1},n=>{console.error(n),(0,md.default)({text:"An error occurred. Please try again.",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(j))}}static{this.\u0275cmp=D({type:i,selectors:[["app-settings"]],decls:89,vars:8,consts:[[1,"layout-wrapper"],[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","nav-pills","mb-4"],["id","v-pills-home-tab","data-toggle","pill","href","#v-pills-home","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-item","nav-link","active"],["id","v-pills-messages-tab","data-toggle","pill","href","#v-pills-messages","role","tab","aria-controls","v-pills-messages","aria-selected","false",1,"nav-item","nav-link"],["id","v-pills-signature-tab","data-toggle","pill","href","#v-pills-signature","role","tab","aria-controls","v-pills-signature","aria-selected","false",1,"nav-item","nav-link"],["id","v-pills-tabContent",1,"tab-content"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","show","active"],[1,"content-title"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[1,"row","my-4"],[1,"form-group"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-primary","mb-5"],["id","v-pills-messages","role","tabpanel","aria-labelledby","v-pills-messages-tab",1,"tab-pane","fade"],["type","password",1,"form-control"],["id","v-pills-signature","role","tabpanel","aria-labelledby","v-pills-signature-tab",1,"tab-pane","fade"],[1,"esignatures-container"],["enctype","multipart/form-data",3,"ngSubmit"],["for","title"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary","my-5",3,"disabled"],[1,"card","border-0"],[1,"table-responsive"],["id","user-list",1,"table","table-borderless","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","E-Signature","width","100",1,"signature-image",3,"src"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1),y(2,"app-navigation"),d(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),m(7,"Settings"),h()(),d(8,"div",5)(9,"a",6),m(10,"Account"),h(),d(11,"a",7),m(12,"Security"),h(),d(13,"a",8),m(14,"E-Signature"),h()(),d(15,"div",9)(16,"div",10)(17,"div",11)(18,"h4"),m(19,"Account"),h()(),d(20,"div",12)(21,"div",13)(22,"div",14),y(23,"div")(24,"div"),h(),d(25,"form")(26,"div",15)(27,"div",13)(28,"div",16)(29,"label"),m(30,"Name"),h(),y(31,"input",17),h(),d(32,"div",16)(33,"label"),m(34,"Email"),h(),y(35,"input",17),h(),d(36,"div",16)(37,"label"),m(38,"Phone"),h(),y(39,"input",17),h()()(),d(40,"button",18),m(41,"Save Changes"),h()()()()(),d(42,"div",19)(43,"div",11)(44,"h4"),m(45,"Security"),h()(),d(46,"div",12)(47,"div",13)(48,"form")(49,"div",12)(50,"div",13)(51,"div",16)(52,"label"),m(53,"Old Password"),h(),y(54,"input",20),h(),d(55,"div",16)(56,"label"),m(57,"New Password"),h(),y(58,"input",20),h(),d(59,"div",16)(60,"label"),m(61,"New Password Repeat"),h(),y(62,"input",20),h()()(),d(63,"button",18),m(64,"Save Changes"),h()()()()(),d(65,"div",21)(66,"div",22)(67,"div",11)(68,"h4"),m(69,"E-Signatures Management"),h()(),d(70,"form",23),k("ngSubmit",function(){return r.addESignature()}),d(71,"div",12)(72,"div",13)(73,"div",16)(74,"label",24),m(75,"Title:"),h(),d(76,"input",25),Ue("ngModelChange",function(o){return Ge(r.esignature.title,o)||(r.esignature.title=o),o}),h()(),d(77,"label",26),m(78,"Upload Image:"),h(),d(79,"input",27),k("change",function(o){return r.fileChange(o)}),h(),d(80,"button",28),m(81),h()()()(),d(82,"div",29)(83,"div",30)(84,"table",31),T(85,aN,8,0,"thead",32),d(86,"tbody"),T(87,lN,8,6,"tr",33),h()()()()()()()()(),y(88,"app-sidebar"),h()()),n&2&&(g(31),xi("value",r.user==null?null:r.user.last_name),g(4),xi("value",r.user==null?null:r.user.email),g(4),xi("value",r.user==null?null:r.user.phone),g(37),je("ngModel",r.esignature.title),g(4),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Loading.....":r.data&&r.data.length>0?"Update E-Signature":"Add E-Signature"," "),g(4),x("ngIf",r.returnData()&&r.returnData().length>0),g(2),x("ngForOf",r.returnData()))},dependencies:[Mi,Di,De,xe,se,oe,ve,kt,nt,qt,z,Te,H,$r],encapsulation:2})}}return i})();var fd=ht(at());var cN=i=>({"is-invalid":i});function dN(i,t){i&1&&(d(0,"small"),m(1,"OTP is required."),h())}function hN(i,t){i&1&&(d(0,"small"),m(1,"OTP must be at least 6 characters long."),h())}function uN(i,t){if(i&1&&(d(0,"div",9),T(1,dN,2,0,"small",10)(2,hN,2,0,"small",10),h()),i&2){let e=b();g(),x("ngIf",e.authForm.get("otp").errors.required),g(),x("ngIf",e.authForm.get("otp").errors.minlength)}}var ob=(()=>{class i{constructor(e,n,r,s){this.fb=e,this.router=n,this.local=r,this.httpRequest=s,this.isLoading=!1,this.isSuccess=!0,this.message="",this.authForm=this.fb.group({otp:["",he.required]})}onSubmit(){if(!this.authForm.valid)(0,fd.default)({text:"Please fill all the fields",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();else{this.isLoading=!0;let e=this.authForm.value;this.httpRequest.makePostRequest("/auth/validate_two_fact_auth",e).subscribe({next:n=>{this.isLoading=!1,(0,fd.default)({text:"Authentication successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.router.navigate(["/portal/dashboard"])},error:n=>{this.isLoading=!1,(0,fd.default)({text:`Authentication failed! ${n.error.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()}})}}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(ge),w(St),w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-twofactorauth"]],decls:13,vars:7,consts:[[1,"form-membership",2,"background","url(../../assets/media/image/pexels-pixabay-164425.jpg)"],[1,"form-wrapper","animate__animated","animate__fadeIn"],["id","logo"],["src","../../assets/media/image/logo-dark.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","otp","formControlName","otp","placeholder","number","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"img",3),h(),d(4,"h5"),m(5,"Two Factor Authentication"),h(),d(6,"form",4),k("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),y(8,"input",6),T(9,uN,3,2,"div",7),h(),d(10,"button",8),m(11),h(),y(12,"hr"),h()()()),n&2&&(g(6),x("formGroup",r.authForm),g(2),x("ngClass",it(5,cN,r.authForm.get("otp").invalid&&r.authForm.get("otp").touched)),g(),x("ngIf",r.authForm.get("otp").invalid&&r.authForm.get("otp").touched),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[z,Ct,H,ue,xe,se,oe,ve,kt,Ie,Oe],styles:[".alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border-radius:5px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}"]})}}return i})();var ab=(i,t)=>{let e=N(ge);return N(St).read("data")||e.navigate(["/login"]),!0},lb=(i,t)=>{let e=N(ge);return N(St).read("isAdmin")||e.navigate(["/portal/dashboard"]),!0};function pN(i,t){i&1&&(d(0,"div",2),m(1,` Loading...
`),h())}function mN(i,t){if(i&1){let e=R();d(0,"div")(1,"label",5),m(2,"Enter your phone number:"),h(),d(3,"input",6),Ue("ngModelChange",function(r){E(e);let s=b(2);return Ge(s.phoneNumber,r)||(s.phoneNumber=r),A(r)}),h(),d(4,"button",7),k("click",function(){E(e);let r=b(2);return A(r.sendSmsOtp())}),m(5,"Send OTP"),h()()}if(i&2){let e=b(2);g(3),je("ngModel",e.phoneNumber)}}function fN(i,t){if(i&1){let e=R();d(0,"div")(1,"label",8),m(2,"Enter your email:"),h(),d(3,"input",9),Ue("ngModelChange",function(r){E(e);let s=b(2);return Ge(s.email,r)||(s.email=r),A(r)}),h(),d(4,"button",10),k("click",function(){E(e);let r=b(2);return A(r.sendEmailOtp())}),m(5,"Send OTP"),h()()}if(i&2){let e=b(2);g(3),je("ngModel",e.email)}}function gN(i,t){if(i&1){let e=R();d(0,"div")(1,"label",11),m(2,"Enter OTP:"),h(),d(3,"input",12),Ue("ngModelChange",function(r){E(e);let s=b(2);return Ge(s.otp,r)||(s.otp=r),A(r)}),h(),d(4,"button",10),k("click",function(){E(e);let r=b(2);return A(r.verifyOtp())}),m(5,"Verify OTP"),h()()}if(i&2){let e=b(2);g(3),je("ngModel",e.otp)}}function vN(i,t){if(i&1&&(d(0,"div"),m(1),h()),i&2){let e=b(2);g(),$(e.message)}}function xN(i,t){if(i&1&&(d(0,"div")(1,"h2"),m(2,"Your current location is:"),h(),d(3,"p"),m(4),h(),d(5,"p"),m(6),h()()),i&2){let e=b(2);g(4),O("Latitude: ",e.latitude,""),g(2),O("Longitude: ",e.longitude,"")}}function _N(i,t){if(i&1&&(d(0,"div")(1,"p"),m(2),h()()),i&2){let e=b(2);g(2),O("Error: ",e.errorMessage,"")}}function yN(i,t){if(i&1&&(d(0,"div",3),T(1,mN,6,1,"div",4)(2,fN,6,1,"div",4)(3,gN,6,1,"div",4)(4,vN,2,1,"div",4)(5,xN,7,2,"div",4)(6,_N,3,1,"div",4),h()),i&2){let e=b();g(),x("ngIf",e.showPhoneOtpInput),g(),x("ngIf",e.showEmailOtpInput),g(),x("ngIf",e.showOtpVerification),g(),x("ngIf",e.message),g(),x("ngIf",e.latitude&&e.longitude),g(),x("ngIf",e.errorMessage)}}var cb=(()=>{class i{constructor(e){this.httpRequest=e,this.isLoading=!0,this.showPhoneOtpInput=!1,this.showEmailOtpInput=!1,this.showOtpVerification=!1,this.phoneNumber="",this.email="",this.otp="",this.message=""}ngOnInit(){this.performSecurityChecks(),this.getUserLocation()}performSecurityChecks(){this.checkIpSecurity().subscribe(e=>{if(!e){this.message="Access denied: IP address not allowed.",this.isLoading=!1;return}this.checkLocationSecurity().then(n=>{if(!n){this.message="Access denied: Location not allowed.",this.isLoading=!1;return}this.checkOtpSecurity()})})}checkIpSecurity(){return this.httpRequest.makeGetRequest("/api/check-ip-security")}checkLocationSecurity(){return new Promise(e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{let r={latitude:n.coords.latitude,longitude:n.coords.longitude};this.httpRequest.makePostRequest("/api/check-location-security",r).subscribe(e)},()=>e(!1)):e(!1)})}checkOtpSecurity(){this.httpRequest.makeGetRequest("/api/check-otp-security").subscribe(e=>{console.log(e)})}sendSmsOtp(){this.httpRequest.makePostRequest("/api/send-sms-otp",{phone:this.phoneNumber}).subscribe(e=>{this.showPhoneOtpInput=!1,this.showOtpVerification=!0})}sendEmailOtp(){this.httpRequest.makePostRequest("/api/send-email-otp",{email:this.email}).subscribe(e=>{this.showEmailOtpInput=!1,this.showOtpVerification=!0})}verifyOtp(){this.httpRequest.makePostRequest("/api/verify-otp",{otp:this.otp}).subscribe(e=>{e?this.message="Access granted: OTP verified successfully.":this.message="Access denied: Invalid OTP.",this.isLoading=!1})}getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.latitude=e.coords.latitude,this.longitude=e.coords.longitude},e=>{switch(e.code){case e.PERMISSION_DENIED:this.errorMessage="User denied the request for Geolocation.";break;case e.POSITION_UNAVAILABLE:this.errorMessage="Location information is unavailable.";break;case e.TIMEOUT:this.errorMessage="The request to get user location timed out.";break}}):this.errorMessage="Geolocation is not supported by this browser."}static{this.\u0275fac=function(n){return new(n||i)(w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-security-check"]],decls:2,vars:2,consts:[["class","loading-spinner",4,"ngIf"],["class","col-6 mx-auto",4,"ngIf"],[1,"loading-spinner"],[1,"col-6","mx-auto"],[4,"ngIf"],["for","phone"],["id","phone","type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-2",3,"click"],["for","email"],["id","email","type","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],["for","otp"],["id","otp","type","text",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&T(0,pN,2,0,"div",0)(1,yN,7,6,"div",1),n&2&&(x("ngIf",r.isLoading),g(),x("ngIf",!r.isLoading))},dependencies:[De,se,oe,nt,ue,z,H],encapsulation:2})}}return i})();var gd=ht(at());function bN(i,t){if(i&1&&(_e(0),d(1,"div",6)(2,"div",7)(3,"h1",8),m(4),h(),y(5,"hr")(6,"div",9),d(7,"div",10)(8,"div",11)(9,"p",12),m(10,"Signature"),h(),y(11,"img",13),h()()()(),ye()),i&2){let e=b();g(4),$(e.data==null?null:e.data.MemTitle),g(2),x("innerHTML",e.data==null?null:e.data.MemContents,ti),g(5),xi("src",e.data==null?null:e.data.signature.ESignFile,pt)}}function CN(i,t){if(i&1&&(d(0,"div",14),m(1),h()),i&2){let e=b();g(),O(" ",e.message," ")}}function wN(i,t){if(i&1&&(d(0,"div",15),m(1),h()),i&2){let e=b();g(),O(" ",e.message," ")}}function SN(i,t){i&1&&(d(0,"div",16)(1,"div",17)(2,"span",18),m(3,"Loading..."),h()()())}function TN(i,t){if(i&1){let e=R();d(0,"div",19)(1,"h3",20),m(2,"This is a restricted document"),h(),d(3,"p",21),m(4,"Please enter your email or phone number to receive an OTP:"),h(),d(5,"input",22),Ue("ngModelChange",function(r){E(e);let s=b();return Ge(s.identity,r)||(s.identity=r),A(r)}),h(),d(6,"button",23),k("click",function(){E(e);let r=b();return A(r.sendIdentityOtp())}),m(7),h()()}if(i&2){let e=b();g(5),je("ngModel",e.identity),g(),x("disabled",e.isLoader),g(),O(" ",e.isLoader?"Loading ...":"Send OTP"," ")}}var db=(()=>{class i{constructor(e,n){this.http=e,this.route=n,this.itemId=null,this.status="isLoading",this.message="",this.data=void 0,this.isLoader=!1,this.identity="",this.identityOtp="",this.identityOtpSent=!1,this.isVerified=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.itemId=e.get("id"),this.getData()})}getData(){navigator.geolocation.getCurrentPosition(e=>{let n=e.coords.latitude,r=e.coords.longitude;if(!n||!r){this.status="error",this.message="Unable to retrieve your location coordinates.";return}this.status="isLoading",this.http.makeGetRequest(`/memo/get_mem_by_memuniqueid/?id=${this.itemId}&lat=${n}&long=${r}`).subscribe(s=>{s.data?(this.status="data",this.data=s.data):s.requireAccess?this.status="requireAccess":(this.status="message",this.message=s.message)},s=>{this.status="error",this.message=s.error.message,console.error(s)})},e=>{this.status="error",this.message="This page requires your location to fetch the data",console.error("Error retrieving location:",e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}sendIdentityOtp(){if(!this.identity){console.log("empty"),(0,gd.default)({text:"input cannot be empty",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}this.isLoader=!0;let e={identity:this.identity,memId:this.itemId};console.log(e),this.http.makePostRequest("/memo/verify_viewer_identity/",e).subscribe(n=>{console.log(n),this.status="Next_token",(0,gd.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.isLoader=!1},n=>{this.isLoader=!1,this.message=n.error.message,(0,gd.default)({text:`${n.error.message};`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(w(ne),w(ri))}}static{this.\u0275cmp=D({type:i,selectors:[["app-external-viewer"]],decls:6,vars:5,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","py-5","bg-light"],[4,"ngIf"],["class","alert alert-danger text-center mt-4",4,"ngIf"],["class","alert alert-info text-center mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["id","verification","class","card shadow-sm p-4 mt-4 bg-white rounded","style","max-width: 400px; width: 100%;",4,"ngIf"],[1,"card","shadow-sm","p-4","mb-5","bg-white","rounded",2,"max-width","700px","width","100%"],[1,"card-body","text-start"],[1,"card-title","text-dark","fs-4","mb-3"],[1,"card-text","text-secondary","fs-6",3,"innerHTML"],[1,"d-flex","align-items-center","justify-content-end","mt-4"],[1,"text-center"],[1,"text-muted","mb-1","small"],["alt","Signature",1,"img-fluid",2,"width","80px",3,"src"],[1,"alert","alert-danger","text-center","mt-4"],[1,"alert","alert-info","text-center","mt-4"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["id","verification",1,"card","shadow-sm","p-4","mt-4","bg-white","rounded",2,"max-width","400px","width","100%"],[1,"text-center","mb-3"],[1,"text-muted","text-center","mb-4"],["type","text","placeholder","Enter email or phone number",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click","disabled"]],template:function(n,r){n&1&&(d(0,"div",0),T(1,bN,12,3,"ng-container",1)(2,CN,2,1,"div",2)(3,wN,2,1,"div",3)(4,SN,4,0,"div",4)(5,TN,8,3,"div",5),h()),n&2&&(g(),x("ngIf",r.status==="data"),g(),x("ngIf",r.status==="error"),g(),x("ngIf",r.status==="message"),g(),x("ngIf",r.status==="isLoading"),g(),x("ngIf",r.status==="requireAccess"))},dependencies:[z,H,ue,se,oe,De,nt],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#verification[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px;padding:20px}"]})}}return i})();var kN=()=>["/"],hb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-pagenotfound"]],decls:7,vars:2,consts:[[1,"page-not-found","cursor-pointer"],[1,"cursor-pointer",3,"routerLink"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"h1"),m(2,"404"),h(),d(3,"p"),m(4,"The page you are looking for does not exist."),h(),d(5,"a",1),m(6,"Go back to Home"),h()()),n&2&&(g(5),x("routerLink",Re(1,kN)))},dependencies:[un],styles:[".page-not-found[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.page-not-found[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:72px;margin-bottom:20px}.page-not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;margin-bottom:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.page-not-found[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#007bff;text-decoration:none}.page-not-found[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return i})();var cm=ht(at());var EN=i=>({"is-invalid":i});function AN(i,t){i&1&&(d(0,"small"),m(1,"Identity is required."),h())}function MN(i,t){i&1&&(d(0,"small"),m(1,"Please enter a valid email."),h())}function DN(i,t){if(i&1&&(d(0,"div",17),T(1,AN,2,0,"small",18)(2,MN,2,0,"small",18),h()),i&2){let e=b();g(),x("ngIf",e.forgotPasswordForm.get("identity").errors.required),g(),x("ngIf",e.forgotPasswordForm.get("identity").errors.email)}}var ub=(()=>{class i{constructor(e,n,r,s){this.fb=e,this.router=n,this.local=r,this.httpRequest=s,this.isLoading=!1,this.forgotPasswordForm=this.fb.group({identity:["",Mc.required]})}onSubmit(){if(this.forgotPasswordForm.invalid)return;this.isLoading=!0;let e=this.forgotPasswordForm.value;this.httpRequest.makePostRequest("/auth/forgot_password",e).subscribe(n=>{(0,cm.default)({text:"success",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.local.write("passwordToken",n.token),this.router.navigate(["/passwordAuth"]),this.forgotPasswordForm.reset(),this.isLoading=!1},n=>{this.isLoading=!1,(0,cm.default)({text:`${n.error.message}`,backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(ge),w(St),w(ne))}}static{this.\u0275cmp=D({type:i,selectors:[["app-forgotpassword"]],decls:51,vars:7,consts:[[1,"login-page"],[1,"left-panel"],[1,"features-grid"],[1,"row"],[1,"col-3","feature-item"],[1,"fa","fa-lock"],["href","tel:+23414721521"],["href","tel:+23412790421"],["href","mailto:cpd@ncaa.gov.ng"],["href","https://www.ncaa.gov.ng"],[1,"right-panel"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","identity","placeholder","Identity (Username or Email)","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),m(4,"IMSET-AI 4.2"),h(),d(5,"h1"),m(6,"INTEGRATED MEMO SECURITY TERMINAL"),h(),d(7,"p"),m(8,"A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information"),h(),d(9,"div",2)(10,"div",3)(11,"div",4),y(12,"i",5),d(13,"p"),m(14,"Security"),h()(),d(15,"div",4),y(16,"i",5),d(17,"p"),m(18,"Confidentiality"),h()(),d(19,"div",4),y(20,"i",5),d(21,"p"),m(22,"integrity"),h()(),d(23,"div",4),y(24,"i",5),d(25,"p"),m(26,"availability"),h()()()()(),d(27,"address"),m(28," Aviation House P.M.B. 21029 Ikeja Murtala Mohammed Airport Ikeja Lagos"),y(29,"br"),d(30,"a",6),m(31,"+234-1-472-1521"),h(),m(32,", "),d(33,"a",7),m(34,"+234-1-279-0421"),h(),y(35,"br"),d(36,"a",8),m(37,"cpd.gov.ng"),h(),y(38,"br"),d(39,"a",9),m(40,"www.ncaa.gov.ng"),h()()(),d(41,"div",10)(42,"div",11)(43,"h2"),m(44,"Forgot Password"),h(),d(45,"form",12),k("ngSubmit",function(){return r.onSubmit()}),d(46,"div",13),y(47,"input",14),T(48,DN,3,2,"div",15),h(),d(49,"button",16),m(50),h()()()()()),n&2&&(g(45),x("formGroup",r.forgotPasswordForm),g(2),x("ngClass",it(5,EN,r.forgotPasswordForm.get("identity").invalid&&r.forgotPasswordForm.get("identity").touched)),g(),x("ngIf",r.forgotPasswordForm.get("identity").invalid&&r.forgotPasswordForm.get("identity").touched),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Logging in...":"Login"," "))},dependencies:[z,Ct,H,ue,xe,se,oe,ve,kt,Ie,Oe],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;overflow:hidden}.login-page[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-panel[_ngcontent-%COMP%]{width:60%;background-color:#111c44;color:#fff;padding:2.5rem 4rem;display:flex;flex-direction:column;justify-content:space-between}.left-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1rem}.left-panel[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:3rem}.features-grid[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:2rem;margin:2rem 0;margin-top:100px}.feature-item[_ngcontent-%COMP%]{text-align:center}.feature-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:1rem;filter:invert(1)}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:#fffc}address[_ngcontent-%COMP%]{font-style:normal;font-size:.9rem;line-height:1.8}address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.right-panel[_ngcontent-%COMP%]{width:40%;background-color:#f8f9fa;padding:2rem;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:2rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.forgot-password[_ngcontent-%COMP%]{color:#3182ce;text-decoration:none;font-size:.9rem;display:block;margin-bottom:1.5rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#2563eb;border:none;border-radius:8px;color:#fff;font-weight:500;text-align:center;display:flex;justify-content:center}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1d4ea8}"]})}}return i})();var vd=ht(at());var LN=i=>({"is-invalid":i});function IN(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),h())}function ON(i,t){i&1&&(d(0,"small"),m(1,"Password must be at least 6 characters long."),h())}function FN(i,t){if(i&1&&(d(0,"div",9),T(1,IN,2,0,"small",10)(2,ON,2,0,"small",10),h()),i&2){let e=b();g(),x("ngIf",e.authForm.get("otp").errors.required),g(),x("ngIf",e.authForm.get("otp").errors.minlength)}}var pb=(()=>{class i{constructor(e,n,r){this.fb=e,this.http=n,this.router=r,this.isLoading=!1}ngOnInit(){this.token=JSON.parse(localStorage.getItem("passwordToken")),this.authForm=new Tt({otp:new W("",[he.required])})}onSubmit(){if(!this.authForm.valid){(0,vd.default)({text:"OTP cannot be empty.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast();return}this.isLoading=!0;let e=this.authForm.value,n=new Gt({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"});this.http.post("https://lendnode.creditclan.com/memo/api/auth/verify_two_fact_auth",e,{headers:n}).subscribe(r=>{this.isLoading=!1,(0,vd.default)({text:"OTP verified successfully!",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.router.navigate(["/resetPassword"])},r=>{this.isLoading=!1,(0,vd.default)({text:"Failed to verify OTP. Please try again.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(Un),w(ge))}}static{this.\u0275cmp=D({type:i,selectors:[["app-passwordauth"]],decls:13,vars:7,consts:[[1,"form-membership",2,"background","url(../../assets/media/image/image1.jpg)"],[1,"form-wrapper"],["id","logo"],["src","../../assets/media/image/logo-dark.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","otp","formControlName","otp","placeholder","number","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"img",3),h(),d(4,"h5"),m(5,"Enter your Otp"),h(),d(6,"form",4),k("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),y(8,"input",6),T(9,FN,3,2,"div",7),h(),d(10,"button",8),m(11),h(),y(12,"hr"),h()()()),n&2&&(g(6),x("formGroup",r.authForm),g(2),x("ngClass",it(5,LN,r.authForm.get("otp").invalid&&r.authForm.get("otp").touched)),g(),x("ngIf",r.authForm.get("otp").invalid&&r.authForm.get("otp").touched),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[z,Ct,H,ue,xe,se,oe,ve,kt,Ie,Oe],encapsulation:2})}}return i})();var xd=ht(at());var mb=i=>({"is-invalid":i});function NN(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),h())}function RN(i,t){i&1&&(d(0,"small"),m(1,"password is required."),h())}function PN(i,t){if(i&1&&(d(0,"div",10),T(1,NN,2,0,"small",11)(2,RN,2,0,"small",11),h()),i&2){let e=b();g(),x("ngIf",e.resetPassword.get("password").errors.required),g(),x("ngIf",e.resetPassword.get("identity").errors.required)}}function VN(i,t){i&1&&(d(0,"small"),m(1,"Confirm Password is required."),h())}function BN(i,t){i&1&&(d(0,"small"),m(1,"Passwords must match."),h())}function zN(i,t){if(i&1&&(d(0,"div",10),T(1,VN,2,0,"small",11)(2,BN,2,0,"small",11),h()),i&2){let e=b();g(),x("ngIf",e.resetPassword.get("confirmPassword").errors.required),g(),x("ngIf",e.resetPassword.errors.passwordMismatch)}}var fb=(()=>{class i{constructor(e,n,r){this.fb=e,this.http=n,this.router=r,this.isLoading=!1}ngOnInit(){this.token=JSON.parse(localStorage.getItem("passwordToken")),this.resetPassword=this.fb.group({password:["",[he.required]],confirmPassword:["",[he.required]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(e){return e.get("password").value===e.get("confirmPassword").value?null:{passwordMismatch:!0}}onSubmit(){if(this.resetPassword.errors?.passwordMismatch){(0,xd.default)({text:"Passwords do not match.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast();return}if(this.resetPassword.valid){this.isLoading=!0;let e=this.resetPassword.value,n=new Gt({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"});this.http.patch("https://lendnode.creditclan.com/memo/api/auth/reset_password",{password:e.password},{headers:n}).subscribe(r=>{console.log(r),this.isLoading=!1,(0,xd.default)({text:"Password reset request submitted successfully!",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.router.navigate(["/login"])},r=>{console.error(r),this.isLoading=!1,(0,xd.default)({text:"An error occurred. Please try again.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}}static{this.\u0275fac=function(n){return new(n||i)(w(mt),w(Un),w(ge))}}static{this.\u0275cmp=D({type:i,selectors:[["app-passwordreset"]],decls:15,vars:11,consts:[[1,"form-membership",2,"background","url(../../assets/media/image/image1.jpg)"],[1,"form-wrapper"],["id","logo"],["src","../../assets/media/image/logo-dark.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","password","formControlName","password","placeholder","New Password","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"img",3),h(),d(4,"h5"),m(5,"Reset Password"),h(),d(6,"form",4),k("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),y(8,"input",6),T(9,PN,3,2,"div",7),h(),d(10,"div",5),y(11,"input",8),T(12,zN,3,2,"div",7),h(),d(13,"button",9),m(14),h()()()()),n&2&&(g(6),x("formGroup",r.resetPassword),g(2),x("ngClass",it(7,mb,r.resetPassword.get("password").invalid&&r.resetPassword.get("password").touched)),g(),x("ngIf",r.resetPassword.get("password").invalid&&r.resetPassword.get("password").touched),g(2),x("ngClass",it(9,mb,r.resetPassword.get("confirmPassword").invalid&&r.resetPassword.get("confirmPassword").touched)),g(),x("ngIf",r.resetPassword.get("confirmPassword").invalid&&r.resetPassword.get("confirmPassword").touched),g(),x("disabled",r.isLoading),g(),O(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[z,Ct,H,ue,xe,se,oe,ve,kt,Ie,Oe],encapsulation:2})}}return i})();var gb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,r){n&1&&(d(0,"div"),y(1,"router-outlet"),h())},dependencies:[kl,Yn],encapsulation:2})}}return i})();var vb=(()=>{class i{constructor(e){this.router=e}navigateToLogin(){this.router.navigate(["/login"],{queryParams:{mac:"XX:XX:XX:XX:XX:XX"}})}static{this.\u0275fac=function(n){return new(n||i)(w(ge))}}static{this.\u0275cmp=D({type:i,selectors:[["app-navbar"]],decls:8,vars:0,consts:[[1,"navbar","navbar-expand-lg","px-4","justify-content-between"],["href","#",1,"navbar-brand","d-flex","align-items-center","gap-2"],["src","assets/media/image/logo.png","width","30","height","30","alt","coindox"],[1,"brand-text"],[1,"button",3,"click"]],template:function(n,r){n&1&&(d(0,"nav",0)(1,"a",1),y(2,"img",2),d(3,"span",3),m(4,"IMSET-AI 4.2"),h()(),d(5,"button",4),k("click",function(){return r.navigateToLogin()}),d(6,"span"),m(7,"LOGIN"),h()()())},styles:['.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:#0b0e13;z-index:1000;display:flex;align-items:center;padding:1rem 2rem;box-shadow:0 2px 5px #0000001a}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;font-size:1.5rem;color:#fff;text-transform:uppercase}.navbar-brand[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#fff}.nav-link[_ngcontent-%COMP%]{color:#fff!important;font-size:1rem;font-weight:700;padding:.5rem 1.5rem!important;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#00bcd4!important}.btn-dark[_ngcontent-%COMP%]{background-color:#24292e;border:none;color:#fff;padding:.5rem 1rem;font-size:1rem;border-radius:5px}.btn-dark[_ngcontent-%COMP%]:hover{background-color:#3a3f45}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;padding:.5rem 1rem;font-size:1rem;border-radius:5px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.navbar-nav[_ngcontent-%COMP%]{display:flex;gap:2rem}.nav-item[_ngcontent-%COMP%]{list-style:none}.d-flex[_ngcontent-%COMP%]{gap:1rem;display:flex;align-items:center}.button[_ngcontent-%COMP%]{background:transparent;position:relative;padding:0 15px;display:flex;align-items:center;font-size:17px;font-weight:600;text-decoration:none;cursor:pointer;border:1px solid white;border-radius:25px;outline:none;overflow:hidden;color:#fff;transition:color .3s .1s ease-out;text-align:center}.button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px}.button[_ngcontent-%COMP%]:before{position:absolute;margin:auto;content:"";border-radius:50%;display:block;width:20em;height:20em;inset:0 0 0 -5em;text-align:center;transition:box-shadow .5s ease-out;z-index:-1}.button[_ngcontent-%COMP%]:hover{color:#000;border:1px solid white}.button[_ngcontent-%COMP%]:hover:before{box-shadow:inset 0 0 0 10em #fff}']})}}return i})();var xb=(()=>{class i{constructor(e){this.router=e}static{this.\u0275fac=function(n){return new(n||i)(w(ge))}}static{this.\u0275cmp=D({type:i,selectors:[["app-navigating"]],decls:24,vars:0,consts:[[1,"hero-bg"],[1,"row","align-items-center","absolute","p-4"],["id","landing-page",1,"col-6"],[1,"navigating"],[1,"text-white-50","mb-4","my-5"],[1,"col-6"],["id","safesecure",1,"d-flex","justify-content-center","align-items-center"],[1,"text-white","mt-2"],["src","assets/media/image/safe.png","width","40","height","40","alt","logo",1,"logo"],["id","safesecure2",1,"d-flex","justify-content-center","align-items-center"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m(4," INTEGRATED MEMO "),h(),d(5,"h1",3),m(6,"SECURITY TERMINAL (IMSET AI)"),h(),d(7,"p",4),m(8," A comprehensive system designed to protect organization\u2019s sensitive\xA0information "),h()(),d(9,"div",5)(10,"div",6)(11,"p",7),m(12,"Secure & safe"),h(),y(13,"img",8),d(14,"p",7),m(15,"Trustworthy"),h(),y(16,"img",8),h(),d(17,"div",9)(18,"p",7),m(19,"Tested"),h(),y(20,"img",8)(21,"img",8),d(22,"p",7),m(23,"Optimized"),h()()()()())},styles:['.hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:100px 20px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#ddd}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;max-width:600px;margin:0 auto;color:#ddd}.features[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:40px;gap:50px}.feature[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.1rem}.icon[_ngcontent-%COMP%], .feature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00bcd4;font-size:1.5rem}#landing-page[_ngcontent-%COMP%]{margin-top:130px}.navigating[_ngcontent-%COMP%]{color:#fff;font-size:50px;font-weight:light}#safesecure[_ngcontent-%COMP%]{margin-top:100px;gap:10px;font-size:20px;margin-left:100px}#safesecure2[_ngcontent-%COMP%]{gap:50px;margin-top:200px;font-size:20px}#white-paper[_ngcontent-%COMP%]{gap:20px}.custom-button[_ngcontent-%COMP%]{padding:1.1em 2em;background:none;border:2px solid #fff;font-size:15px;color:#fff;cursor:pointer;position:relative;overflow:hidden;transition:all .3s;border-radius:12px;font-weight:700}.get-started[_ngcontent-%COMP%]{background-color:#04060e;color:#fff!important}.white-paper[_ngcontent-%COMP%]{background-color:#333;color:#fff!important}.custom-button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:120%;background-color:green;top:50%;transform:skew(30deg) translate(-150%,-50%);transition:all .5s}.custom-button[_ngcontent-%COMP%]:hover{color:#fff;box-shadow:0 2px 0 2px #0d3b66;box-shadow:0 2px 0 2px green}.custom-button[_ngcontent-%COMP%]:hover:before{transform:skew(30deg) translate(150%,-50%);transition-delay:.1s}.custom-button[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (max-width: 991px){.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.navigating[_ngcontent-%COMP%]{font-size:30px}#safesecure[_ngcontent-%COMP%], #safesecure2[_ngcontent-%COMP%]{margin-left:0;margin-top:50px}}@media (max-width: 767px){.hero[_ngcontent-%COMP%]{padding:50px 20px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.navigating[_ngcontent-%COMP%]{font-size:40px}.features[_ngcontent-%COMP%]{flex-direction:column;gap:30px}#landing-page[_ngcontent-%COMP%]{margin-top:50px}#safesecure[_ngcontent-%COMP%], #safesecure2[_ngcontent-%COMP%]{margin-top:30px}}']})}}return i})();var _b=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-landingpageusers"]],decls:72,vars:0,consts:[[1,"users-section"],[1,"section-title","text-center"],[1,"section-subtitle","text-center"],[1,"row","justify-content-between","align-items-center"],[1,"col-md-4","user-card"],[1,"card-corner"],["src","assets/media/image/personal.jpeg","width","100","height","100","alt","logo"],[1,"feature-list"],[1,"feature-item"],["src","assets/media/image/check.svg","width","20","height","20","alt","logo"],[1,"feature-content"],["src","assets/media/image/check.svg","width","30","height","30","alt","logo"],[1,"col-md-3","text-center"],["id","cdesign","src","assets/media/image/cdesign.png","width","400","height","400","alt","logo"],["src","assets/media/image/commercial.png","width","100","height","100","alt","logo",1,"logo"]],template:function(n,r){n&1&&(d(0,"section",0)(1,"div")(2,"h2",1),m(3,"Features"),h(),d(4,"p",2),m(5,"Tailored for Integrity & Confidentiality"),h(),d(6,"div",3)(7,"div",4),y(8,"div",5)(9,"img",6),d(10,"div",7)(11,"div",8),y(12,"img",9),d(13,"div",10)(14,"h4"),m(15,"Confidentiality"),h(),d(16,"p"),m(17,"Keeping information secret or private to protect it from unauthorized acces"),h()()(),d(18,"div",8),y(19,"img",9),d(20,"div",10)(21,"h4"),m(22,"Security"),h(),d(23,"p"),m(24,"Information protection against unauthorized access."),h()()(),d(25,"div",8),y(26,"img",9),d(27,"div",10)(28,"h4"),m(29,"Integrity"),h(),d(30,"p"),m(31,"Accuracy and Completeness of Information."),h()()(),d(32,"div",8),y(33,"img",11),d(34,"div",10)(35,"h4"),m(36,"Intelligent"),h(),d(37,"p"),m(38,"Essential proactive communication"),h()()()()(),d(39,"div",12),y(40,"img",13),h(),d(41,"div",4),y(42,"img",14),d(43,"div",7)(44,"div",8),y(45,"img",9),d(46,"div",10)(47,"h4"),m(48,"Geofencing"),h(),d(49,"p"),m(50,"Boundary access to the viewers."),h()()(),d(51,"div",8),y(52,"img",9),d(53,"div",10)(54,"h4"),m(55,"IP Fencing"),h(),d(56,"p"),m(57,"Boundary access to the viewers."),h()()(),d(58,"div",8),y(59,"img",9),d(60,"div",10)(61,"h4"),m(62,"Multifactor Authentication"),h(),d(63,"p"),m(64,"Multi level authentication framework"),h()()(),d(65,"div",8),y(66,"img",11),d(67,"div",10)(68,"h4"),m(69,"Mac Fencing"),h(),d(70,"p"),m(71,"System level access restriction"),h()()()()()()()())},styles:[".users-section[_ngcontent-%COMP%]{padding:80px 100px;color:#fff}.section-title[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-subtitle[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:3rem}.user-card[_ngcontent-%COMP%]{background-color:#111;border-radius:15px;padding:2rem;position:relative}.card-corner[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-20px;width:40px;height:40px;background:#fff;transform:rotate(45deg)}.hexagon-icon[_ngcontent-%COMP%]{background-color:#1a1a1a;width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:10px;margin-bottom:1.5rem}.hexagon-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:1.5rem}.user-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.feature-item[_ngcontent-%COMP%]{display:flex;gap:1rem}.bullet[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid #333;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-top:5px}.bullet[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#007bff;border-radius:50%}.feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem}.feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0}#cdesign[_ngcontent-%COMP%]{margin-left:-60px;z-index:-1}.circuit-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}}return i})();var yb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-addressblockchain"]],decls:41,vars:0,consts:[[1,"pain-points-section"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6","position-relative"],[1,"gradient-circle"],["src","assets/media/image/circle.png","width","500","height","500","alt","logo"],[1,"lock-icon"],["src","assets/media/image/lockicon.png","width","150","height","150","alt","logo"],[1,"col-md-6"],[1,"section-title","mb-4"],[1,"section-description","mb-5"],[1,"pain-points-list"],[1,"row"],[1,"pain-point-item"],[1,"star-icon"]],template:function(n,r){n&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),y(5,"img",5),h(),d(6,"div",6),y(7,"img",7),h()(),d(8,"div",8)(9,"h1",9),m(10,"INTEGRATED MEMO SECURITY TERMINAL (IMSET AI)"),h(),d(11,"p",10),m(12," A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information "),h(),d(13,"div",11)(14,"div",12)(15,"div",8)(16,"div",13)(17,"span",14),m(18,"\u2605"),h(),m(19," Privacy and Security "),h(),d(20,"div",13)(21,"span",14),m(22,"\u2605"),h(),m(23," Confidentiality "),h(),d(24,"div",13)(25,"span",14),m(26,"\u2605"),h(),m(27," Integrity "),h()(),d(28,"div",8)(29,"div",13)(30,"span",14),m(31,"\u2605"),h(),m(32," Intelligent "),h(),d(33,"div",13)(34,"span",14),m(35,"\u2605"),h(),m(36," Multifactor Authentication "),h(),d(37,"div",13)(38,"span",14),m(39,"\u2605"),h(),m(40," Geofencing "),h()()()()()()()())},styles:[".pain-points-section[_ngcontent-%COMP%]{background-color:#0a0a0a;padding:100px 0;color:#fff;min-height:100vh;display:flex;align-items:center}.section-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;line-height:1.2}.section-description[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem;line-height:1.6}.gradient-circle[_ngcontent-%COMP%]{position:relative}.lock-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:47%;transform:translate(-50%,-50%);z-index:1;color:#fff;font-size:3rem}.pain-point-item[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:10px}.star-icon[_ngcontent-%COMP%]{color:#00f2c3;font-size:1rem}@media (max-width: 768px){.gradient-circle[_ngcontent-%COMP%]{width:300px;height:300px;margin-bottom:50px}.section-title[_ngcontent-%COMP%]{font-size:2.5rem}}"]})}}return i})();var bb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-folder"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(n,r){n&1&&(d(0,"div",0),y(1,"app-navbar")(2,"app-navigating")(3,"app-landingpageusers")(4,"app-addressblockchain"),h())},dependencies:[vb,xb,_b,yb],styles:[".landing-page[_ngcontent-%COMP%]{background-image:url(https://html.xpressbuddy.com/coindox/assets/img/bg/blockchain_hero_bg.png);background-size:cover;position:relative;height:auto;overflow:hidden;background-color:#0a0a0f}"]})}}return i})();var Cb=[{path:"",component:bb},{path:"login",component:tb},{path:"auth",component:ob},{path:"forgotpassword",component:ub},{path:"passwordAuth",component:pb},{path:"resetPassword",component:fb},{path:"portal",component:M_,canActivate:[ab],children:[{path:"dashboard",component:Z1},{path:"files",component:ib},{path:"",component:gb,canActivate:[lb],children:[{path:"activities",component:nb},{path:"users",component:rb},{path:"settings",component:sb},{path:"newuser",component:Ic}]}]},{path:"securitycheck",component:cb},{path:"viewer/:id",component:db},{path:"errorpage",component:hb},{path:"**",redirectTo:"/errorpage"}];var $N=(()=>{class i extends Ja{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(B(Ye),B(Ys),B(Ka))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function HN(){return new ff}function jN(i,t,e){return new vf(i,t,e)}var wb=[{provide:Ka,useFactory:HN},{provide:Ja,useClass:$N},{provide:Pr,useFactory:jN,deps:[Gr,Ja,Be]}],dm=[{provide:Ys,useFactory:()=>new gf},{provide:zs,useValue:"BrowserAnimations"},...wb],GN=[{provide:Ys,useClass:mf},{provide:zs,useValue:"NoopAnimations"},...wb],Sb=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?GN:dm}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=me({type:i});static \u0275inj=pe({providers:dm,imports:[Wf]})}return i})();function Tb(){return Bs("NgEagerAnimations"),[...dm]}var Ma="Service workers are disabled or not supported by this browser";function UN(i){return Dr(()=>Vn(new Error(i)))}var Rs=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=UN(Ma);else{let n=Lr(t,"controllerchange").pipe(K(()=>t.controller)),r=Dr(()=>P(t.controller)),s=Na(r,n);this.worker=s.pipe(Ot(u=>!!u)),this.registration=this.worker.pipe(Xe(()=>t.getRegistration()));let c=Lr(t,"message").pipe(K(u=>u.data)).pipe(Ot(u=>u&&u.type)).pipe(Cm());c.connect(),this.events=c}}postMessage(t,e){return this.worker.pipe(Bt(1),He(n=>{n.postMessage(M({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,n){let r=this.waitForOperationCompleted(n),s=this.postMessage(t,e);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=n=>n.type===t:e=n=>t.includes(n.type),this.events.pipe(Ot(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Bt(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ot(e=>e.nonce===t),Bt(1),K(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},WN=(()=>{class i{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new tt;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Ir,this.notificationClicks=Ir,this.subscription=Ir;return}this.messages=this.sw.eventsOfType("PUSH").pipe(K(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(K(r=>r.data)),this.pushManager=this.sw.registration.pipe(K(r=>r.pushManager));let n=this.pushManager.pipe(Xe(r=>r.getSubscription()));this.subscription=Cd(n,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ma));let n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return n.applicationServerKey=s,this.pushManager.pipe(Xe(o=>o.subscribe(n)),Bt(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ma));let e=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Bt(1),Xe(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||i)(B(Rs))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),qN=(()=>{class i{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Ir,this.unrecoverable=Ir;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ma));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ma));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||i)(B(Rs))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();var kb=new ee("");function XN(i,t,e){return()=>{if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=i.get(Be),r=i.get(hi);n.runOutsideAngular(()=>{let o=navigator.serviceWorker,a=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",a),r.onDestroy(()=>{o.removeEventListener("controllerchange",a)})});let s;if(typeof e.registrationStrategy=="function")s=e.registrationStrategy();else{let[o,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":s=P(null);break;case"registerWithDelay":s=Eb(+a[0]||0);break;case"registerWhenStable":let l=$e(i.get(hi).whenStable());s=a[0]?Cd(l,Eb(+a[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.runOutsideAngular(()=>s.pipe(Bt(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function Eb(i){return P(null).pipe(ym(i))}function YN(i){return new Rs(i.enabled!==!1?navigator.serviceWorker:void 0)}var Aa=class{enabled;scope;registrationStrategy};function Ab(i,t={}){return Pi([WN,qN,{provide:kb,useValue:i},{provide:Aa,useValue:t},{provide:Rs,useFactory:YN,deps:[Aa]},{provide:Us,useFactory:XN,deps:[ut,kb,Aa],multi:!0}])}var QN="@",KN=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=N(ut);loadingSchedulerFn=N(JN,{optional:!0});_engine;constructor(e,n,r,s,o){this.doc=e,this.delegate=n,this.zone=r,this.animationType=s,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-CQBN2TMC.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new le(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new hm(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let a=o.createRenderer(e,n);s.use(a),this.scheduler??=this.injector.get(Mm,null,{optional:!0}),this.scheduler?.notify(11)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Pa()};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),hm=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(QN)}},JN=new ee("");function Mb(i="animations"){return Bs("NgAsyncAnimations"),Pi([{provide:Pr,useFactory:(t,e,n)=>new KN(t,e,n,i),deps:[Ye,Gr,Be]},{provide:zs,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Db={providers:[Qm({eventCoalescing:!0}),Pg(Cb),Tb(),kd(Ff),kd(Sb),Ab("ngsw-worker.js",{enabled:!Km(),registrationStrategy:"registerWhenStable:30000"}),Mb()]};var Lb=(()=>{class i{constructor(){this.title="memoapp"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&y(0,"router-outlet")},dependencies:[Yn],encapsulation:2})}}return i})();Gf(Lb,Db).catch(i=>console.error(i));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/src/service-worker.js").then(i=>{console.log("Service Worker registered with scope:",i.scope)}).catch(i=>{console.log("Service Worker registration failed:",i)})});
