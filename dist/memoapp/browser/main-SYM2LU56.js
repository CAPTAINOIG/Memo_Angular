import{e as Sg,f as Tg,g as qu}from"./chunk-XYOXOUVI.js";import{$ as nn,$a as og,$b as ju,$c as Dg,A as Fo,Aa as js,Ab as u,Ac as nt,B as Jn,Ba as Nu,Bb as _,Bc as ge,C as Bs,Ca as Wf,Cb as et,Cc as yg,D as Au,Da as Xf,Db as tt,Dc as bg,E as fi,Ea as $s,Eb as Xl,Ec as zo,F as Ff,Fa as Ro,Fb as J,Fc as se,G as Or,Ga as Po,Gb as I,Gc as Cg,H as Zn,Ha as Yf,Hb as C,Hc as Br,I as Du,Ia as Qf,Ib as Xs,Ic as rr,J as Nf,Ja as Kf,Jb as Nr,Jc as wg,K as Rf,Ka as Jf,Kb as Ui,Kc as Jl,L as Pf,La as Zf,Lb as cg,Lc as kg,M as Vf,Ma as eg,Mb as Hu,Mc as Eg,N as Bf,Na as tg,Nb as Mn,Nc as Uu,O as Lt,Oa as kn,Ob as Wi,Oc as Mg,P as jl,Pa as tr,Pb as Xi,Q as mt,Qa as Qt,Qb as sn,R as Ae,Ra as ig,Rb as m,S as er,Sa as ng,Sb as oe,T as gi,Ta as g,Tb as U,U as ne,Ua as M,Ub as Yl,Uc as Ag,V as Le,Va as $l,Vb as wt,Vc as Ks,W as zf,Wa as Gs,Wb as St,Wc as Zl,X as we,Xa as rg,Xb as Tt,Y as Lu,Ya as Vo,Yb as ri,Z as re,Za as vi,Zb as ft,_ as G,_a as qs,_b as oi,a as Bl,aa as Iu,ab as sg,ac as an,ad as ec,b as Df,ba as Hf,bb as Ru,bc as $u,c as Lo,ca as Fr,cb as H,cc as ir,cd as Lg,d as Tu,da as zi,db as Ie,dc as nr,e as ku,ea as jf,eb as Je,ec as Ql,f as Xt,fa as Ze,fb as ag,fc as dg,g as ht,ga as V,gb as Rt,gc as ug,h as Sn,ha as B,hb as Pu,hc as ln,hd as Ig,i as Lf,ia as he,ib as L,ic as hg,j as pt,ja as Ti,jb as Vu,jc as pg,k as ee,ka as $f,kb as lg,kc as Rr,l as Ir,la as Yt,lb as Gl,lc as Pr,m as Io,ma as No,mb as ql,mc as cn,n as If,na as Gf,nb as Bu,nc as Gu,o as Of,oa as zs,ob as Ul,oc as mg,p as ve,pa as ae,pb as Us,pc as Vr,q as zl,qa as lt,qb as Wl,qc as fg,r as ii,ra as Ou,rb as rn,rc as gg,s as Eu,sa as ze,sb as Ve,sc as gt,t as Hl,ta as _t,tb as y,tc as vg,u as Kn,ua as Hs,ub as on,uc as Ys,v as Vs,va as Tn,vb as En,vc as xg,w as Si,wa as qf,wb as Ws,wc as _g,x as Mu,xa as Fu,xb as Bo,xc as Qs,y as Oo,ya as Uf,yb as zu,yc as Kl,z as mi,za as ni,zb as d,zc as Yi}from"./chunk-DP3QIM6B.js";import{a as R,b as be,e as Mf,g as Nt,h as Af,i as Vl}from"./chunk-ODN5LVDJ.js";var jt=Mf((M1,Fd)=>{(function(i,t){typeof Fd=="object"&&Fd.exports?Fd.exports=t():i.Toastify=t()})(M1,function(i){var t=function(o){return new t.lib.init(o)},e="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:e,constructor:t,init:function(o){return o||(o={}),this.options={},this.toastElement=null,this.options.text=o.text||t.defaults.text,this.options.node=o.node||t.defaults.node,this.options.duration=o.duration===0?0:o.duration||t.defaults.duration,this.options.selector=o.selector||t.defaults.selector,this.options.callback=o.callback||t.defaults.callback,this.options.destination=o.destination||t.defaults.destination,this.options.newWindow=o.newWindow||t.defaults.newWindow,this.options.close=o.close||t.defaults.close,this.options.gravity=o.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=o.positionLeft||t.defaults.positionLeft,this.options.position=o.position||t.defaults.position,this.options.backgroundColor=o.backgroundColor||t.defaults.backgroundColor,this.options.avatar=o.avatar||t.defaults.avatar,this.options.className=o.className||t.defaults.className,this.options.stopOnFocus=o.stopOnFocus===void 0?t.defaults.stopOnFocus:o.stopOnFocus,this.options.onClick=o.onClick||t.defaults.onClick,this.options.offset=o.offset||t.defaults.offset,this.options.escapeMarkup=o.escapeMarkup!==void 0?o.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=o.ariaLive||t.defaults.ariaLive,this.options.style=o.style||t.defaults.style,o.backgroundColor&&(this.options.style.background=o.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var o=document.createElement("div");o.className="toastify on "+this.options.className,this.options.position?o.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(o.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):o.className+=" toastify-right",o.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var s in this.options.style)o.style[s]=this.options.style[s];if(this.options.ariaLive&&o.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)o.appendChild(this.options.node);else if(this.options.escapeMarkup?o.innerText=this.options.text:o.innerHTML=this.options.text,this.options.avatar!==""){var a=document.createElement("img");a.src=this.options.avatar,a.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?o.appendChild(a):o.insertAdjacentElement("afterbegin",a)}if(this.options.close===!0){var l=document.createElement("button");l.type="button",l.setAttribute("aria-label","Close"),l.className="toast-close",l.innerHTML="&#10006;",l.addEventListener("click",function(S){S.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var c=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&c>360?o.insertAdjacentElement("afterbegin",l):o.appendChild(l)}if(this.options.stopOnFocus&&this.options.duration>0){var h=this;o.addEventListener("mouseover",function(S){window.clearTimeout(o.timeOutValue)}),o.addEventListener("mouseleave",function(){o.timeOutValue=window.setTimeout(function(){h.removeElement(o)},h.options.duration)})}if(typeof this.options.destination<"u"&&o.addEventListener("click",function(S){S.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&o.addEventListener("click",function(S){S.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var p=n("x",this.options),f=n("y",this.options),v=this.options.position=="left"?p:"-"+p,x=this.options.gravity=="toastify-top"?f:"-"+f;o.style.transform="translate("+v+","+x+")"}return o},showToast:function(){this.toastElement=this.buildToast();var o;if(typeof this.options.selector=="string"?o=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?o=this.options.selector:o=document.body,!o)throw"Root element is not defined";var s=t.defaults.oldestFirst?o.firstChild:o.lastChild;return o.insertBefore(this.toastElement,s),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(o){o.className=o.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),o.parentNode&&o.parentNode.removeChild(o),this.options.callback.call(o),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var o={top:15,bottom:15},s={top:15,bottom:15},a={top:15,bottom:15},l=document.getElementsByClassName("toastify"),c,h=0;h<l.length;h++){r(l[h],"toastify-top")===!0?c="toastify-top":c="toastify-bottom";var p=l[h].offsetHeight;c=c.substr(9,c.length-1);var f=15,v=window.innerWidth>0?window.innerWidth:screen.width;v<=360?(l[h].style[c]=a[c]+"px",a[c]+=p+f):r(l[h],"toastify-left")===!0?(l[h].style[c]=o[c]+"px",o[c]+=p+f):(l[h].style[c]=s[c]+"px",s[c]+=p+f)}return this};function n(o,s){return s.offset[o]?isNaN(s.offset[o])?s.offset[o]:s.offset[o]+"px":"0px"}function r(o,s){return!o||typeof s!="string"?!1:!!(o.className&&o.className.trim().split(/\s+/gi).indexOf(s)>-1)}return t.lib.init.prototype=t.lib,t})});var P1=Mf((Bd,km)=>{(function(t,e){typeof Bd=="object"&&typeof km=="object"?km.exports=e((qu(),Af(Tg))):typeof define=="function"&&define.amd?define(["quill"],e):typeof Bd=="object"?Bd.quillBetterTable=e((qu(),Af(Tg))):t.quillBetterTable=e(t.Quill)})(window,function(i){return function(t){function e(N){delete installedChunks[N]}var n=window.webpackHotUpdatequillBetterTable;window.webpackHotUpdatequillBetterTable=function(z,$){Wt(z,$),n&&n(z,$)};function r(N){var z=document.createElement("script");z.charset="utf-8",z.src=Ce.p+""+N+"."+a+".hot-update.js",document.head.appendChild(z)}function o(N){return N=N||1e4,new Promise(function(z,$){if(typeof XMLHttpRequest>"u")return $(new Error("No browser support"));try{var le=new XMLHttpRequest,ye=Ce.p+""+a+".hot-update.json";le.open("GET",ye,!0),le.timeout=N,le.send(null)}catch(W){return $(W)}le.onreadystatechange=function(){if(le.readyState===4)if(le.status===0)$(new Error("Manifest request to "+ye+" timed out."));else if(le.status===404)z();else if(le.status!==200&&le.status!==304)$(new Error("Manifest request to "+ye+" failed."));else{try{var W=JSON.parse(le.responseText)}catch(pi){$(pi);return}z(W)}}})}var s=!0,a="ced44c7892a78034ffe4",l=1e4,c={},h,p=[],f=[];function v(N){var z=Be[N];if(!z)return Ce;var $=function(W){return z.hot.active?(Be[W]?Be[W].parents.indexOf(N)===-1&&Be[W].parents.push(N):(p=[N],h=W),z.children.indexOf(W)===-1&&z.children.push(W)):(console.warn("[HMR] unexpected require("+W+") from disposed module "+N),p=[]),Ce(W)},le=function(pi){return{configurable:!0,enumerable:!0,get:function(){return Ce[pi]},set:function(Ni){Ce[pi]=Ni}}};for(var ye in Ce)Object.prototype.hasOwnProperty.call(Ce,ye)&&ye!=="e"&&ye!=="t"&&Object.defineProperty($,ye,le(ye));return $.e=function(W){return T==="ready"&&P("prepare"),te++,Ce.e(W).then(pi,function(Ni){throw pi(),Ni});function pi(){te--,T==="prepare"&&(Qe[W]||fe(W),te===0&&me===0&&Ct())}},$.t=function(W,pi){return pi&1&&(W=$(W)),Ce.t(W,pi&-2)},$}function x(N){var z={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:h!==N,active:!0,accept:function($,le){if($===void 0)z._selfAccepted=!0;else if(typeof $=="function")z._selfAccepted=$;else if(typeof $=="object")for(var ye=0;ye<$.length;ye++)z._acceptedDependencies[$[ye]]=le||function(){};else z._acceptedDependencies[$]=le||function(){}},decline:function($){if($===void 0)z._selfDeclined=!0;else if(typeof $=="object")for(var le=0;le<$.length;le++)z._declinedDependencies[$[le]]=!0;else z._declinedDependencies[$]=!0},dispose:function($){z._disposeHandlers.push($)},addDisposeHandler:function($){z._disposeHandlers.push($)},removeDisposeHandler:function($){var le=z._disposeHandlers.indexOf($);le>=0&&z._disposeHandlers.splice(le,1)},check:de,apply:ot,status:function($){if(!$)return T;S.push($)},addStatusHandler:function($){S.push($)},removeStatusHandler:function($){var le=S.indexOf($);le>=0&&S.splice(le,1)},data:c[N]};return h=void 0,z}var S=[],T="idle";function P(N){T=N;for(var z=0;z<S.length;z++)S[z].call(null,N)}var me=0,te=0,Qe={},Pe={},Ke={},Ut,vt,Te;function xt(N){var z=+N+""===N;return z?+N:N}function de(N){if(T!=="idle")throw new Error("check() is only allowed in idle status");return s=N,P("check"),o(l).then(function(z){if(!z)return P("idle"),null;Pe={},Qe={},Ke=z.c,Te=z.h,P("prepare");var $=new Promise(function(ye,W){Ut={resolve:ye,reject:W}});vt={};var le=2;return fe(le),T==="prepare"&&te===0&&me===0&&Ct(),$})}function Wt(N,z){if(!(!Ke[N]||!Pe[N])){Pe[N]=!1;for(var $ in z)Object.prototype.hasOwnProperty.call(z,$)&&(vt[$]=z[$]);--me===0&&te===0&&Ct()}}function fe(N){Ke[N]?(Pe[N]=!0,me++,r(N)):Qe[N]=!0}function Ct(){P("ready");var N=Ut;if(Ut=null,!!N)if(s)Promise.resolve().then(function(){return ot(s)}).then(function(le){N.resolve(le)},function(le){N.reject(le)});else{var z=[];for(var $ in vt)Object.prototype.hasOwnProperty.call(vt,$)&&z.push(xt($));N.resolve(z)}}function ot(N){if(T!=="ready")throw new Error("apply() is only allowed in ready status");N=N||{};var z,$,le,ye,W;function pi(dt){for(var Vi=[dt],Dt={},Qn=Vi.map(function(Rl){return{chain:[Rl],id:Rl}});Qn.length>0;){var Nl=Qn.pop(),tn=Nl.id,Ao=Nl.chain;if(ye=Be[tn],!(!ye||ye.hot._selfAccepted)){if(ye.hot._selfDeclined)return{type:"self-declined",chain:Ao,moduleId:tn};if(ye.hot._main)return{type:"unaccepted",chain:Ao,moduleId:tn};for(var Do=0;Do<ye.parents.length;Do++){var wi=ye.parents[Do],Bi=Be[wi];if(Bi){if(Bi.hot._declinedDependencies[tn])return{type:"declined",chain:Ao.concat([wi]),moduleId:tn,parentId:wi};if(Vi.indexOf(wi)===-1){if(Bi.hot._acceptedDependencies[tn]){Dt[wi]||(Dt[wi]=[]),Ni(Dt[wi],[tn]);continue}delete Dt[wi],Vi.push(wi),Qn.push({chain:Ao.concat([wi]),id:wi})}}}}}return{type:"accepted",moduleId:dt,outdatedModules:Vi,outdatedDependencies:Dt}}function Ni(dt,Vi){for(var Dt=0;Dt<Vi.length;Dt++){var Qn=Vi[Dt];dt.indexOf(Qn)===-1&&dt.push(Qn)}}var st={},Xn=[],Ri={},Al=function(){console.warn("[HMR] unexpected require("+ct.moduleId+") to disposed module")};for(var To in vt)if(Object.prototype.hasOwnProperty.call(vt,To)){W=xt(To);var ct;vt[To]?ct=pi(W):ct={type:"disposed",moduleId:To};var Lr=!1,Dl=!1,Ll=!1,ko="";switch(ct.chain&&(ko=`
Update propagation: `+ct.chain.join(" -> ")),ct.type){case"self-declined":N.onDeclined&&N.onDeclined(ct),N.ignoreDeclined||(Lr=new Error("Aborted because of self decline: "+ct.moduleId+ko));break;case"declined":N.onDeclined&&N.onDeclined(ct),N.ignoreDeclined||(Lr=new Error("Aborted because of declined dependency: "+ct.moduleId+" in "+ct.parentId+ko));break;case"unaccepted":N.onUnaccepted&&N.onUnaccepted(ct),N.ignoreUnaccepted||(Lr=new Error("Aborted because "+W+" is not accepted"+ko));break;case"accepted":N.onAccepted&&N.onAccepted(ct),Dl=!0;break;case"disposed":N.onDisposed&&N.onDisposed(ct),Ll=!0;break;default:throw new Error("Unexception type "+ct.type)}if(Lr)return P("abort"),Promise.reject(Lr);if(Dl){Ri[W]=vt[W],Ni(Xn,ct.outdatedModules);for(W in ct.outdatedDependencies)Object.prototype.hasOwnProperty.call(ct.outdatedDependencies,W)&&(st[W]||(st[W]=[]),Ni(st[W],ct.outdatedDependencies[W]))}Ll&&(Ni(Xn,[ct.moduleId]),Ri[W]=Al)}var Ns=[];for($=0;$<Xn.length;$++)W=Xn[$],Be[W]&&Be[W].hot._selfAccepted&&Ri[W]!==Al&&Ns.push({module:W,errorHandler:Be[W].hot._selfAccepted});P("dispose"),Object.keys(Ke).forEach(function(dt){Ke[dt]===!1&&e(dt)});for(var Yn,Il=Xn.slice();Il.length>0;)if(W=Il.pop(),ye=Be[W],!!ye){var Ol={},Fl=ye.hot._disposeHandlers;for(le=0;le<Fl.length;le++)z=Fl[le],z(Ol);for(c[W]=Ol,ye.hot.active=!1,delete Be[W],delete st[W],le=0;le<ye.children.length;le++){var Rs=Be[ye.children[le]];Rs&&(Yn=Rs.parents.indexOf(W),Yn>=0&&Rs.parents.splice(Yn,1))}}var Eo,en;for(W in st)if(Object.prototype.hasOwnProperty.call(st,W)&&(ye=Be[W],ye))for(en=st[W],le=0;le<en.length;le++)Eo=en[le],Yn=ye.children.indexOf(Eo),Yn>=0&&ye.children.splice(Yn,1);P("apply"),a=Te;for(W in Ri)Object.prototype.hasOwnProperty.call(Ri,W)&&(t[W]=Ri[W]);var Pi=null;for(W in st)if(Object.prototype.hasOwnProperty.call(st,W)&&(ye=Be[W],ye)){en=st[W];var Mo=[];for($=0;$<en.length;$++)if(Eo=en[$],z=ye.hot._acceptedDependencies[Eo],z){if(Mo.indexOf(z)!==-1)continue;Mo.push(z)}for($=0;$<Mo.length;$++){z=Mo[$];try{z(en)}catch(dt){N.onErrored&&N.onErrored({type:"accept-errored",moduleId:W,dependencyId:en[$],error:dt}),N.ignoreErrored||Pi||(Pi=dt)}}}for($=0;$<Ns.length;$++){var Ps=Ns[$];W=Ps.module,p=[W];try{Ce(W)}catch(dt){if(typeof Ps.errorHandler=="function")try{Ps.errorHandler(dt)}catch(Vi){N.onErrored&&N.onErrored({type:"self-accept-error-handler-errored",moduleId:W,error:Vi,originalError:dt}),N.ignoreErrored||Pi||(Pi=Vi),Pi||(Pi=dt)}else N.onErrored&&N.onErrored({type:"self-accept-errored",moduleId:W,error:dt}),N.ignoreErrored||Pi||(Pi=dt)}}return Pi?(P("fail"),Promise.reject(Pi)):(P("idle"),new Promise(function(dt){dt(Xn)}))}var Be={};function Ce(N){if(Be[N])return Be[N].exports;var z=Be[N]={i:N,l:!1,exports:{},hot:x(N),parents:(f=p,p=[],f),children:[]};return t[N].call(z.exports,z,z.exports,v(N)),z.l=!0,z.exports}return Ce.m=t,Ce.c=Be,Ce.d=function(N,z,$){Ce.o(N,z)||Object.defineProperty(N,z,{enumerable:!0,get:$})},Ce.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},Ce.t=function(N,z){if(z&1&&(N=Ce(N)),z&8||z&4&&typeof N=="object"&&N&&N.__esModule)return N;var $=Object.create(null);if(Ce.r($),Object.defineProperty($,"default",{enumerable:!0,value:N}),z&2&&typeof N!="string")for(var le in N)Ce.d($,le,function(ye){return N[ye]}.bind(null,le));return $},Ce.n=function(N){var z=N&&N.__esModule?function(){return N.default}:function(){return N};return Ce.d(z,"a",z),z},Ce.o=function(N,z){return Object.prototype.hasOwnProperty.call(N,z)},Ce.p="",Ce.h=function(){return a},v(12)(Ce.s=12)}([function(t,e){t.exports=i},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-277.850505 5.559596v226.909091H375.725253V104.59798h272.420202zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v226.909091H103.434343V195.361616z m90.763637 726.367677c-24.048485 0-47.191919-9.567677-64.129293-26.634344-17.066667-17.066667-26.634343-40.080808-26.634344-64.129292V649.309091h226.909091v272.420202H194.19798z m181.527273 0V649.309091h272.290909v272.420202H375.725253z m544.711111-90.892929c0 24.048485-9.567677 47.191919-26.634344 64.129293-17.066667 17.066667-40.080808 26.634343-64.129293 26.634343H693.527273V649.309091h226.909091v181.527273zM693.527273 331.507071V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.145455H693.527273z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M336.457143 73.142857h43.885714v877.714286h-43.885714z m307.382857 0h43.702857v877.714286h-43.702857z m-438.857143 0h614.4A131.657143 131.657143 0 0 1 950.857143 204.8v614.4a131.474286 131.474286 0 0 1-131.474286 131.657143h-614.4A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.982857 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.771428 87.771429v614.4a87.588571 87.588571 0 0 0 87.771428 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v307.2H73.142857z m292.571429 43.885714v219.428572h292.571428v-219.428572z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333"/></svg>'},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r);function s(A,E){if(typeof E=="object")for(let b in E)A.style[b]=E[b]}function a(A,E){let b=E.getBoundingClientRect();return{x:A.x-b.x-E.scrollLeft,y:A.y-b.y-E.scrollTop,x1:A.x-b.x-E.scrollLeft+A.width,y1:A.y-b.y-E.scrollTop+A.height,width:A.width,height:A.height}}function l(A,E){return A&&Object.keys(A).reduce((b,w)=>E.includes(w)?b:Object.assign({},b,{[w]:A[w]}),{})}function c(A){let E;if(E=A.path||A.composedPath&&A.composedPath(),E==null&&A.target){E=[];let b=A.target;for(E.push(b);b&&b.parentNode;)b=b.parentNode,E.push(b)}return E}function h(A){var E=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(A)){for(var b=A.toString().match(/\d+/g),w="#",k=0;k<3;k++)w+=("0"+Number(b[k]).toString(16)).slice(-2);return w}else if(E.test(A)){var D=A.replace(/#/,"").split("");if(D.length===6)return A;if(D.length===3){for(var O="#",k=0;k<D.length;k+=1)O+=D[k]+D[k];return O}}return A}let p=12,f=12,v=12,x=50,S="#35A7ED";class T{constructor(E,b,w){if(!E)return null;this.table=E,this.quill=b,this.options=w,this.domNode=null,this.initColTool()}initColTool(){let E=this.quill.root.parentNode,b=this.table.getBoundingClientRect(),w=E.getBoundingClientRect(),k=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),E.appendChild(this.domNode),s(this.domNode,{width:"".concat(k.width,"px"),height:"".concat(p,"px"),left:"".concat(k.left-w.left+E.scrollLeft,"px"),top:"".concat(k.top-w.top+E.scrollTop-p-5,"px")})}createToolCell(){let E=document.createElement("div");E.classList.add("qlbt-col-tool-cell");let b=document.createElement("div");return b.classList.add("qlbt-col-tool-cell-holder"),s(E,{height:"".concat(f,"px")}),E.appendChild(b),E}updateToolCells(){let E=o.a.find(this.table),b=E.children.tail.children.head.children,w=E.colGroup().children,k=P(b),D=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let O=0;O<Math.max(k,D.length);O++){let F=w.at(O),Y=F&&parseInt(F.formats()[F.statics.blotName].width,10),q=null;D[O]?D[O]&&O>=k?D[O].remove():(q=D[O],s(q,{"min-width":"".concat(Y,"px")})):(q=this.createToolCell(),this.domNode.appendChild(q),this.addColCellHolderHandler(q),s(q,{"min-width":"".concat(Y,"px")}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(E){let b=o.a.find(this.table),w=E.querySelector(".qlbt-col-tool-cell-holder"),k=!1,D=0,O=0,F=0,Y=0,q={},Q={},K=null,Z=ue=>{ue.preventDefault(),k&&(O=ue.clientX,Y+O-D>=x?F=O-D:F=x-Y,s(K,{left:"".concat(Q.left+Q.width-1+F,"px")}))},ie=ue=>{ue.preventDefault();let Xe=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(E),at=b.colGroup().children.at(Xe);k&&(at.format("width",Y+F),s(E,{"min-width":"".concat(Y+F,"px")}),D=0,O=0,F=0,Y=0,k=!1,w.classList.remove("dragging")),document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",ie,!1),q={},Q={},K.remove(),K=null,b.updateTableWidth();let wn=this.quill.getModule("better-table").tableSelection;wn&&wn.clearSelection()},ke=ue=>{document.addEventListener("mousemove",Z,!1),document.addEventListener("mouseup",ie,!1),q=this.table.getBoundingClientRect(),Q=E.getBoundingClientRect(),K=document.createElement("div"),s(K,{position:"fixed",top:"".concat(Q.top,"px"),left:"".concat(Q.left+Q.width-1,"px"),zIndex:"100",height:"".concat(q.height+p+4,"px"),width:"1px",backgroundColor:S}),document.body.appendChild(K),k=!0,D=ue.clientX,Y=Q.width,w.classList.add("dragging")};w.addEventListener("mousedown",ke,!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}function P(A){return A.reduce((E,b)=>{let w=b.formats().colspan;return E=E+parseInt(w,10),E},0)}let me=o.a.import("blots/block");var Qe=(()=>{class A extends me{static create(b){typeof b=="string"&&(b={value:b});let w=super.create(b.value);return xt.forEach(k=>{b[k]&&w.setAttribute("data-".concat(k),b[k])}),de.forEach(k=>{b[k]&&w.setAttribute("data-".concat(k),b[k])}),w}static formats(b){let w={};return w.value=this.tagName.indexOf(b.tagName)+1,de.concat(xt).reduce((k,D)=>(b.hasAttribute("data-".concat(D))&&(k[D]=b.getAttribute("data-".concat(D))||void 0),k),w)}format(b,w){let{row:k,cell:D,rowspan:O,colspan:F}=A.formats(this.domNode);b===A.blotName?w?super.format(b,{value:w,row:k,cell:D,rowspan:O,colspan:F}):k?this.replaceWith(Ct.blotName,{row:k,cell:D,rowspan:O,colspan:F}):super.format(b,w):super.format(b,w)}optimize(b){let{row:w,rowspan:k,colspan:D}=A.formats(this.domNode);if(w&&!(this.parent instanceof ot)&&this.wrap(ot.blotName,{row:w,colspan:D,rowspan:k}),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let O=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(O)}else this.remove();this.cache={}}}return A.blotName="header",A.tagName=["H1","H2","H3","H4","H5","H6"],A})();let Pe=o.a.import("blots/break"),Ke=o.a.import("blots/block"),Ut=o.a.import("blots/container"),vt=["width"],Te={width:100},xt=["row","cell"],de=["rowspan","colspan"],Wt={rowspan:1,colspan:1},fe=5,Ct=(()=>{class A extends Ke{static create(b){let w=super.create(b);return xt.forEach(k=>{let D=k==="row"?ye:W;w.setAttribute("data-".concat(k),b[k]||D())}),de.forEach(k=>{w.setAttribute("data-".concat(k),b[k]||Wt[k])}),b["cell-bg"]&&w.setAttribute("data-cell-bg",b["cell-bg"]),w}static formats(b){let w={};return de.concat(xt).concat(["cell-bg"]).reduce((k,D)=>(b.hasAttribute("data-".concat(D))&&(k[D]=b.getAttribute("data-".concat(D))||void 0),k),w)}format(b,w){if(de.concat(xt).indexOf(b)>-1)w?this.domNode.setAttribute("data-".concat(b),w):this.domNode.removeAttribute("data-".concat(b));else if(b==="cell-bg")w?this.domNode.setAttribute("data-cell-bg",w):this.domNode.removeAttribute("data-cell-bg");else if(b==="header"){if(!w)return;let{row:k,cell:D,rowspan:O,colspan:F}=A.formats(this.domNode);super.format(b,{value:w,row:k,cell:D,rowspan:O,colspan:F})}else super.format(b,w)}optimize(b){let w=this.domNode.getAttribute("data-row"),k=this.domNode.getAttribute("data-rowspan"),D=this.domNode.getAttribute("data-colspan"),O=this.domNode.getAttribute("data-cell-bg");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:w,colspan:D,rowspan:k,"cell-bg":O}),super.optimize(b)}tableCell(){return this.parent}}return A.blotName="table-cell-line",A.className="qlbt-cell-line",A.tagName="P",A})(),ot=(()=>{class A extends Ut{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let b=this.children.head.formats()[this.children.head.statics.blotName],w=this.children.tail.formats()[this.children.tail.statics.blotName],k=this.next.children.head.formats()[this.next.children.head.statics.blotName],D=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return b.cell===w.cell&&b.cell===k.cell&&b.cell===D.cell}return!1}static create(b){let w=super.create(b);return w.setAttribute("data-row",b.row),de.forEach(k=>{b[k]&&w.setAttribute(k,b[k])}),b["cell-bg"]&&(w.setAttribute("data-cell-bg",b["cell-bg"]),w.style.backgroundColor=b["cell-bg"]),w}static formats(b){let w={};return b.hasAttribute("data-row")&&(w.row=b.getAttribute("data-row")),b.hasAttribute("data-cell-bg")&&(w["cell-bg"]=b.getAttribute("data-cell-bg")),de.reduce((k,D)=>(b.hasAttribute(D)&&(k[D]=b.getAttribute(D)),k),w)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){let b={};return this.domNode.hasAttribute("data-row")&&(b.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(b["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),de.reduce((w,k)=>(this.domNode.hasAttribute(k)&&(w[k]=this.domNode.getAttribute(k)),w),b)}toggleAttribute(b,w){w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b)}formatChildren(b,w){this.children.forEach(k=>{k.format(b,w)})}format(b,w){de.indexOf(b)>-1?(this.toggleAttribute(b,w),this.formatChildren(b,w)):["row"].indexOf(b)>-1?(this.toggleAttribute("data-".concat(b),w),this.formatChildren(b,w)):b==="cell-bg"?(this.toggleAttribute("data-cell-bg",w),this.formatChildren(b,w),w?this.domNode.style.backgroundColor=w:this.domNode.style.backgroundColor="initial"):super.format(b,w)}optimize(b){let w=this.domNode.getAttribute("data-row");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:w}),super.optimize(b)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return A.blotName="table",A.tagName="TD",A})(),Be=(()=>{class A extends Ut{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let b=this.children.head.formats(),w=this.children.tail.formats(),k=this.next.children.head.formats(),D=this.next.children.tail.formats();return b.row===w.row&&b.row===k.row&&b.row===D.row}return!1}static create(b){let w=super.create(b);return w.setAttribute("data-row",b.row),w}formats(){return["row"].reduce((b,w)=>(this.domNode.hasAttribute("data-".concat(w))&&(b[w]=this.domNode.getAttribute("data-".concat(w))),b),{})}optimize(b){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}return A.blotName="table-row",A.tagName="TR",A})(),Ce=(()=>{class A extends Ut{}return A.blotName="table-body",A.tagName="TBODY",A})(),N=(()=>{class A extends Ke{static create(b){let w=super.create(b);return vt.forEach(k=>{w.setAttribute("".concat(k),b[k]||Te[k])}),w}static formats(b){return vt.reduce((w,k)=>(b.hasAttribute("".concat(k))&&(w[k]=b.getAttribute("".concat(k))||void 0),w),{})}format(b,w){vt.indexOf(b)>-1?this.domNode.setAttribute("".concat(b),w||Te[b]):super.format(b,w)}html(){return this.domNode.outerHTML}}return A.blotName="table-col",A.tagName="col",A})(),z=(()=>{class A extends Ut{}return A.blotName="table-col-group",A.tagName="colgroup",A})(),$=(()=>{class A extends Ut{static create(){return super.create()}constructor(b,w){super(b,w),this.updateTableWidth()}updateTableWidth(){setTimeout(()=>{let b=this.colGroup();if(!b)return;let w=b.children.reduce((k,D)=>(k=k+parseInt(D.formats()[N.blotName].width,10),k),0);this.domNode.style.width="".concat(w,"px")},0)}cells(b){return this.rows().map(w=>w.children.at(b))}colGroup(){return this.children.head}deleteColumns(b){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=arguments.length>2?arguments[2]:void 0,[D]=this.descendants(Ce);if(D==null||D.children.head==null)return;let O=this.descendants(ot),F=[],Y=[];if(O.forEach(q=>{let Q=a(q.domNode.getBoundingClientRect(),k);Q.x+fe>b.x&&Q.x1-fe<b.x1?F.push(q):Q.x<b.x+fe&&Q.x1>b.x1-fe&&Y.push(q)}),F.length===O.length)return this.tableDestroy(),!0;w.forEach(q=>{this.colGroup().children.at(w[0]).remove()}),F.forEach(q=>{q.remove()}),Y.forEach(q=>{let Q=parseInt(q.formats().colspan,10),K=parseInt(q.formats().width,10);q.format("colspan",Q-w.length)}),this.updateTableWidth()}deleteRow(b,w){let[k]=this.descendants(Ce);if(k==null||k.children.head==null)return;let D=this.descendants(ot),O=this.descendants(Be),F=[],Y=[],q=[],Q=O.filter(Z=>{let ie=a(Z.domNode.getBoundingClientRect(),w);return ie.y>b.y-fe&&ie.y1<b.y1+fe});if(D.forEach(Z=>{let ie=a(Z.domNode.getBoundingClientRect(),w);ie.y>b.y-fe&&ie.y1<b.y1+fe?F.push(Z):ie.y<b.y+fe&&ie.y1>b.y1-fe&&(Y.push(Z),Math.abs(ie.y-b.y)<fe&&q.push(Z))}),F.length===D.length){this.tableDestroy();return}let K=this.rows().reduce((Z,ie)=>{let ke=a(ie.domNode.getBoundingClientRect(),w);return ke.y>b.y-fe&&ke.y1<b.y1+fe&&(Z+=1),Z},0);q.forEach(Z=>{let ie=a(Z.domNode.getBoundingClientRect(),w),ke=Z.parent.next,Ue=ke.children.reduce((Xe,at)=>{let wn=a(at.domNode.getBoundingClientRect(),w);return Math.abs(ie.x1-wn.x)<fe&&(Xe=at),Xe},null);ke.insertBefore(Z,Ue),Z.format("row",ke.formats().row)}),F.forEach(Z=>{Z.remove()}),Y.forEach(Z=>{let ie=parseInt(Z.formats().rowspan,10);Z.format("rowspan",ie-K)}),Q.forEach(Z=>Z.remove())}tableDestroy(){let b=o.a.find(this.scroll.domNode.parentNode),w=b.getModule("better-table");this.remove(),w.hideTableTools(),b.update(o.a.sources.USER)}insertCell(b,w){let k=W(),D=b.formats().row,O=this.scroll.create(ot.blotName,Object.assign({},Wt,{row:D})),F=this.scroll.create(Ct.blotName,{row:D,cell:k});O.appendChild(F),w?b.insertBefore(O,w):b.appendChild(O)}insertColumn(b,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,D=arguments.length>3?arguments[3]:void 0,[O]=this.descendants(Ce),[F]=this.descendants(z),Y=this.descendants(N),q=[],Q=[],K=[];if(O==null||O.children.head==null)return;this.descendants(ot).forEach(ue=>{let Ue=a(ue.domNode.getBoundingClientRect(),D);k?Math.abs(Ue.x1-b.x1)<fe?q.push(ue):b.x1-Ue.x>fe&&b.x1-Ue.x1<-fe&&Q.push(ue):Math.abs(Ue.x-b.x)<fe?q.push(ue):b.x-Ue.x>fe&&b.x-Ue.x1<-fe&&Q.push(ue)}),q.forEach(ue=>{let Ue=k?ue.next:ue,Xe=W(),at=ue.parent,wn=at.formats().row,Ef=ue.formats(),Pl=this.scroll.create(ot.blotName,Object.assign({},Wt,{row:wn,rowspan:Ef.rowspan})),XC=this.scroll.create(Ct.blotName,{row:wn,cell:Xe,rowspan:Ef.rowspan});Pl.appendChild(XC),Ue?at.insertBefore(Pl,Ue):at.appendChild(Pl),K.push(Pl)});let ie=this.scroll.create(N.blotName,!0),ke=k?Y[w].next:Y[w];return ke?F.insertBefore(ie,ke):F.appendChild(ie),Q.forEach(ue=>{let Ue=ue.formats().colspan;ue.format("colspan",parseInt(Ue,10)+1),K.push(ue)}),K.sort((ue,Ue)=>{let Xe=ue.domNode.getBoundingClientRect().y,at=Ue.domNode.getBoundingClientRect().y;return Xe-at}),this.updateTableWidth(),K}insertRow(b,w,k){let[D]=this.descendants(Ce);if(D==null||D.children.head==null)return;let O=this.descendants(ot),F=ye(),Y=this.scroll.create(Be.blotName,{row:F}),q=[],Q=[],K=[];O.forEach(ke=>{let ue=a(ke.domNode.getBoundingClientRect(),k);w?Math.abs(ue.y1-b.y1)<fe?q.push(ke):b.y1-ue.y>fe&&b.y1-ue.y1<-fe&&Q.push(ke):Math.abs(ue.y-b.y)<fe?q.push(ke):b.y-ue.y>fe&&b.y-ue.y1<-fe&&Q.push(ke)});let Z=(ke,ue)=>{let Ue=ke.domNode.getBoundingClientRect().x,Xe=ue.domNode.getBoundingClientRect().x;return Ue-Xe};q.sort(Z),q.forEach(ke=>{let ue=W(),Ue=ke.formats(),Xe=this.scroll.create(ot.blotName,Object.assign({},Wt,{row:F,colspan:Ue.colspan})),at=this.scroll.create(Ct.blotName,{row:F,cell:ue,colspan:Ue.colspan}),wn=this.scroll.create(Pe.blotName);at.appendChild(wn),Xe.appendChild(at),Y.appendChild(Xe),K.push(Xe)}),Q.forEach(ke=>{let ue=parseInt(ke.formats().rowspan,10);ke.format("rowspan",ue+1),K.push(ke)});let ie=this.rows().find(ke=>{let ue=a(ke.domNode.getBoundingClientRect(),k);return w?Math.abs(ue.y-b.y-b.height)<fe:Math.abs(ue.y-b.y)<fe});return D.insertBefore(Y,ie),K.sort(Z),K}mergeCells(b,w,k,D,O){let F=w.reduce((Q,K,Z)=>(Z!==0?(Q&&K.moveChildren(Q),K.remove()):(K.format("colspan",D),K.format("rowspan",k),Q=K),Q),null),Y=F.domNode.getAttribute("data-row"),q=F.children.head.domNode.getAttribute("data-cell");return F.children.forEach(Q=>{Q.format("cell",q),Q.format("row",Y),Q.format("colspan",D),Q.format("rowspan",k)}),F}unmergeCells(b,w){let k={},D=1,O=1;b.forEach(F=>{if(k=F.formats(),D=k.rowspan,O=k.colspan,O>1){let Y=F.next,q=F.row();F.format("colspan",1);for(let Q=O;Q>1;Q--)this.insertCell(q,Y)}if(D>1){let Y=D,q=F.row().next;for(;Y>1;){let Q=q.children.reduce((K,Z)=>{let ie=a(F.domNode.getBoundingClientRect(),w),ke=a(Z.domNode.getBoundingClientRect(),w);return Math.abs(ie.x1-ke.x)<fe&&(K=Z),K},null);for(let K=O;K>0;K--)this.insertCell(q,Q);Y-=1,q=q.next}F.format("rowspan",1)}})}rows(){let b=this.children.tail;return b==null?[]:b.children.map(w=>w)}}return A.blotName="table-container",A.className="quill-better-table",A.tagName="TABLE",A})(),le=(()=>{class A extends Ut{constructor(b,w){super(b,w);let k=o.a.find(b.domNode.parentNode);w.addEventListener("scroll",D=>{let O=k.getModule("better-table");O.columnTool&&(O.columnTool.domNode.scrollLeft=D.target.scrollLeft),O.tableSelection&&O.tableSelection.selectedTds.length>0&&O.tableSelection.repositionHelpLines()},!1)}table(){return this.children.head}}return A.blotName="table-view",A.className="quill-better-table-wrapper",A.tagName="DIV",A.allowedChildren=[$],A})();$.requiredContainer=le,$.allowedChildren=[Ce,z],Ce.requiredContainer=$,Ce.allowedChildren=[Be],Be.requiredContainer=Ce,Be.allowedChildren=[ot],ot.requiredContainer=Be,ot.allowedChildren=[Ct,Qe],Ct.requiredContainer=ot,z.allowedChildren=[N],z.requiredContainer=$,N.requiredContainer=z;function ye(){let A=Math.random().toString(36).slice(2,6);return"row-".concat(A)}function W(){let A=Math.random().toString(36).slice(2,6);return"cell-".concat(A)}let pi="#0589f3",Ni=["left","right","top","bottom"],st=2;class Xn{constructor(E,b,w){if(!E)return null;this.table=E,this.quill=b,this.options=w,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let E=this.quill.root.parentNode;Ni.forEach(b=>{this[b]=document.createElement("div"),this[b].classList.add("qlbt-selection-line"),this[b].classList.add("qlbt-selection-line-"+b),s(this[b],{position:"absolute",display:"none","background-color":pi}),E.appendChild(this[b])})}mouseDownHandler(E){if(E.button!==0||!E.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",D,!1),this.quill.root.addEventListener("mouseup",O,!1);let b=this,w=E.target.closest("td[data-row]"),k=a(w.getBoundingClientRect(),this.quill.root.parentNode);this.dragging=!0,this.boundary=Ri(k,k),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines();function D(F){if(F.button!==0||!F.target.closest(".quill-better-table"))return;let Y=F.target.closest("td[data-row]"),q=a(Y.getBoundingClientRect(),b.quill.root.parentNode);b.boundary=Ri(k,q),b.correctBoundary(),b.selectedTds=b.computeSelectedTds(),b.repositionHelpLines(),w!==Y&&b.quill.blur()}function O(F){b.quill.root.removeEventListener("mousemove",D,!1),b.quill.root.removeEventListener("mouseup",O,!1),b.dragging=!1}}correctBoundary(){o.a.find(this.table).descendants(ot).forEach(w=>{let{x:k,y:D,width:O,height:F}=a(w.domNode.getBoundingClientRect(),this.quill.root.parentNode);(k+st>=this.boundary.x&&k+st<=this.boundary.x1||k-st+O>=this.boundary.x&&k-st+O<=this.boundary.x1)&&(D+st>=this.boundary.y&&D+st<=this.boundary.y1||D-st+F>=this.boundary.y&&D-st+F<=this.boundary.y1)&&(this.boundary=Ri(this.boundary,{x:k,y:D,width:O,height:F}))})}computeSelectedTds(){return o.a.find(this.table).descendants(ot).reduce((w,k)=>{let{x:D,y:O,width:F,height:Y}=a(k.domNode.getBoundingClientRect(),this.quill.root.parentNode);return D+st>=this.boundary.x&&D-st+F<=this.boundary.x1&&O+st>=this.boundary.y&&O-st+Y<=this.boundary.y1&&w.push(k),w},[])}repositionHelpLines(){let E=this.table.parentNode.scrollLeft;s(this.left,{display:"block",left:"".concat(this.boundary.x-E-1,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),s(this.right,{display:"block",left:"".concat(this.boundary.x1-E,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),s(this.top,{display:"block",left:"".concat(this.boundary.x-1-E,"px"),top:"".concat(this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"}),s(this.bottom,{display:"block",left:"".concat(this.boundary.x-1-E,"px"),top:"".concat(this.boundary.y1+1,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"})}refreshHelpLinesPosition(){let E=a(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),b=a(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=Ri(E,b),this.repositionHelpLines()}destroy(){return Ni.forEach(E=>{this[E].remove(),this[E]=null}),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(E,b){this.boundary=Ri(a(E,this.quill.root.parentNode),a(b,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],Ni.forEach(E=>{this[E]&&s(this[E],{display:"none"})})}}function Ri(A,E){let b=Math.min(A.x,E.x,A.x+A.width-1,E.x+E.width-1),w=Math.max(A.x,E.x,A.x+A.width-1,E.x+E.width-1),k=Math.min(A.y,E.y,A.y+A.height-1,E.y+E.height-1),D=Math.max(A.y,E.y,A.y+A.height-1,E.y+E.height-1),O=w-b,F=D-k;return{x:b,x1:w,y:k,y1:D,width:O,height:F}}var Al=n(1),To=n.n(Al),ct=n(2),Lr=n.n(ct),Dl=n(3),Ll=n.n(Dl),ko=n(4),Ns=n.n(ko),Yn=n(5),Il=n.n(Yn),Ol=n(6),Fl=n.n(Ol),Rs=n(7),Eo=n.n(Rs),en=n(8),Pi=n.n(en),Mo=n(9),Ps=n.n(Mo);let dt=150,Vi=200,Dt=5,Qn=["white","red","yellow","blue"],Nl="Background Colors",tn={insertColumnRight:{text:"Insert column right",iconSrc:To.a,handler(){let A=o.a.find(this.table),E=Do(this.columnToolCells,this.boundary,(w,k)=>Math.abs(w.x+w.width-k.x1)<=Dt,this.quill.root.parentNode),b=A.insertColumn(this.boundary,E,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(o.a.sources.USER),this.quill.setSelection(this.quill.getIndex(b[0]),0,o.a.sources.SILENT),this.tableSelection.setSelection(b[0].domNode.getBoundingClientRect(),b[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert column left",iconSrc:Lr.a,handler(){let A=o.a.find(this.table),E=Do(this.columnToolCells,this.boundary,(w,k)=>Math.abs(w.x-k.x)<=Dt,this.quill.root.parentNode),b=A.insertColumn(this.boundary,E,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(o.a.sources.USER),this.quill.setSelection(this.quill.getIndex(b[0]),0,o.a.sources.SILENT),this.tableSelection.setSelection(b[0].domNode.getBoundingClientRect(),b[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert row up",iconSrc:Ll.a,handler(){let E=o.a.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update(o.a.sources.USER),this.quill.setSelection(this.quill.getIndex(E[0]),0,o.a.sources.SILENT),this.tableSelection.setSelection(E[0].domNode.getBoundingClientRect(),E[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert row down",iconSrc:Ns.a,handler(){let E=o.a.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update(o.a.sources.USER),this.quill.setSelection(this.quill.getIndex(E[0]),0,o.a.sources.SILENT),this.tableSelection.setSelection(E[0].domNode.getBoundingClientRect(),E[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge selected cells",iconSrc:Il.a,handler(){let A=o.a.find(this.table),E=A.rows().reduce((k,D)=>{let O=a(D.domNode.getBoundingClientRect(),this.quill.root.parentNode);return O.y>this.boundary.y-Dt&&O.y+O.height<this.boundary.y+this.boundary.height+Dt&&(k+=1),k},0),b=this.columnToolCells.reduce((k,D)=>{let O=a(D.getBoundingClientRect(),this.quill.root.parentNode);return O.x>this.boundary.x-Dt&&O.x+O.width<this.boundary.x+this.boundary.width+Dt&&(k+=1),k},0),w=A.mergeCells(this.boundary,this.selectedTds,E,b,this.quill.root.parentNode);this.quill.update(o.a.sources.USER),this.tableSelection.setSelection(w.domNode.getBoundingClientRect(),w.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge cells",iconSrc:Fl.a,handler(){o.a.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update(o.a.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete selected columns",iconSrc:Eo.a,handler(){let A=o.a.find(this.table),E=wi(this.columnToolCells,this.boundary,(w,k)=>w.x+Dt>k.x&&w.x+w.width-Dt<k.x1,this.quill.root.parentNode);A.deleteColumns(this.boundary,E,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update(o.a.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete selected rows",iconSrc:Pi.a,handler(){o.a.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update(o.a.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete table",iconSrc:Ps.a,handler(){let A=this.quill.getModule("better-table"),E=o.a.find(this.table);A.hideTableTools(),E.remove(),this.quill.update(o.a.sources.USER)}}};class Ao{constructor(E,b,w){let k=b.getModule("better-table");this.tableSelection=k.tableSelection,this.table=E.table,this.quill=b,this.options=w,this.menuItems=Object.assign({},tn,w.items),this.tableColumnTool=k.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=w.color&&w.color.text?w.color.text:Nl,this.cellColors=w.color&&w.color.colors?w.color.colors:Qn,this.menuInitial(E),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial(E){let{table:b,left:w,top:k}=E;this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),s(this.domNode,{position:"absolute",left:"".concat(w,"px"),top:"".concat(k,"px"),"min-height":"".concat(dt,"px"),width:"".concat(Vi,"px")});for(let F in this.menuItems)this.menuItems[F]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},tn[F],this.menuItems[F]))),["insertRowDown","unmergeCells"].indexOf(F)>-1&&this.domNode.appendChild(D()));this.options.color&&this.options.color!==!1&&(this.domNode.appendChild(D()),this.domNode.appendChild(O(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)));function D(){let F=document.createElement("div");return F.classList.add("qlbt-operation-menu-dividing"),F}function O(F){let Y=document.createElement("div");return Y.classList.add("qlbt-operation-menu-subtitle"),Y.innerText=F,Y}}colorsItemCreator(E){let b=this,w=document.createElement("div");w.classList.add("qlbt-operation-color-picker"),E.forEach(D=>{let O=k(D);w.appendChild(O)});function k(D){let O=document.createElement("div");return O.classList.add("qlbt-operation-color-picker-item"),O.setAttribute("data-color",D),O.style.backgroundColor=D,O.addEventListener("click",function(){let F=b.tableSelection.selectedTds;F&&F.length>0&&F.forEach(Y=>{Y.format("cell-bg",D)})},!1),O}return w}menuItemCreator(E){let{text:b,iconSrc:w,handler:k}=E,D=document.createElement("div");D.classList.add("qlbt-operation-menu-item");let O=document.createElement("span");O.classList.add("qlbt-operation-menu-icon"),O.innerHTML=w;let F=document.createElement("span");return F.classList.add("qlbt-operation-menu-text"),F.innerText=b,D.appendChild(O),D.appendChild(F),D.addEventListener("click",k.bind(this),!1),D}}function Do(A,E,b,w){return A.reduce((k,D)=>{let O=a(D.getBoundingClientRect(),w);return b(O,E)&&(k=A.indexOf(D)),k},!1)}function wi(A,E,b,w){return A.reduce((k,D)=>{let O=a(D.getBoundingClientRect(),w);return b(O,E)&&k.push(A.indexOf(D)),k},[])}let Bi=o.a.import("delta");function Rl(A,E,b){let w=A.parentNode,k=w.parentNode.tagName==="TABLE"?w.parentNode:w.parentNode.parentNode,D=Array.from(k.querySelectorAll("tr")),O=Array.from(w.querySelectorAll("td")),F=D.indexOf(w)+1,Y=O.indexOf(A)+1,q=A.getAttribute("colspan")||!1,Q=A.getAttribute("rowspan")||!1,K=A.getAttribute("data-cell-bg")||A.style.backgroundColor;return E.length()===0?(E=new Bi().insert(`
`,{"table-cell-line":{row:F,cell:Y,rowspan:Q,colspan:q}}),E):(E=E.reduce((Z,ie)=>{if(ie.insert&&typeof ie.insert=="string"){let ke=[],ue=ie.insert,Ue=0;for(let at=0;at<ie.insert.length;at++)ue.charAt(at)===`
`&&(at===0||ke.push(ue.substring(Ue,at)),ke.push(`
`),Ue=at+1);let Xe=ue.substring(Ue);Xe&&ke.push(Xe),ke.forEach(at=>{at===`
`?Z.insert(`
`,ie.attributes):Z.insert(at,l(ie.attributes,["table","table-cell-line"]))})}else Z.insert(ie.insert,ie.attributes);return Z},new Bi),E.reduce((Z,ie)=>(ie.insert&&typeof ie.insert=="string"&&ie.insert.startsWith(`
`)?Z.insert(ie.insert,Object.assign({},Object.assign({},{row:F},ie.attributes.table),{"table-cell-line":{row:F,cell:Y,rowspan:Q,colspan:q,"cell-bg":K}},l(ie.attributes,["table"]))):ie.attributes&&ie.attributes.background&&ie.attributes.background===h(K)?Z.insert(ie.insert,Object.assign({},l(ie.attributes,["table","table-cell-line","background"]))):Z.insert(ie.insert,Object.assign({},l(ie.attributes,["table","table-cell-line"]))),Z),new Bi))}function $C(A,E,b){let w=A.parentNode,k=w.parentNode.tagName==="TABLE"?w.parentNode:w.parentNode.parentNode,D=Array.from(k.querySelectorAll("tr")),O=Array.from(w.querySelectorAll("th")),F=D.indexOf(w)+1,Y=O.indexOf(A)+1,q=A.getAttribute("colspan")||!1,Q=A.getAttribute("rowspan")||!1;return E.length()===0?(E=new Bi().insert(`
`,{"table-cell-line":{row:F,cell:Y,rowspan:Q,colspan:q}}),E):(E=E.reduce((K,Z)=>{if(Z.insert&&typeof Z.insert=="string"){let ie=[],ke=Z.insert,ue=0;for(let Xe=0;Xe<Z.insert.length;Xe++)ke.charAt(Xe)===`
`&&(Xe===0||ie.push(ke.substring(ue,Xe)),ie.push(`
`),ue=Xe+1);let Ue=ke.substring(ue);Ue&&ie.push(Ue),ie.indexOf(`
`)<0&&ie.push(`
`),ie.forEach(Xe=>{Xe===`
`?K.insert(`
`,{"table-cell-line":{row:F,cell:Y,rowspan:Q,colspan:q}}):K.insert(Xe,Z.attributes)})}else K.insert(Z.insert,Z.attributes);return K},new Bi),E.reduce((K,Z)=>(Z.insert&&typeof Z.insert=="string"&&Z.insert.startsWith(`
`)?K.insert(Z.insert,Object.assign({},{"table-cell-line":{row:F,cell:Y,rowspan:Q,colspan:q}})):K.insert(Z.insert,Object.assign({},l(Z.attributes,["table","table-cell-line"]))),K),new Bi))}function GC(A,E,b){let w=new Bi,k=A.querySelector("tr");if(k===null)return w;let O=Array.from(k.querySelectorAll("td")).concat(Array.from(k.querySelectorAll("th"))).reduce((Y,q)=>{let Q=q.getAttribute("colspan")||1;return Y=Y+parseInt(Q,10),Y},0),F=A.querySelectorAll("col").length;if(F===O)return E;{for(let q=0;q<O-F;q++)w.insert(`
`,{"table-col":!0});if(F===0)return w.concat(E);let Y=0;return E.reduce((q,Q)=>(q.insert(Q.insert,Q.attributes),Q.attributes&&Q.attributes["table-col"]&&(Y+=Q.insert.length,Y===F&&(q=q.concat(w))),q),new Bi)}}let qC=o.a.import("core/module"),UC=o.a.import("delta");class Sf extends qC{static register(){o.a.register(N,!0),o.a.register(z,!0),o.a.register(Ct,!0),o.a.register(ot,!0),o.a.register(Be,!0),o.a.register(Ce,!0),o.a.register($,!0),o.a.register(le,!0),o.a.register(le,!0)}constructor(E,b){super(E,b),this.quill.root.addEventListener("click",D=>{let O=c(D);if(!O||O.length<=0)return;let F=O.filter(Y=>Y.tagName&&Y.tagName.toUpperCase()==="TABLE"&&Y.classList.contains("quill-better-table"))[0];if(F){if(this.table===F)return;this.table&&this.hideTableTools(),this.showTableTools(F,E,b)}else this.table&&this.hideTableTools()},!1),this.quill.root.addEventListener("contextmenu",D=>{if(!this.table)return!0;D.preventDefault();let O=c(D);if(!O||O.length<=0)return;let F=O.filter(K=>K.tagName&&K.tagName.toUpperCase()==="TABLE"&&K.classList.contains("quill-better-table"))[0],Y=O.filter(K=>K.tagName&&K.tagName.toUpperCase()==="TR"&&K.getAttribute("data-row"))[0],q=O.filter(K=>K.tagName&&K.tagName.toUpperCase()==="TD"&&K.getAttribute("data-row"))[0],Q=this.tableSelection.selectedTds.map(K=>K.domNode).includes(q);(this.tableSelection.selectedTds.length<=0||!Q)&&this.tableSelection.setSelection(q.getBoundingClientRect(),q.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),F&&(this.tableOperationMenu=new Ao({table:F,row:Y,cell:q,left:D.pageX,top:D.pageY},E,b.operationMenu))},!1);let w=E.getModule("keyboard");E.keyboard.addBinding({key:"Backspace"},{},function(D,O){if(D.index===0||this.quill.getLength()<=1)return!0;let[F]=this.quill.getLine(D.index);if(O.offset===0){let[Y]=this.quill.getLine(D.index-1);if(Y!=null&&Y.statics.blotName==="table-cell-line"&&F.statics.blotName!=="table-cell-line")return!1}return!0});let k=E.keyboard.bindings.Backspace.pop();E.keyboard.bindings.Backspace.splice(0,1,k),E.clipboard.addMatcher("td",Rl),E.clipboard.addMatcher("th",$C),E.clipboard.addMatcher("table",GC),E.clipboard.matchers=E.clipboard.matchers.filter(D=>D[0]!=="tr")}getTable(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(E==null)return[null,null,null,-1];let[b,w]=this.quill.getLine(E.index);if(b==null||b.statics.blotName!==Ct.blotName)return[null,null,null,-1];let k=b.tableCell(),D=k.row();return[D.table(),D,k,w]}insertTable(E,b){let w=this.quill.getSelection(!0);if(w==null)return;let k=this.quill.getLeaf(w.index)[0],D=new UC().retain(w.index);if(kf(k)){console.warn("Can not insert table into a table cell.");return}D.insert(`
`),D=new Array(b).fill(`
`).reduce((O,F)=>(O.insert(F,{"table-col":!0}),O),D),D=new Array(E).fill(0).reduce(O=>{let F=ye();return new Array(b).fill(`
`).reduce((Y,q)=>(Y.insert(q,{"table-cell-line":{row:F,cell:W()}}),Y),O)},D),this.quill.updateContents(D,o.a.sources.USER),this.quill.setSelection(w.index+b+1,o.a.sources.API)}showTableTools(E,b,w){this.table=E,this.columnTool=new T(E,b,w),this.tableSelection=new Xn(E,b,w)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}Sf.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(A,E){let[b,w]=this.quill.getLine(A.index);return!(!b.prev||b.prev.statics.blotName!=="table-cell-line")}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(A,E){if(this.quill.selection&&this.quill.selection.composing)return;let b=o.a.imports.parchment.Scope;A.length>0&&this.quill.scroll.deleteAt(A.index,A.length);let w=Object.keys(E.format).reduce((k,D)=>(this.quill.scroll.query(D,b.BLOCK)&&!Array.isArray(E.format[D])&&(k[D]=E.format[D]),k),{});this.quill.insertText(A.index,`
`,w["table-cell-line"],o.a.sources.USER),this.quill.setSelection(A.index+1,o.a.sources.SILENT),this.quill.focus(),Object.keys(E.format).forEach(k=>{w[k]==null&&(Array.isArray(E.format[k])||k!=="link"&&this.quill.format(k,E.format[k],o.a.sources.USER))})}},"table-cell-line up":Tf(!0),"table-cell-line down":Tf(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(A,E){let b=E.line.next;if(b&&b.statics.blotName==="table-view"){let k=b.table().rows()[0].children.head.children.head;return this.quill.setSelection(k.offset(this.quill.scroll),0,o.a.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(A,E){let b=E.line.prev;if(b&&b.statics.blotName==="table-view"){let w=b.table().rows(),D=w[w.length-1].children.head.children.head;return this.quill.setSelection(D.offset(this.quill.scroll),0,o.a.sources.USER),!1}return!0}}};function Tf(A){return{key:A?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(E,b){let w=A?"prev":"next";if(b.line[w]!=null)return!0;let D=b.line.parent,O=D.parent[w];if(O!=null&&O.statics.blotName==="table-row"){let F=O.children.head,Y=parseInt(F.formats().colspan,10),q=D,Q=parseInt(q.formats().colspan,10);for(;q.prev!=null;)q=q.prev,Q+=parseInt(q.formats().colspan,10);for(;F.next!=null&&Y<Q;)F=F.next,Y+=parseInt(F.formats().colspan,10);let K=F.offset(this.quill.scroll);this.quill.setSelection(K,0,o.a.sources.USER)}else{let F=D.table().parent[w];F!=null&&(A?this.quill.setSelection(F.offset(this.quill.scroll)+F.length()-1,0,o.a.sources.USER):this.quill.setSelection(F.offset(this.quill.scroll),0,o.a.sources.USER))}return!1}}}function WC(A){return A.statics.blotName===ot.blotName}function kf(A){return A&&A.parent?WC(A.parent)?!0:kf(A.parent):!1}var m5=e.default=Sf},,function(t,e,n){t.exports=n(10)}]).default})});var Zs=class{},ic=class{},ki=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Xu=class{encodeKey(t){return Og(t)}encodeValue(t){return Og(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function QC(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var KC=/%(\d[a-f0-9])/gi,JC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Og(i){return encodeURIComponent(i).replace(KC,(t,e)=>JC[e]??t)}function tc(i){return`${i}`}var or=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Xu,t.fromString){if(t.fromObject)throw new Ae(2805,!1);this.map=QC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(tc):[tc(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(tc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(tc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Yu=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ZC(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fg(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Ng(i){return typeof Blob<"u"&&i instanceof Blob}function Rg(i){return typeof FormData<"u"&&i instanceof FormData}function ew(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Pg="Content-Type",Vg="Accept",jg="X-Request-URL",$g="text/plain",Gg="application/json",tw=`${Gg}, ${$g}, */*`,Js=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(ZC(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ki,this.context??=new Yu,!this.params)this.params=new or,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fg(this.body)||Ng(this.body)||Rg(this.body)||ew(this.body)?this.body:this.body instanceof or?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Rg(this.body)?null:Ng(this.body)?this.body.type||null:Fg(this.body)?null:typeof this.body=="string"?$g:this.body instanceof or?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Gg:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,h=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,v)=>f.set(v,t.setHeaders[v]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((f,v)=>f.set(v,t.setParams[v]),h)),new i(e,n,s,{params:h,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Ho=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Ho||{}),ea=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new ki,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Qu=class i extends ea{constructor(t={}){super(t)}type=Ho.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nc=class i extends ea{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ho.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},rc=class extends ea{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},iw=200,nw=204;function Wu(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var An=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Js)o=e;else{let l;r.headers instanceof ki?l=r.headers:l=new ki(r.headers);let c;r.params&&(r.params instanceof or?c=r.params:c=new or({fromObject:r.params})),o=new Js(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=ee(o).pipe(Jn(l=>this.handler.handle(l)));if(e instanceof Js||r.observe==="events")return s;let a=s.pipe(mi(l=>l instanceof nc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ve(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ae(2806,!1);return l.body}));case"blob":return a.pipe(ve(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ae(2807,!1);return l.body}));case"text":return a.pipe(ve(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ae(2808,!1);return l.body}));case"json":default:return a.pipe(ve(l=>l.body))}case"response":return a;default:throw new Ae(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new or().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Wu(r,n))}post(e,n,r={}){return this.request("POST",e,Wu(r,n))}put(e,n,r={}){return this.request("PUT",e,Wu(r,n))}static \u0275fac=function(n){return new(n||i)(re(Zs))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var rw=new we("");function qg(i,t){return t(i)}function ow(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function sw(i,t,e){return(n,r)=>zi(e,()=>t(n,o=>i(o,r)))}var aw=new we(""),Ku=new we(""),lw=new we(""),Ug=new we("",{providedIn:"root",factory:()=>!0});function cw(){let i=null;return(t,e)=>{i===null&&(i=(G(aw,{optional:!0})??[]).reduceRight(ow,qg));let n=G(zs);if(G(Ug)){let o=n.add();return i(t,e).pipe(Or(()=>n.remove(o)))}else return i(t,e)}}var Bg=(()=>{class i extends Zs{backend;injector;chain=null;pendingTasks=G(zs);contributeToStability=G(Ug);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Ku),...this.injector.get(lw,[])]));this.chain=n.reduceRight((r,o)=>sw(r,o,this.injector),qg)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Or(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(re(ic),re(Fr))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var dw=/^\)\]\}',?\n/,uw=RegExp(`^${jg}:`,"m");function hw(i){return"responseURL"in i&&i.responseURL?i.responseURL:uw.test(i.getAllResponseHeaders())?i.getResponseHeader(jg):null}var zg=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ae(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?pt(n.\u0275loadImpl()):ee(null)).pipe(Lt(()=>new Lo(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,T)=>s.setRequestHeader(S,T.join(","))),e.headers.has(Vg)||s.setRequestHeader(Vg,tw),!e.headers.has(Pg)){let S=e.detectContentTypeHeader();S!==null&&s.setRequestHeader(Pg,S)}if(e.responseType){let S=e.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let S=s.statusText||"OK",T=new ki(s.getAllResponseHeaders()),P=hw(s)||e.url;return l=new Qu({headers:T,status:s.status,statusText:S,url:P}),l},h=()=>{let{headers:S,status:T,statusText:P,url:me}=c(),te=null;T!==nw&&(te=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=te?iw:0);let Qe=T>=200&&T<300;if(e.responseType==="json"&&typeof te=="string"){let Pe=te;te=te.replace(dw,"");try{te=te!==""?JSON.parse(te):null}catch(Ke){te=Pe,Qe&&(Qe=!1,te={error:Ke,text:te})}}Qe?(o.next(new nc({body:te,headers:S,status:T,statusText:P,url:me||void 0})),o.complete()):o.error(new rc({error:te,headers:S,status:T,statusText:P,url:me||void 0}))},p=S=>{let{url:T}=c(),P=new rc({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(P)},f=!1,v=S=>{f||(o.next(c()),f=!0);let T={type:Ho.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),e.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},x=S=>{let T={type:Ho.UploadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Ho.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(re(Jl))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Wg=new we(""),pw="XSRF-TOKEN",mw=new we("",{providedIn:"root",factory:()=>pw}),fw="X-XSRF-TOKEN",gw=new we("",{providedIn:"root",factory:()=>fw}),oc=class{},vw=(()=>{class i{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kl(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)(re(gt),re(ni),re(mw))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function xw(i,t){let e=i.url.toLowerCase();if(!G(Wg)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=G(oc).getToken(),r=G(gw);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Xg=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Xg||{});function _w(i,t){return{\u0275kind:i,\u0275providers:t}}function yw(...i){let t=[An,zg,Bg,{provide:Zs,useExisting:Bg},{provide:ic,useFactory:()=>G(rw,{optional:!0})??G(zg)},{provide:Ku,useValue:xw,multi:!0},{provide:Wg,useValue:!0},{provide:oc,useClass:vw}];for(let e of i)t.push(...e.\u0275providers);return nn(t)}var Hg=new we("");function bw(){return _w(Xg.LegacyInterceptors,[{provide:Hg,useFactory:cw},{provide:Ku,useExisting:Hg,multi:!0}])}var Yg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({providers:[yw(bw())]})}return i})();var Zu=class extends gg{supportsDOMEvents=!0},eh=class i extends Zu{static makeCurrent(){fg(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=ww();return e==null?null:Sw(e)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Kl(document.cookie,t)}},ta=null;function ww(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}function Sw(i){return new URL(i,document.baseURI).pathname}var th=class{addToWindow(t){er.getAngularTestability=(n,r=!0)=>{let o=t.findTestabilityInTree(n,r);if(o==null)throw new Ae(5103,!1);return o},er.getAllAngularTestabilities=()=>t.getAllTestabilities(),er.getAllAngularRootElements=()=>t.getAllRootElements();let e=n=>{let r=er.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};er.frameworkStabilizers||(er.frameworkStabilizers=[]),er.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,n){if(e==null)return null;let r=t.getTestability(e);return r??(n?Vr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},Tw=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),ih=new we(""),t0=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Ae(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(re(ih),re(lt))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),lc=class{_doc;constructor(t){this._doc=t}manager},ac="ng-app-id";function Qg(i){for(let t of i)t.remove()}function Kg(i,t){let e=t.createElement("style");return e.textContent=i,e}function kw(i,t,e,n){let r=i.head?.querySelectorAll(`style[${ac}="${t}"],link[${ac}="${t}"]`);if(r)for(let o of r)o.removeAttribute(ac),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function nh(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var i0=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=rr(o),kw(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Kg);n?.forEach(r=>this.addUsage(r,this.external,nh))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Qg(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Qg(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Kg(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,nh(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(ac,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(re(gt),re(Fu),re(Nu,8),re(ni))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Ju={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},oh=/%COMP%/g;var n0="%COMP%",Ew=`_nghost-${n0}`,Mw=`_ngcontent-${n0}`,Aw=!0,Dw=new we("",{providedIn:"root",factory:()=>Aw});function Lw(i){return Mw.replace(oh,i)}function Iw(i){return Ew.replace(oh,i)}function r0(i,t){return t.map(e=>e.replace(oh,i))}var jo=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,a,l,c=null,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=h,this.platformIsServer=rr(a),this.defaultRenderer=new ia(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===$s.ShadowDom&&(n=be(R({},n),{encapsulation:$s.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof cc?r.applyToHost(e):r instanceof na&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,f=this.tracingService;switch(n.encapsulation){case $s.Emulated:o=new cc(l,c,n,this.appId,h,s,a,p,f);break;case $s.ShadowDom:return new rh(l,c,e,n,s,a,this.nonce,p,f);default:o=new na(l,c,n,h,s,a,p,f);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(re(t0),re(i0),re(Fu),re(Dw),re(gt),re(ni),re(lt),re(Nu),re(Wf,8))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ju[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Jg(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Jg(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Ae(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Ju[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Ju[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Gs.DashCase|Gs.Important)?t.style.setProperty(e,n,r&Gs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Gs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=Vr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(n);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Jg(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var rh=class extends ia{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=r0(r.id,h);for(let f of h){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=f,this.shadowRoot.appendChild(v)}let p=r.getExternalStyles?.();if(p)for(let f of p){let v=nh(f,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},na=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let h=n.styles;this.styles=c?r0(c,h):h,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cc=class extends na{contentAttr;hostAttr;constructor(t,e,n,r,o,s,a,l,c){let h=r+"-"+n.id;super(t,e,n,o,s,a,l,c,h),this.contentAttr=Lw(h),this.hostAttr=Iw(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},Ow=(()=>{class i extends lc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(re(gt))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Zg=["alt","control","meta","shift"],Fw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nw={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Rw=(()=>{class i extends lc{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),a=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Zg.forEach(c=>{let h=n.indexOf(c);h>-1&&(n.splice(h,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=Fw[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Zg.forEach(s=>{if(s!==r){let a=Nw[s];a(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(re(gt))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function o0(i,t){return pg(R({rootComponent:i},Pw(t)))}function Pw(i){return{appProviders:[...s0,...i?.providers??[]],platformProviders:Hw}}function Vw(){eh.makeCurrent()}function Bw(){return new Ou}function zw(){return qf(document),document}var Hw=[{provide:ni,useValue:Cg},{provide:Uf,useValue:Vw,multi:!0},{provide:gt,useFactory:zw,deps:[]}];var jw=[{provide:Gl,useClass:th,deps:[]},{provide:lg,useClass:ql,deps:[lt,Bu,Gl]},{provide:ql,useClass:ql,deps:[lt,Bu,Gl]}],s0=[{provide:Hf,useValue:"root"},{provide:Ou,useFactory:Bw,deps:[]},{provide:ih,useClass:Ow,multi:!0,deps:[gt,lt,ni]},{provide:ih,useClass:Rw,multi:!0,deps:[gt]},jo,i0,t0,{provide:Vo,useExisting:jo},{provide:Jl,useClass:Tw,deps:[]},[]],a0=(()=>{class i{constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({providers:[...s0,...jw],imports:[se,hg]})}return i})();var l0=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(re(gt))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ra=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=re($w),r},providedIn:"root"})}return i})(),$w=(()=>{class i extends ra{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case kn.NONE:return n;case kn.HTML:return Po(n,"HTML")?Ro(n):tg(this._doc,String(n)).toString();case kn.STYLE:return Po(n,"Style")?Ro(n):n;case kn.SCRIPT:if(Po(n,"Script"))return Ro(n);throw new Ae(5200,!1);case kn.URL:return Po(n,"URL")?Ro(n):eg(String(n));case kn.RESOURCE_URL:if(Po(n,"ResourceURL"))return Ro(n);throw new Ae(5201,!1);default:throw new Ae(5202,!1)}}bypassSecurityTrustHtml(e){return Yf(e)}bypassSecurityTrustStyle(e){return Qf(e)}bypassSecurityTrustScript(e){return Kf(e)}bypassSecurityTrustUrl(e){return Jf(e)}bypassSecurityTrustResourceUrl(e){return Zf(e)}static \u0275fac=function(n){return new(n||i)(re(gt))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Se="primary",xa=Symbol("RouteTitle"),dh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Xo(i){return new dh(i)}function Gw(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function qw(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!dn(i[e],t[e]))return!1;return!0}function dn(i,t){let e=i?uh(i):void 0,n=t?uh(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!_0(i[r],t[r]))return!1;return!0}function uh(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function _0(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function y0(i){return i.length>0?i[i.length-1]:null}function ar(i){return Io(i)?i:Ul(i)?pt(Promise.resolve(i)):ee(i)}var Uw={exact:C0,subset:w0},b0={exact:Ww,subset:Xw,ignored:()=>!0};function d0(i,t,e){return Uw[e.paths](i.root,t.root,e.matrixParams)&&b0[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function Ww(i,t){return dn(i,t)}function C0(i,t,e){if(!Hr(i.segments,t.segments)||!hc(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!C0(i.children[n],t.children[n],e))return!1;return!0}function Xw(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>_0(i[e],t[e]))}function w0(i,t,e){return S0(i,t,t.segments,e)}function S0(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Hr(r,e)||t.hasChildren()||!hc(r,e,n))}else if(i.segments.length===e.length){if(!Hr(i.segments,e)||!hc(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!w0(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Hr(i.segments,r)||!hc(i.segments,r,n)||!i.children[Se]?!1:S0(i.children[Se],t,o,n)}}function hc(i,t,e){return t.every((n,r)=>b0[e](i[r].parameters,n.parameters))}var Ln=class{root;queryParams;fragment;_queryParamMap;constructor(t=new He([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return Kw.serialize(this)}},He=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pc(this)}},zr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return k0(this)}};function Yw(i,t){return Hr(i,t)&&i.every((e,n)=>dn(e.parameters,t[n].parameters))}function Hr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Qw(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Se&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Se&&(e=e.concat(t(r,n)))}),e}var _a=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:()=>new Yo,providedIn:"root"})}return i})(),Yo=class{parse(t){let e=new ph(t);return new Ln(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${oa(t.root,!0)}`,n=eS(t.queryParams),r=typeof t.fragment=="string"?`#${Jw(t.fragment)}`:"";return`${e}${n}${r}`}},Kw=new Yo;function pc(i){return i.segments.map(t=>k0(t)).join("/")}function oa(i,t){if(!i.hasChildren())return pc(i);if(t){let e=i.children[Se]?oa(i.children[Se],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Se&&n.push(`${r}:${oa(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Qw(i,(n,r)=>r===Se?[oa(i.children[Se],!1)]:[`${r}:${oa(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Se]!=null?`${pc(i)}/${e[0]}`:`${pc(i)}/(${e.join("//")})`}}function T0(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dc(i){return T0(i).replace(/%3B/gi,";")}function Jw(i){return encodeURI(i)}function hh(i){return T0(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mc(i){return decodeURIComponent(i)}function u0(i){return mc(i.replace(/\+/g,"%20"))}function k0(i){return`${hh(i.path)}${Zw(i.parameters)}`}function Zw(i){return Object.entries(i).map(([t,e])=>`;${hh(t)}=${hh(e)}`).join("")}function eS(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${dc(e)}=${dc(r)}`).join("&"):`${dc(e)}=${dc(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var tS=/^[^\/()?;#]+/;function sh(i){let t=i.match(tS);return t?t[0]:""}var iS=/^[^\/()?;=#]+/;function nS(i){let t=i.match(iS);return t?t[0]:""}var rS=/^[^=?&#]+/;function oS(i){let t=i.match(rS);return t?t[0]:""}var sS=/^[^&#]+/;function aS(i){let t=i.match(sS);return t?t[0]:""}var ph=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Se]=new He(t,e)),n}parseSegment(){let t=sh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ae(4009,!1);return this.capture(t),new zr(mc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=nS(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=sh(this.remaining);r&&(n=r,this.capture(n))}t[mc(e)]=mc(n)}parseQueryParam(t){let e=oS(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=aS(this.remaining);s&&(n=s,this.capture(n))}let r=u0(e),o=u0(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=sh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ae(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Se);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Se]:new He([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ae(4011,!1)}};function E0(i){return i.segments.length>0?new He([],{[Se]:i}):i}function M0(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=M0(r);if(n===Se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new He(i.segments,t);return lS(e)}function lS(i){if(i.numberOfChildren===1&&i.children[Se]){let t=i.children[Se];return new He(i.segments.concat(t.segments),t.children)}return i}function jr(i){return i instanceof Ln}function cS(i,t,e=null,n=null){let r=A0(i);return D0(r,t,e,n)}function A0(i){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new He(o.url,s);return o===i&&(t=a),a}let n=e(i.root),r=E0(n);return t??r}function D0(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return ah(r,r,r,e,n);let o=dS(t);if(o.toRoot())return ah(r,r,new He([],{}),e,n);let s=uS(o,r,i),a=s.processChildren?aa(s.segmentGroup,s.index,o.commands):I0(s.segmentGroup,s.index,o.commands);return ah(r,s.segmentGroup,a,e,n)}function fc(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function da(i){return typeof i=="object"&&i!=null&&i.outlets}function ah(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let s;i===t?s=e:s=L0(i,t,e);let a=E0(M0(s));return new Ln(a,o,r)}function L0(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=L0(o,t,e)}),new He(i.segments,n)}var gc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fc(n[0]))throw new Ae(4003,!1);let r=n.find(da);if(r&&r!==y0(n))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dS(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new gc(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new gc(e,t,n)}var qo=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function uS(i,t,e){if(i.isAbsolute)return new qo(t,!0,0);if(!e)return new qo(t,!1,NaN);if(e.parent===null)return new qo(e,!0,0);let n=fc(i.commands[0])?0:1,r=e.segments.length-1+n;return hS(e,r,i.numberOfDoubleDots)}function hS(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Ae(4005,!1);r=n.segments.length}return new qo(n,!1,r-o)}function pS(i){return da(i[0])?i[0].outlets:{[Se]:i}}function I0(i,t,e){if(i??=new He([],{}),i.segments.length===0&&i.hasChildren())return aa(i,t,e);let n=mS(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new He(i.segments.slice(0,n.pathIndex),{});return o.children[Se]=new He(i.segments.slice(n.pathIndex),i.children),aa(o,0,r)}else return n.match&&r.length===0?new He(i.segments,{}):n.match&&!i.hasChildren()?mh(i,t,e):n.match?aa(i,0,r):mh(i,t,e)}function aa(i,t,e){if(e.length===0)return new He(i.segments,{});{let n=pS(e),r={};if(Object.keys(n).some(o=>o!==Se)&&i.children[Se]&&i.numberOfChildren===1&&i.children[Se].segments.length===0){let o=aa(i.children[Se],t,e);return new He(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=I0(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new He(i.segments,r)}}function mS(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],a=e[n];if(da(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!p0(l,c,s))return o;n+=2}else{if(!p0(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function mh(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(da(o)){let l=fS(o.outlets);return new He(n,l)}if(r===0&&fc(e[0])){let l=i.segments[t];n.push(new zr(l.path,h0(e[0]))),r++;continue}let s=da(o)?o.outlets[Se]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&fc(a)?(n.push(new zr(s,h0(a))),r+=2):(n.push(new zr(s,{})),r++)}return new He(n,{})}function fS(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=mh(new He([],{}),0,n))}),t}function h0(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function p0(i,t,e){return i==e.path&&dn(t,e.parameters)}var la="imperative",It=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(It||{}),Hi=class{id;url;constructor(t,e){this.id=t,this.url=e}},Qo=class extends Hi{type=It.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Hi{urlAfterRedirects;type=It.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mi=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Mi||{}),vc=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(vc||{}),Dn=class extends Hi{reason;code;type=It.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends Hi{reason;code;type=It.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},ua=class extends Hi{error;target;type=It.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xc=class extends Hi{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends Hi{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gh=class extends Hi{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vh=class extends Hi{urlAfterRedirects;state;type=It.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class extends Hi{urlAfterRedirects;state;type=It.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_h=class{route;type=It.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yh=class{route;type=It.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bh=class{snapshot;type=It.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ch=class{snapshot;type=It.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{snapshot;type=It.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sh=class{snapshot;type=It.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_c=class{routerEvent;position;anchor;type=It.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ha=class{},Ko=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function gS(i,t){return i.providers&&!i._injector&&(i._injector=Ru(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Qi(i){return i.outlet||Se}function vS(i,t){let e=i.filter(n=>Qi(n)===t);return e.push(...i.filter(n=>Qi(n)!==t)),e}function ya(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Th=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ya(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ba(this.rootInjector)}},ba=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Th(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(re(Fr))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),yc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=kh(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=kh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Eh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Eh(t,this._root).map(e=>e.value)}};function kh(i,t){if(i===t.value)return t;for(let e of t.children){let n=kh(i,e);if(n)return n}return null}function Eh(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Eh(i,e);if(n.length)return n.unshift(t),n}return[]}var Ei=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Go(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var bc=class extends yc{snapshot;constructor(t,e){super(t),this.snapshot=e,Rh(this,t)}toString(){return this.snapshot.toString()}};function O0(i){let t=xS(i),e=new ht([new zr("",{})]),n=new ht({}),r=new ht({}),o=new ht({}),s=new ht(""),a=new xi(e,n,o,s,r,Se,i,t.root);return a.snapshot=t.root,new bc(new Ei(a,[]),t)}function xS(i){let t={},e={},n={},r="",o=new Uo([],t,n,r,e,Se,i,null,{});return new wc("",new Ei(o,[]))}var xi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ve(c=>c[xa]))??ee(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(t=>Xo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(t=>Xo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cc(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:R(R({},t.params),i.params),data:R(R({},t.data),i.data),resolve:R(R(R(R({},i.data),t.data),r?.data),i._resolvedData)}:n={params:R({},i.params),data:R({},i.data),resolve:R(R({},i.data),i._resolvedData??{})},r&&N0(r)&&(n.resolve[xa]=r.title),n}var Uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xa]}constructor(t,e,n,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},wc=class extends yc{url;constructor(t,e){super(e),this.url=t,Rh(this,e)}toString(){return F0(this._root)}};function Rh(i,t){t.value._routerState=i,t.children.forEach(e=>Rh(i,e))}function F0(i){let t=i.children.length>0?` { ${i.children.map(F0).join(", ")} } `:"";return`${i.value}${t}`}function lh(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,dn(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),dn(t.params,e.params)||i.paramsSubject.next(e.params),qw(t.url,e.url)||i.urlSubject.next(e.url),dn(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Mh(i,t){let e=dn(i.params,t.params)&&Yw(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||Mh(i.parent,t.parent))}function N0(i){return typeof i.title=="string"||i.title===null}var _S=new we(""),$r=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Se;activateEvents=new ae;deactivateEvents=new ae;attachEvents=new ae;detachEvents=new ae;routerOutletData=ze(void 0);parentContexts=G(ba);location=G(qs);changeDetector=G(ln);inputBinder=G(Ec,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Ae(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ah(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Je({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ze]})}return i})(),Ah=class i{route;childContexts;parent;outletData;__ngOutletInjector(t){return new i(this.route,this.childContexts,t,this.outletData)}constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===xi?this.route:t===ba?this.childContexts:t===_S?this.outletData:this.parent.get(t,e)}},Ec=new we(""),m0=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=zl([n.queryParams,n.params,n.data]).pipe(Lt(([o,s,a],l)=>(a=R(R(R({},o),s),a),l===0?ee(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=mg(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function yS(i,t,e){let n=pa(i,t._root,e?e._root:void 0);return new bc(n,t)}function pa(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=bS(i,t,e);return new Ei(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>pa(i,a)),s}}let n=CS(t.value),r=t.children.map(o=>pa(i,o));return new Ei(n,r)}}function bS(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return pa(i,n,r);return pa(i,n)})}function CS(i){return new xi(new ht(i.url),new ht(i.params),new ht(i.queryParams),new ht(i.fragment),new ht(i.data),i.outlet,i.component,i)}var ma=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},R0="ngNavigationCancelingError";function Sc(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=jr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=P0(!1,Mi.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function P0(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[R0]=!0,e.cancellationCode=t,e}function wS(i){return V0(i)&&jr(i.url)}function V0(i){return!!i&&i[R0]}var SS=(i,t,e,n)=>ve(r=>(new Dh(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),Dh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Go(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Go(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Go(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Go(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Sh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ch(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(lh(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},Tc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Wo=class{component;route;constructor(t,e){this.component=t,this.route=e}};function TS(i,t,e){let n=i._root,r=t?t._root:null;return sa(n,r,e,[n.value])}function kS(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function Zo(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!zf(i)?i:t.get(i):n}function sa(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Go(t);return i.children.forEach(s=>{ES(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ca(a,e.getContext(s),r)),r}function ES(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=MS(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Tc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sa(i,t,a?a.children:null,n,r):sa(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Wo(a.outlet.component,s))}else s&&ca(t,a,r),r.canActivateChecks.push(new Tc(n)),o.component?sa(i,null,a?a.children:null,n,r):sa(i,null,e,n,r);return r}function MS(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Hr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Hr(i.url,t.url)||!dn(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mh(i,t)||!dn(i.queryParams,t.queryParams);case"paramsChange":default:return!Mh(i,t)}}function ca(i,t,e){let n=Go(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?ca(s,t.children.getContext(o),e):ca(s,null,e):ca(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Wo(t.outlet.component,r)):e.canDeactivateChecks.push(new Wo(null,r)):e.canDeactivateChecks.push(new Wo(null,r))}function Ca(i){return typeof i=="function"}function AS(i){return typeof i=="boolean"}function DS(i){return i&&Ca(i.canLoad)}function LS(i){return i&&Ca(i.canActivate)}function IS(i){return i&&Ca(i.canActivateChild)}function OS(i){return i&&Ca(i.canDeactivate)}function FS(i){return i&&Ca(i.canMatch)}function B0(i){return i instanceof If||i?.name==="EmptyError"}var uc=Symbol("INITIAL_VALUE");function Jo(){return Lt(i=>zl(i.map(t=>t.pipe(fi(1),Bf(uc)))).pipe(ve(t=>{for(let e of t)if(e!==!0){if(e===uc)return uc;if(e===!1||NS(e))return e}return!0}),mi(t=>t!==uc),fi(1)))}function NS(i){return jr(i)||i instanceof ma}function RS(i,t){return ii(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?ee(be(R({},e),{guardsResult:!0})):PS(s,n,r,i).pipe(ii(a=>a&&AS(a)?VS(n,o,i,t):ee(a)),ve(a=>be(R({},e),{guardsResult:a})))})}function PS(i,t,e,n){return pt(i).pipe(ii(r=>$S(r.component,r.route,e,t,n)),Zn(r=>r!==!0,!0))}function VS(i,t,e,n){return pt(t).pipe(Jn(r=>Hl(zS(r.route.parent,n),BS(r.route,n),jS(i,r.path,e),HS(i,r.route,e))),Zn(r=>r!==!0,!0))}function BS(i,t){return i!==null&&t&&t(new wh(i)),ee(!0)}function zS(i,t){return i!==null&&t&&t(new bh(i)),ee(!0)}function HS(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ee(!0);let r=n.map(o=>Kn(()=>{let s=ya(t)??e,a=Zo(o,s),l=LS(a)?a.canActivate(t,i):zi(s,()=>a(t,i));return ar(l).pipe(Zn())}));return ee(r).pipe(Jo())}function jS(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>kS(s)).filter(s=>s!==null).map(s=>Kn(()=>{let a=s.guards.map(l=>{let c=ya(s.node)??e,h=Zo(l,c),p=IS(h)?h.canActivateChild(n,i):zi(c,()=>h(n,i));return ar(p).pipe(Zn())});return ee(a).pipe(Jo())}));return ee(o).pipe(Jo())}function $S(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let l=ya(t)??r,c=Zo(a,l),h=OS(c)?c.canDeactivate(i,t,e,n):zi(l,()=>c(i,t,e,n));return ar(h).pipe(Zn())});return ee(s).pipe(Jo())}function GS(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return ee(!0);let o=r.map(s=>{let a=Zo(s,i),l=DS(a)?a.canLoad(t,e):zi(i,()=>a(t,e));return ar(l)});return ee(o).pipe(Jo(),z0(n))}function z0(i){return Df(mt(t=>{if(typeof t!="boolean")throw Sc(i,t)}),ve(t=>t===!0))}function qS(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return ee(!0);let o=r.map(s=>{let a=Zo(s,i),l=FS(a)?a.canMatch(t,e):zi(i,()=>a(t,e));return ar(l)});return ee(o).pipe(Jo(),z0(n))}var fa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ga=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function $o(i){return Ir(new fa(i))}function US(i){return Ir(new Ae(4e3,!1))}function WS(i){return Ir(P0(!1,Mi.GuardRejected))}var Lh=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return ee(n);if(r.numberOfChildren>1||!r.children[Se])return US(`${t.redirectTo}`);r=r.children[Se]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:h,url:p,outlet:f,params:v,data:x,title:S}=r,T=zi(o,()=>a({params:v,data:x,queryParams:l,fragment:c,routeConfig:h,url:p,outlet:f,title:S}));if(T instanceof Ln)throw new ga(T);e=T}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new ga(s);return s}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new Ln(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new He(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new Ae(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Ih={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XS(i,t,e,n,r){let o=H0(i,t,e);return o.matched?(n=gS(t,n),qS(n,t,e,r).pipe(ve(s=>s===!0?o:R({},Ih)))):ee(o)}function H0(i,t,e){if(t.path==="**")return YS(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?R({},Ih):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Gw)(e,i,t);if(!r)return R({},Ih);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?R(R({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function YS(i){return{matched:!0,parameters:i.length>0?y0(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function f0(i,t,e,n){return e.length>0&&JS(i,e,n)?{segmentGroup:new He(t,KS(n,new He(e,i.children))),slicedSegments:[]}:e.length===0&&ZS(i,e,n)?{segmentGroup:new He(i.segments,QS(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new He(i.segments,i.children),slicedSegments:e}}function QS(i,t,e,n){let r={};for(let o of e)if(Mc(i,t,o)&&!n[Qi(o)]){let s=new He([],{});r[Qi(o)]=s}return R(R({},n),r)}function KS(i,t){let e={};e[Se]=t;for(let n of i)if(n.path===""&&Qi(n)!==Se){let r=new He([],{});e[Qi(n)]=r}return e}function JS(i,t,e){return e.some(n=>Mc(i,t,n)&&Qi(n)!==Se)}function ZS(i,t,e){return e.some(n=>Mc(i,t,n))}function Mc(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function eT(i,t,e){return t.length===0&&!i.children[e]}var Oh=class{};function tT(i,t,e,n,r,o,s="emptyOnly"){return new Fh(i,t,e,n,r,s,o).recognize()}var iT=31,Fh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lh(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=f0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ve(({children:e,rootSnapshot:n})=>{let r=new Ei(n,e),o=new wc("",r),s=cS(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Uo([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Se,e).pipe(ve(n=>({children:n,rootSnapshot:e})),Fo(n=>{if(n instanceof ga)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof fa?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(ve(s=>s instanceof Ei?[s]:[]))}processChildren(t,e,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return pt(o).pipe(Jn(s=>{let a=n.children[s],l=vS(e,s);return this.processSegmentGroup(t,l,a,s,r)}),Pf((s,a)=>(s.push(...a),s)),Au(null),Nf(),ii(s=>{if(s===null)return $o(n);let a=j0(s);return nT(a),ee(a)}))}processSegment(t,e,n,r,o,s,a){return pt(e).pipe(Jn(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,s,a).pipe(Fo(c=>{if(c instanceof fa)return ee(null);throw c}))),Zn(l=>!!l),Fo(l=>{if(B0(l))return eT(n,r,o)?ee(new Oh):$o(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,s,a,l){return Qi(n)!==s&&(s===Se||!Mc(r,o,n))?$o(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,l):$o(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:p,remainingSegments:f}=H0(e,r,o);if(!l)return $o(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iT&&(this.allowRedirects=!1));let v=new Uo(o,c,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,g0(r),Qi(r),r.component??r._loadedComponent??null,r,v0(r)),x=Cc(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(x.params),v.data=Object.freeze(x.data);let S=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,v,t);return this.applyRedirects.lineralizeSegments(r,S).pipe(ii(T=>this.processSegment(t,n,e,T.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a=XS(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(Lt(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Lt(({routes:c})=>{let h=n._loadedInjector??t,{parameters:p,consumedSegments:f,remainingSegments:v}=l,x=new Uo(f,p,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,g0(n),Qi(n),n.component??n._loadedComponent??null,n,v0(n)),S=Cc(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(S.params),x.data=Object.freeze(S.data);let{segmentGroup:T,slicedSegments:P}=f0(e,f,v,c);if(P.length===0&&T.hasChildren())return this.processChildren(h,c,T,x).pipe(ve(te=>new Ei(x,te)));if(c.length===0&&P.length===0)return ee(new Ei(x,[]));let me=Qi(n)===o;return this.processSegment(h,c,T,P,me?Se:o,!0,x).pipe(ve(te=>new Ei(x,te instanceof Ei?[te]:[])))}))):$o(e)))}getChildConfig(t,e,n){return e.children?ee({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ee({routes:e._loadedRoutes,injector:e._loadedInjector}):GS(t,e,n,this.urlSerializer).pipe(ii(r=>r?this.configLoader.loadChildren(t,e).pipe(mt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):WS(e))):ee({routes:[],injector:t})}};function nT(i){i.sort((t,e)=>t.value.outlet===Se?-1:e.value.outlet===Se?1:t.value.outlet.localeCompare(e.value.outlet))}function rT(i){let t=i.value.routeConfig;return t&&t.path===""}function j0(i){let t=[],e=new Set;for(let n of i){if(!rT(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=j0(n.children);t.push(new Ei(n.value,r))}return t.filter(n=>!e.has(n))}function g0(i){return i.data||{}}function v0(i){return i.resolve||{}}function oT(i,t,e,n,r,o){return ii(s=>tT(i,t,e,n,s.extractedUrl,r,o).pipe(ve(({state:a,tree:l})=>be(R({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function sT(i,t){return ii(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ee(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $0(l))s.add(c);let a=0;return pt(s).pipe(Jn(l=>o.has(l)?aT(l,n,i,t):(l.data=Cc(l,l.parent,i).resolve,ee(void 0))),mt(()=>a++),Du(1),ii(l=>a===s.size?ee(e):Sn))})}function $0(i){let t=i.children.map(e=>$0(e)).flat();return[i,...t]}function aT(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!N0(r)&&(o[xa]=r.title),lT(o,i,t,n).pipe(ve(s=>(i._resolvedData=s,i.data=Cc(i,i.parent,e).resolve,null)))}function lT(i,t,e,n){let r=uh(i);if(r.length===0)return ee({});let o={};return pt(r).pipe(ii(s=>cT(i[s],t,e,n).pipe(Zn(),mt(a=>{if(a instanceof ma)throw Sc(new Yo,a);o[s]=a}))),Du(1),ve(()=>o),Fo(s=>B0(s)?Sn:Ir(s)))}function cT(i,t,e,n){let r=ya(t)??n,o=Zo(i,r),s=o.resolve?o.resolve(t,e):zi(r,()=>o(t,e));return ar(s)}function ch(i){return Lt(t=>{let e=i(t);return e?pt(e).pipe(ve(()=>t)):ee(t)})}var G0=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Se);return n}getResolvedTitleForRoute(e){return e.data[xa]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:()=>G(dT),providedIn:"root"})}return i})(),dT=(()=>{class i extends G0{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(re(l0))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),wa=new we("",{providedIn:"root",factory:()=>({})}),uT=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=H({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&_(0,"router-outlet")},dependencies:[$r],encapsulation:2})}return i})();function Ph(i){let t=i.children&&i.children.map(Ph),e=t?be(R({},i),{children:t}):R({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Se&&(e.component=uT),e}var va=new we(""),Vh=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=G(Ql);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ee(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ar(e.loadComponent()).pipe(ve(q0),mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Or(()=>{this.componentLoaders.delete(e)})),r=new ku(n,()=>new Xt).pipe(Tu());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ee({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=hT(n,this.compiler,e,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(n)})),s=new ku(o,()=>new Xt).pipe(Tu());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function hT(i,t,e,n){return ar(i.loadChildren()).pipe(ve(q0),ii(r=>r instanceof sg||Array.isArray(r)?ee(r):pt(t.compileModuleAsync(r))),ve(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(va,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ph),injector:o}}))}function pT(i){return i&&typeof i=="object"&&"default"in i}function q0(i){return pT(i)?i.default:i}var Bh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:()=>G(mT),providedIn:"root"})}return i})(),mT=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),U0=new we(""),W0=new we("");function fT(i,t,e){let n=i.get(W0),r=i.get(gt);return i.get(lt).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),gT(i))),{onViewTransitionCreated:l}=n;return l&&zi(i,()=>l({transition:a,from:t,to:e})),s})}function gT(i){return new Promise(t=>{Xf({read:()=>setTimeout(t)},{injector:i})})}var X0=new we(""),zh=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xt;transitionAbortSubject=new Xt;configLoader=G(Vh);environmentInjector=G(Fr);destroyRef=G(No);urlSerializer=G(_a);rootContexts=G(ba);location=G(Qs);inputBindingEnabled=G(Ec,{optional:!0})!==null;titleStrategy=G(G0);options=G(wa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=G(Bh);createViewTransition=G(U0,{optional:!0});navigationErrorHandler=G(X0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ee(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new _h(r)),n=r=>this.events.next(new yh(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(be(R(R({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new ht({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(o=>o.id!==0),ve(o=>be(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{let s=!1,a=!1;return ee(o).pipe(Lt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mi.SupersededByNewNavigation),Sn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&h!=="reload"){let p="";return this.events.next(new sr(l.id,this.urlSerializer.serialize(l.rawUrl),p,vc.IgnoredSameUrlNavigation)),l.resolve(!1),Sn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(Lt(p=>{let f=this.transitions?.getValue();return this.events.next(new Qo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?Sn:Promise.resolve(p)}),oT(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=be(R({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let f=new xc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:f,source:v,restoredState:x,extras:S}=l,T=new Qo(p,this.urlSerializer.serialize(f),v,x);this.events.next(T);let P=O0(this.rootComponentType).snapshot;return this.currentTransition=o=be(R({},l),{targetSnapshot:P,urlAfterRedirects:f,extras:be(R({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ee(o)}else{let p="";return this.events.next(new sr(l.id,this.urlSerializer.serialize(l.extractedUrl),p,vc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Sn}}),mt(l=>{let c=new fh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ve(l=>(this.currentTransition=o=be(R({},l),{guards:TS(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),RS(this.environmentInjector,l=>this.events.next(l)),mt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Sc(this.urlSerializer,l.guardsResult);let c=new gh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),mi(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Mi.GuardRejected),!1)),ch(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe(mt(c=>{let h=new vh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Lt(c=>{let h=!1;return ee(c).pipe(sT(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",Mi.NoDataFromResolver)}}))}),mt(c=>{let h=new xh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),ch(l=>{let c=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(mt(f=>{h.component=f}),ve(()=>{})));for(let f of h.children)p.push(...c(f));return p};return zl(c(l.targetSnapshot.root)).pipe(Au(null),fi(1))}),ch(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?pt(h).pipe(ve(()=>o)):ee(o)}),ve(l=>{let c=yS(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=be(R({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),mt(()=>{this.events.next(new ha)}),SS(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fi(1),mt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),jl(this.transitionAbortSubject.pipe(mt(l=>{throw l}))),Or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Mi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fo(l=>{if(this.destroyed)return o.resolve(!1),Sn;if(a=!0,V0(l))this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),wS(l)?this.events.next(new Ko(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ua(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=zi(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(h instanceof ma){let{message:p,cancellationCode:f}=Sc(this.urlSerializer,h);this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,f)),this.events.next(new Ko(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Sn}))}))}cancelNavigationTransition(e,n,r){let o=new Dn(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vT(i){return i!==la}var xT=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:()=>G(_T),providedIn:"root"})}return i})(),Nh=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},_T=(()=>{class i extends Nh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Y0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:()=>G(yT),providedIn:"root"})}return i})(),yT=(()=>{class i extends Y0{location=G(Qs);urlSerializer=G(_a);options=G(wa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=G(Bh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ln;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=O0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Qo)this.stateMemento=this.createStateMemento();else if(e instanceof sr)this.rawUrlTree=n.initialUrl;else if(e instanceof xc){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else e instanceof ha?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof Dn&&(e.code===Mi.GuardRejected||e.code===Mi.NoDataFromResolver)?this.restoreHistory(n):e instanceof ua?this.restoreHistory(n,!0):e instanceof un&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=e instanceof Ln?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let o=this.browserPageId,s=R(R({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(r,"",s)}else{let o=R(R({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Q0(i,t){i.events.pipe(mi(e=>e instanceof un||e instanceof Dn||e instanceof ua||e instanceof sr),ve(e=>e instanceof un||e instanceof sr?0:(e instanceof Dn?e.code===Mi.Redirect||e.code===Mi.SupersededByNewNavigation:!1)?2:1),mi(e=>e!==2),fi(1)).subscribe(()=>{t()})}var bT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Re=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=G(Vu);stateManager=G(Y0);options=G(wa,{optional:!0})||{};pendingTasks=G(zs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=G(zh);urlSerializer=G(_a);location=G(Qs);urlHandlingStrategy=G(Bh);_events=new Xt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=G(xT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=G(va,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!G(Ec,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Bl;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Dn&&n.code!==Mi.Redirect&&n.code!==Mi.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof un)this.navigated=!0;else if(n instanceof Ko){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=R({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vT(r.source)},s);this.scheduleNavigation(a,la,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ST(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=R({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ph),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let f=r?r.snapshot:this.routerState.snapshot.root;p=A0(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return D0(p,e,h,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=jr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,la,null,n)}navigate(e,n={skipLocationChange:!1}){return wT(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=R({},bT):n===!1?r=R({},CT):r=n,jr(e))return d0(this.currentUrlTree,e,r);let o=this.parseUrl(e);return d0(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,f)=>{a=p,l=f});let h=this.pendingTasks.add();return Q0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function wT(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new Ae(4008,!1)}function ST(i){return!(i instanceof ha)&&!(i instanceof Ko)}var lr=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xt;constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(jr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:ig(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:jr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(M(Re),M(xi),$f("tabindex"),M(vi),M(_t),M(Ys))};static \u0275dir=Je({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&I("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Ve("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rr],replaceUrl:[2,"replaceUrl","replaceUrl",Rr],routerLink:"routerLink"},features:[Pu,Ze]})}return i})();var kc=class{};var TT=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mi(e=>e instanceof un),Jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Ru(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pt(r).pipe(Eu())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=ee(null);let o=r.pipe(ii(s=>s===null?ee(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return pt([o,s]).pipe(Eu())}else return o})}static \u0275fac=function(n){return new(n||i)(re(Re),re(Ql),re(Fr),re(kc),re(Vh))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),K0=new we(""),kT=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof un?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof sr&&e.code===vc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _c&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _c(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){$l()};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function J0(i,...t){return nn([{provide:va,multi:!0,useValue:i},[],{provide:xi,useFactory:Z0,deps:[Re]},{provide:Wl,multi:!0,useFactory:ev},t.map(e=>e.\u0275providers)])}function Z0(i){return i.routerState.root}function Sa(i,t){return{\u0275kind:i,\u0275providers:t}}function ev(){let i=G(Yt);return t=>{let e=i.get(rn);if(t!==e.components[0])return;let n=i.get(Re),r=i.get(tv);i.get(Hh)===1&&n.initialNavigation(),i.get(iv,null,Lu.Optional)?.setUpPreloading(),i.get(K0,null,Lu.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var tv=new we("",{factory:()=>new Xt}),Hh=new we("",{providedIn:"root",factory:()=>1});function ET(){return Sa(2,[{provide:Hh,useValue:0},{provide:Us,multi:!0,deps:[Yt],useFactory:t=>{let e=t.get(vg,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(Re),o=t.get(tv);Q0(r,()=>{n(!0)}),t.get(zh).afterPreactivation=()=>(n(!0),o.closed?ee(void 0):o),r.initialNavigation()}))}}])}function MT(){return Sa(3,[{provide:Us,multi:!0,useFactory:()=>{let t=G(Re);return()=>{t.setUpLocationChangeListener()}}},{provide:Hh,useValue:2}])}var iv=new we("");function AT(i){return Sa(0,[{provide:iv,useExisting:TT},{provide:kc,useExisting:i}])}function DT(){return Sa(8,[m0,{provide:Ec,useExisting:m0}])}function LT(i){let t=[{provide:U0,useValue:fT},{provide:W0,useValue:R({skipNextTransition:!!i?.skipInitialTransition},i)}];return Sa(9,t)}var IT=[Qs,{provide:_a,useClass:Yo},Re,ba,{provide:xi,useFactory:Z0,deps:[Re]},Vh,[]],Ac=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[IT,[],{provide:va,multi:!0,useValue:e},[],n?.errorHandler?{provide:X0,useValue:n.errorHandler}:[],{provide:wa,useValue:n||{}},n?.useHash?FT():NT(),OT(),n?.preloadingStrategy?AT(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?RT(n):[],n?.bindToComponentInputs?DT().\u0275providers:[],n?.enableViewTransitions?LT().\u0275providers:[],PT()]}}static forChild(e){return{ngModule:i,providers:[{provide:va,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({})}return i})();function OT(){return{provide:K0,useFactory:()=>{let i=G(wg),t=G(lt),e=G(wa),n=G(zh),r=G(_a);return e.scrollOffset&&i.setOffset(e.scrollOffset),new kT(r,n,i,t,e)}}}function FT(){return{provide:Ys,useClass:_g}}function NT(){return{provide:Ys,useClass:xg}}function RT(i){return[i.initialNavigation==="disabled"?MT().\u0275providers:[],i.initialNavigation==="enabledBlocking"?ET().\u0275providers:[]]}var x0=new we("");function PT(){return[{provide:x0,useFactory:ev},{provide:Wl,multi:!0,useExisting:x0}]}var ce=(()=>{class i{constructor(){this.show="undefined",this.check="nothing",this.status=["Draft","Pending","Approved","Rejected"],this.createMemoTab=void 0,this.qrCodeData=void 0,this.componentStates={},this.refreshFolderSubject=new ht(!0),this.refreshFolder$=this.refreshFolderSubject.asObservable(),this.refreshFileSubject=new ht(!0),this.refreshFile$=this.refreshFileSubject.asObservable(),this.refreshUserSubject=new ht(!0),this.refreshUser$=this.refreshUserSubject.asObservable(),this.suspendUserSubject=new ht(!0),this.suspendUser$=this.suspendUserSubject.asObservable(),this.otpConfirmationSubject=new ht(!0),this.otpConfirmation$=this.otpConfirmationSubject.asObservable(),this.qrCodeSubject=new ht(!0),this.refreshQrCode$=this.qrCodeSubject.asObservable()}triggerFolderRefresh(){this.refreshFolderSubject.next(!0)}triggerFileRefresh(){this.refreshFileSubject.next(!0)}triggerUserRefresh(){this.refreshUserSubject.next(!0)}triggerSuspendUserRefresh(){this.suspendUserSubject.next(!0)}triggerOtpConfirmationRefresh(){this.otpConfirmationSubject.next(!0)}triggerQrCodeRefresh(){this.qrCodeSubject.next(!0)}setQrCodeData(e){this.qrCodeData=e}showMother(e){this.show=e}toggleCheck(e){this.check=e}setCreateMemoTabs(e){this.createMemoTab=e,e||this.setQrCodeData(void 0)}getCreateMemoTabs(){return this.createMemoTab}setUserData(e){this.userData=e}setMemId(e){this.memId=e}getUserData(){return this.userData}setAuthData(e){this.authData=e}getAuthData(){return this.authData}setUserDetail(e){this.UserDetail=e}getUserDetail(){return this.UserDetail}setPublishMemId(e){this.publishMemId=e,console.log(this.publishMemId)}setEditMemo(e){this.editMemo=e}getEditMemo(){return this.editMemo}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var si=(()=>{class i{constructor(){}write(e,n){n&&(n=JSON.stringify(n)),localStorage.setItem(e,n)}read(e){let n=localStorage.getItem(e);if(n&&n!="undefined"&&n!="null")return JSON.parse(n)}readArray(e){let n=localStorage.getItem(e);return n&&n!="undefined"&&n!="null"?n:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Me=(()=>{class i{constructor(e,n){this.http=e,this.localstorage=n,this.baseUrl="https://lendnode.creditclan.com/memo/api",this.geoApiKey="39f835849b07490f9ada6d2e31447933"}makeGetRequest(e,n={}){return this.http.get(`${this.baseUrl}${e}`,{headers:this.returnHeader()})}makePostRequest(e,n={},r=!1){let o=r?void 0:this.returnHeader();return this.http.post(`${this.baseUrl}${e}`,n,{headers:o})}makePatchRequest(e,n={}){return this.http.patch(`${this.baseUrl}${e}`,n,{headers:this.returnHeader()})}makeDeleteRequest(e,n={}){return this.http.delete(`${this.baseUrl}${e}`,{headers:this.returnHeader()})}fetchLocation(e){return this.http.get(`https://ipapi.co/${e}/json/`)}fetchAreaDetails(e){let n=`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(e)}&key=${this.geoApiKey}`;return this.http.get(n)}returnHeader(){return new ki({"ngrok-skip-browser-warning":"69420","Content-Type":"application/json",Authorization:`Bearer ${this.localstorage.read("data")}`})}static{this.\u0275fac=function(n){return new(n||i)(re(An),re(si))}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Dc=(()=>{class i{constructor(e,n){this.sidebarService=e,this.httpRequet=n,this.user={}}ngOnInit(){this.httpRequet.makeGetRequest("/auth/user").subscribe(e=>{this.user=e.data},e=>{})}static{this.\u0275fac=function(n){return new(n||i)(M(ce),M(Me))}}static{this.\u0275cmp=H({type:i,selectors:[["app-header"]],decls:62,vars:3,consts:[[1,"header","d-print-none"],[1,"header-container"],[1,"header-body"],[1,"header-body-left"],[1,"navbar-nav"],[1,"nav-item","navigation-toggler"],["href","#",1,"nav-link"],[1,"ti-menu","cursor-pointer"],[1,"nav-item"],[1,"header-search-form"],[1,"input-group"],[1,"input-group-prepend"],[1,"btn"],[1,"ti-search"],["type","text","placeholder","Search something...",1,"form-control"],[1,"input-group-append"],[1,"btn","header-search-close-btn"],["data-feather","x"],[1,"header-body-right"],["href","#","title","Search",1,"nav-link","mobile-header-search-btn"],[1,"nav-item","dropdown"],["href","#","title","Notifications","data-toggle","dropdown",1,"nav-link","nav-link-notify"],[1,"ti-bell"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-big"],[1,"bg-primary","px-3","py-3"],[1,"mb-0","text-center","my-5"],[1,"mr-2","d-sm-inline","d-none","font-weight-bold"],["data-background-image","../../assets/media/image/image1.jpg",1,"text-center","py-4"],[1,"avatar","avatar-lg","mb-3","border-0"],["src","../../assets/media/image/user/man_avatar3.jpg","alt","image",1,"rounded-circle"],[1,"mb-0","font-weight-bold"],[1,"list-group","list-group-flush"],["href","#","data-sidebar-target","#settings",1,"list-group-item"],["href","http://bifor.laborasyon.com/login","data-sidebar-target","#settings",1,"list-group-item","text-danger"],[1,"pb-0","p-4"],[1,"mb-4"],[1,"d-flex","justify-content-between"],[1,"float-right"],[1,"progress",2,"height","5px"],["role","progressbar","aria-valuenow","68","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","68%"],[1,"navbar-nav","ml-auto"],[1,"nav-item","header-toggler"],[1,"ti-arrow-down"],[1,"nav-item","sidebar-toggler"],[1,"ti-cloud"]],template:function(n,r){n&1&&(d(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li",5)(7,"span",6),_(8,"i",7),u()(),d(9,"li",8)(10,"div",9)(11,"form")(12,"div",10)(13,"div",11)(14,"button",12),_(15,"i",13),u()(),_(16,"input",14),d(17,"div",15)(18,"button",16),_(19,"i",17),u()()()()()()()(),d(20,"div",18)(21,"ul",4)(22,"li",8)(23,"a",19),_(24,"i",13),u()(),d(25,"li",20)(26,"a",21),_(27,"i",22),u(),d(28,"div",23)(29,"div",24)(30,"h6",25),m(31),u()()()(),d(32,"li",20)(33,"span",26),m(34),u(),d(35,"div",23)(36,"div",27)(37,"figure",28),_(38,"img",29),u(),d(39,"h5",30),m(40),u()(),d(41,"div",31)(42,"a",32),m(43,"Settings"),u(),d(44,"a",33),m(45,"Sign Out!"),u()(),d(46,"div",34)(47,"div",35)(48,"h6",36),m(49," Completed Tasks "),d(50,"span",37),m(51,"%68"),u()(),d(52,"div",38),_(53,"div",39),u()()()()()()()(),d(54,"ul",40)(55,"li",41)(56,"a",6),_(57,"i",42),u()(),d(58,"li",43)(59,"a",6),_(60,"i",44),u()()(),_(61,"div"),u()()()),n&2&&(g(31),U(" Welcome, ",r.user==null?null:r.user.email," "),g(3),oe((r.user==null?null:r.user.last_name)||(r.user==null?null:r.user.full_name)),g(6),oe((r.user==null?null:r.user.last_name)||(r.user==null?null:r.user.full_name)))},dependencies:[se],encapsulation:2})}}return i})();var hv=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(M(vi),M(_t))};static \u0275dir=Je({type:i})}return i})(),zc=(()=>{class i extends hv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275dir=Je({type:i,features:[Rt]})}return i})(),On=new we(""),VT={provide:On,useExisting:gi(()=>Wh),multi:!0},Wh=(()=>{class i extends zc{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275dir=Je({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&I("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ri([VT]),Rt]})}return i})(),BT={provide:On,useExisting:gi(()=>Oe),multi:!0};function zT(){let i=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var HT=new we(""),Oe=(()=>{class i extends hv{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!zT())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(M(vi),M(_t),M(HT,8))};static \u0275dir=Je({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&I("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ri([BT]),Rt]})}return i})();function cr(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function pv(i){return i!=null&&typeof i.length=="number"}var qr=new we(""),Hc=new we(""),jT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,je=class{static min(t){return $T(t)}static max(t){return GT(t)}static required(t){return mv(t)}static requiredTrue(t){return qT(t)}static email(t){return UT(t)}static minLength(t){return WT(t)}static maxLength(t){return XT(t)}static pattern(t){return YT(t)}static nullValidator(t){return Ic(t)}static compose(t){return yv(t)}static composeAsync(t){return bv(t)}};function $T(i){return t=>{if(cr(t.value)||cr(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function GT(i){return t=>{if(cr(t.value)||cr(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function mv(i){return cr(i.value)?{required:!0}:null}function qT(i){return i.value===!0?null:{required:!0}}function UT(i){return cr(i.value)||jT.test(i.value)?null:{email:!0}}function WT(i){return t=>cr(t.value)||!pv(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function XT(i){return t=>pv(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function YT(i){if(!i)return Ic;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(cr(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ic(i){return null}function fv(i){return i!=null}function gv(i){return Ul(i)?pt(i):i}function vv(i){let t={};return i.forEach(e=>{t=e!=null?R(R({},t),e):t}),Object.keys(t).length===0?null:t}function xv(i,t){return t.map(e=>e(i))}function QT(i){return!i.validate}function _v(i){return i.map(t=>QT(t)?t:e=>t.validate(e))}function yv(i){if(!i)return null;let t=i.filter(fv);return t.length==0?null:function(e){return vv(xv(e,t))}}function Xh(i){return i!=null?yv(_v(i)):null}function bv(i){if(!i)return null;let t=i.filter(fv);return t.length==0?null:function(e){let n=xv(e,t).map(gv);return Vs(n).pipe(ve(vv))}}function Yh(i){return i!=null?bv(_v(i)):null}function nv(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Cv(i){return i._rawValidators}function wv(i){return i._rawAsyncValidators}function jh(i){return i?Array.isArray(i)?i:[i]:[]}function Oc(i,t){return Array.isArray(i)?i.includes(t):i===t}function rv(i,t){let e=jh(t);return jh(i).forEach(r=>{Oc(e,r)||e.push(r)}),e}function ov(i,t){return jh(t).filter(e=>!Oc(i,e))}var Fc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},In=class extends Fc{name;get formDirective(){return null}get path(){return null}},Gr=class extends Fc{_parent=null;name=null;valueAccessor=null},Nc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},DN=be(R({},KT),{"[class.ng-submitted]":"isSubmitted"}),Fe=(()=>{class i extends Nc{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(M(Gr,2))};static \u0275dir=Je({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&En("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Rt]})}return i})(),$e=(()=>{class i extends Nc{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(M(In,10))};static \u0275dir=Je({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&En("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Rt]})}return i})();var Ta="VALID",Lc="INVALID",ts="PENDING",ka="DISABLED",dr=class{},Rc=class extends dr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ma=class extends dr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Aa=class extends dr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},is=class extends dr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},$h=class extends dr{source;constructor(t){super(),this.source=t}},Gh=class extends dr{source;constructor(t){super(),this.source=t}};function Qh(i){return(jc(i)?i.validators:i)||null}function JT(i){return Array.isArray(i)?Xh(i):i||null}function Kh(i,t){return(jc(t)?t.asyncValidators:i)||null}function ZT(i){return Array.isArray(i)?Yh(i):i||null}function jc(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Sv(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Ae(1e3,"");if(!n[e])throw new Ae(1001,"")}function Tv(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new Ae(1002,"")})}var ns=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return cn(this.statusReactive)}set status(t){cn(()=>this.statusReactive.set(t))}_status=Pr(()=>this.statusReactive());statusReactive=Tn(void 0);get valid(){return this.status===Ta}get invalid(){return this.status===Lc}get pending(){return this.status==ts}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}errors;get pristine(){return cn(this.pristineReactive)}set pristine(t){cn(()=>this.pristineReactive.set(t))}_pristine=Pr(()=>this.pristineReactive());pristineReactive=Tn(!0);get dirty(){return!this.pristine}get touched(){return cn(this.touchedReactive)}set touched(t){cn(()=>this.touchedReactive.set(t))}_touched=Pr(()=>this.touchedReactive());touchedReactive=Tn(!1);get untouched(){return!this.touched}_events=new Xt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(rv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ov(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ov(t,this._rawAsyncValidators))}hasValidator(t){return Oc(this._rawValidators,t)}hasAsyncValidator(t){return Oc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(be(R({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Aa(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Aa(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(be(R({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ma(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ma(!0,n))}markAsPending(t={}){this.status=ts;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new is(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(be(R({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ka,this.errors=null,this._forEachChild(r=>{r.disable(be(R({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rc(this.value,n)),this._events.next(new is(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ta,this._forEachChild(n=>{n.enable(be(R({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(be(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ta||this.status===ts)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rc(this.value,e)),this._events.next(new is(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(be(R({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=gv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new is(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?Lc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(Lc)?Lc:Ta}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ma(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Aa(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ZT(this._rawAsyncValidators)}},Ai=class extends ns{constructor(t,e,n){super(Qh(e),Kh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Tv(this,!0,t),Object.keys(t).forEach(n=>{Sv(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qh=class extends Ai{};var Da=new we("",{providedIn:"root",factory:()=>$c}),$c="always";function kv(i,t){return[...t.path,i]}function Pc(i,t,e=$c){Jh(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),t2(i,t),n2(i,t),i2(i,t),e2(i,t)}function sv(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Bc(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Vc(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function e2(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Jh(i,t){let e=Cv(i);t.validator!==null?i.setValidators(nv(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=wv(i);t.asyncValidator!==null?i.setAsyncValidators(nv(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Vc(t._rawValidators,r),Vc(t._rawAsyncValidators,r)}function Bc(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=Cv(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=wv(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Vc(t._rawValidators,n),Vc(t._rawAsyncValidators,n),e}function t2(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Ev(i,t)})}function i2(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Ev(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Ev(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function n2(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Mv(i,t){i==null,Jh(i,t)}function r2(i,t){return Bc(i,t)}function Av(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function o2(i){return Object.getPrototypeOf(i.constructor)===zc}function Dv(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Lv(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===Oe?e=o:o2(o)?n=o:r=o}),r||n||e||null}function s2(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var a2={provide:In,useExisting:gi(()=>Di)},Ea=Promise.resolve(),Di=(()=>{class i extends In{callSetDisabledState;get submitted(){return cn(this.submittedReactive)}_submitted=Pr(()=>this.submittedReactive());submittedReactive=Tn(!1);_directives=new Set;form;ngSubmit=new ae;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new Ai({},Xh(e),Yh(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ea.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Pc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ea.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ea.then(()=>{let n=this._findContainer(e.path),r=new Ai({});Mv(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ea.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Ea.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Dv(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(M(qr,10),M(Hc,10),M(Da,8))};static \u0275dir=Je({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ri([a2]),Rt]})}return i})();function av(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function lv(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var _e=class extends ns{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Qh(e),Kh(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(lv(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){av(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){av(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){lv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var l2=i=>i instanceof _e;var c2={provide:Gr,useExisting:gi(()=>Pt)},cv=Promise.resolve(),Pt=(()=>{class i extends Gr{_changeDetectorRef;callSetDisabledState;control=new _e;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ae;constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Lv(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Av(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){cv.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Rr(n);cv.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?kv(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(M(In,9),M(qr,10),M(Hc,10),M(On,10),M(ln,8),M(Da,8))};static \u0275dir=Je({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ri([c2]),Rt,Ze]})}return i})(),We=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Je({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})();var Iv=new we("");var d2={provide:In,useExisting:gi(()=>Et)},Et=(()=>{class i extends In{callSetDisabledState;get submitted(){return cn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Pr(()=>this._submittedReactive());_submittedReactive=Tn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ae;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Pc(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){sv(e.control||null,e,!1),s2(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Dv(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new $h(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Gh(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(sv(n||null,e),l2(r)&&(Pc(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Mv(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&r2(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jh(this.form,this),this._oldForm&&Bc(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||i)(M(qr,10),M(Hc,10),M(Da,8))};static \u0275dir=Je({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ri([d2]),Rt,Ze]})}return i})();var u2={provide:Gr,useExisting:gi(()=>Mt)},Mt=(()=>{class i extends Gr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Lv(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Av(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(M(In,13),M(qr,10),M(Hc,10),M(On,10),M(Iv,8))};static \u0275dir=Je({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ri([u2]),Rt,Ze]})}return i})(),h2={provide:On,useExisting:gi(()=>ur),multi:!0};function Ov(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function p2(i){return i.split(":")[0]}var ur=(()=>{class i extends zc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=Ov(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=p2(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275dir=Je({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&I("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ri([h2]),Rt]})}return i})(),hr=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ov(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(M(_t),M(vi),M(ur,9))};static \u0275dir=Je({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),m2={provide:On,useExisting:gi(()=>Fv),multi:!0};function dv(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function f2(i){return i.split(":")[0]}var Fv=(()=>{class i extends zc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=f2(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275dir=Je({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&I("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ri([m2]),Rt]})}return i})(),pr=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(dv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(dv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(M(_t),M(vi),M(Fv,9))};static \u0275dir=Je({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var g2=(()=>{class i{_validator=Ic;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Ic,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Je({type:i,features:[Ze]})}return i})();var v2={provide:qr,useExisting:gi(()=>ai),multi:!0};var ai=(()=>{class i extends g2{required;inputName="required";normalizeInput=Rr;createValidator=e=>mv;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})();static \u0275dir=Je({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ve("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ri([v2]),Rt]})}return i})();var Nv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({})}return i})(),Uh=class extends ns{constructor(t,e,n){super(Qh(e),Kh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Tv(this,!1,t),t.forEach((n,r)=>{Sv(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function uv(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Jt=(()=>{class i{useNonNullable=!1;get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),o={};return uv(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new Ai(r,o)}record(e,n=null){let r=this._reduceControls(e);return new qh(r,n)}control(e,n,r){let o={};return this.useNonNullable?(uv(n)?o=n:(o.validators=n,o.asyncValidators=r),new _e(e,be(R({},o),{nonNullable:!0}))):new _e(e,n,r)}array(e,n,r){let o=e.map(s=>this._createControl(s));return new Uh(o,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof _e)return e;if(e instanceof ns)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,r,o)}else return this.control(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var rt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Da,useValue:e.callSetDisabledState??$c}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({imports:[Nv]})}return i})(),Ne=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Iv,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Da,useValue:e.callSetDisabledState??$c}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({imports:[Nv]})}return i})();var Rv=i=>typeof i>"u"||i===null,x2=i=>i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),_2=i=>{let t={};return Object.keys(i).forEach(e=>{i[e]&&(t[e]=i[e])}),t},qc=i=>{let t=_2(i);return Object.entries(t).map(([e,n])=>`${x2(e)}:${n}`).join(";")},Gc=class extends Error{constructor(t){super(t),this.name=this.constructor.name}};var Pv=(i,t,e)=>Math.min(Math.max(i,t),e);function Zt(i){this.content=i}Zt.prototype={constructor:Zt,find:function(i){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===i)return t;return-1},get:function(i){var t=this.find(i);return t==-1?void 0:this.content[t+1]},update:function(i,t,e){var n=e&&e!=i?this.remove(e):this,r=n.find(i),o=n.content.slice();return r==-1?o.push(e||i,t):(o[r+1]=t,e&&(o[r]=e)),new Zt(o)},remove:function(i){var t=this.find(i);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Zt(e)},addToStart:function(i,t){return new Zt([i,t].concat(this.remove(i).content))},addToEnd:function(i,t){var e=this.remove(i).content.slice();return e.push(i,t),new Zt(e)},addBefore:function(i,t,e){var n=this.remove(t),r=n.content.slice(),o=n.find(i);return r.splice(o==-1?r.length:o,0,t,e),new Zt(r)},forEach:function(i){for(var t=0;t<this.content.length;t+=2)i(this.content[t],this.content[t+1])},prepend:function(i){return i=Zt.from(i),i.size?new Zt(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Zt.from(i),i.size?new Zt(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var t=this;i=Zt.from(i);for(var e=0;e<i.content.length;e+=2)t=t.remove(i.content[e]);return t},toObject:function(){var i={};return this.forEach(function(t,e){i[t]=e}),i},get size(){return this.content.length>>1}};Zt.from=function(i){if(i instanceof Zt)return i;var t=[];if(i)for(var e in i)t.push(e,i[e]);return new Zt(t)};var Zh=Zt;function Wv(i,t,e){for(let n=0;;n++){if(n==i.childCount||n==t.childCount)return i.childCount==t.childCount?null:e;let r=i.child(n),o=t.child(n);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)e++;return e}if(r.content.size||o.content.size){let s=Wv(r.content,o.content,e+1);if(s!=null)return s}e+=r.nodeSize}}function Xv(i,t,e,n){for(let r=i.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:n};let s=i.child(--r),a=t.child(--o),l=s.nodeSize;if(s==a){e-=l,n-=l;continue}if(!s.sameMarkup(a))return{a:e,b:n};if(s.isText&&s.text!=a.text){let c=0,h=Math.min(s.text.length,a.text.length);for(;c<h&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,n--;return{a:e,b:n}}if(s.content.size||a.content.size){let c=Xv(s.content,a.content,e-1,n-1);if(c)return c}e-=l,n-=l}}var j=class i{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,o){for(let s=0,a=0;a<e;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&n(l,r+a,o||null,s)!==!1&&l.content.size){let h=a+1;l.nodesBetween(Math.max(0,t-h),Math.min(l.content.size,e-h),n,r+h)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let o="",s=!0;return this.nodesBetween(t,e,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,e-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(s?s=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let n=[],r=0;if(e>t)for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),r+=a.nodeSize),s=l}return new i(n,r)}cutByIndex(t,e){return t==e?i.empty:t==0&&e==this.content.length?this:new i(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)}addToStart(t){return new i([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new i(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return Wv(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return Xv(this,t,e,n)}findIndex(t,e=-1){if(t==0)return Uc(0,t);if(t==this.size)return Uc(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),s=r+o.nodeSize;if(s>=t)return s==t||e>0?Uc(n+1,s):Uc(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return i.empty;let e,n=0;for(let r=0;r<t.length;r++){let o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)}static from(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};j.empty=new j([],0);var ep={index:0,offset:0};function Uc(i,t){return ep.index=i,ep.offset=t,ep}function Xc(i,t){if(i===t)return!0;if(!(i&&typeof i=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(i);if(Array.isArray(t)!=e)return!1;if(e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!Xc(i[n],t[n]))return!1}else{for(let n in i)if(!(n in t)||!Xc(i[n],t[n]))return!1;for(let n in t)if(!(n in i))return!1}return!0}var qe=(()=>{class i{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return i.none;if(e instanceof i)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}return i.none=[],i})(),Xr=class extends Error{},X=class i{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=Qv(this.content,t+this.openStart,e);return n&&new i(n,this.openStart,this.openEnd)}removeBetween(t,e){return new i(Yv(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return i.empty;let n=e.openStart||0,r=e.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new i(j.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new i(t,n,r)}};X.empty=new X(j.empty,0,0);function Yv(i,t,e){let{index:n,offset:r}=i.findIndex(t),o=i.maybeChild(n),{index:s,offset:a}=i.findIndex(e);if(r==t||o.isText){if(a!=e&&!i.child(s).isText)throw new RangeError("Removing non-flat range");return i.cut(0,t).append(i.cut(e))}if(n!=s)throw new RangeError("Removing non-flat range");return i.replaceChild(n,o.copy(Yv(o.content,t-r-1,e-r-1)))}function Qv(i,t,e,n){let{index:r,offset:o}=i.findIndex(t),s=i.maybeChild(r);if(o==t||s.isText)return n&&!n.canReplace(r,r,e)?null:i.cut(0,t).append(e).append(i.cut(t));let a=Qv(s.content,t-o-1,e);return a&&i.replaceChild(r,s.copy(a))}function y2(i,t,e){if(e.openStart>i.depth)throw new Xr("Inserted content deeper than insertion position");if(i.depth-e.openStart!=t.depth-e.openEnd)throw new Xr("Inconsistent open depths");return Kv(i,t,e,0)}function Kv(i,t,e,n){let r=i.index(n),o=i.node(n);if(r==t.index(n)&&n<i.depth-e.openStart){let s=Kv(i,t,e,n+1);return o.copy(o.content.replaceChild(r,s))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&i.depth==n&&t.depth==n){let s=i.parent,a=s.content;return Wr(s,a.cut(0,i.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=b2(e,i);return Wr(o,Zv(i,s,a,t,n))}else return Wr(o,Yc(i,t,n))}function Jv(i,t){if(!t.type.compatibleContent(i.type))throw new Xr("Cannot join "+t.type.name+" onto "+i.type.name)}function ip(i,t,e){let n=i.node(e);return Jv(n,t.node(e)),n}function Ur(i,t){let e=t.length-1;e>=0&&i.isText&&i.sameMarkup(t[e])?t[e]=i.withText(t[e].text+i.text):t.push(i)}function La(i,t,e,n){let r=(t||i).node(e),o=0,s=t?t.index(e):r.childCount;i&&(o=i.index(e),i.depth>e?o++:i.textOffset&&(Ur(i.nodeAfter,n),o++));for(let a=o;a<s;a++)Ur(r.child(a),n);t&&t.depth==e&&t.textOffset&&Ur(t.nodeBefore,n)}function Wr(i,t){return i.type.checkContent(t),i.copy(t)}function Zv(i,t,e,n,r){let o=i.depth>r&&ip(i,t,r+1),s=n.depth>r&&ip(e,n,r+1),a=[];return La(null,i,r,a),o&&s&&t.index(r)==e.index(r)?(Jv(o,s),Ur(Wr(o,Zv(i,t,e,n,r+1)),a)):(o&&Ur(Wr(o,Yc(i,t,r+1)),a),La(t,e,r,a),s&&Ur(Wr(s,Yc(e,n,r+1)),a)),La(n,null,r,a),new j(a)}function Yc(i,t,e){let n=[];if(La(null,i,e,n),i.depth>e){let r=ip(i,t,e+1);Ur(Wr(r,Yc(i,t,e+1)),n)}return La(t,null,e,n),new j(n)}function b2(i,t){let e=t.depth-i.openStart,r=t.node(e).copy(i.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(j.from(r));return{start:r.resolveNoCache(i.openStart+e),end:r.resolveNoCache(r.content.size-i.openEnd-e)}}var Qc=class i{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=n.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return qe.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let a=n;n=r,r=a}let o=n.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!r||!n[o].isInSet(r.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Yr(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(n.push(s,a,r+l),!c||(s=s.child(a),s.isText))break;o=c-1,r+=l+1}return new i(e,n,o)}static resolveCached(t,e){let n=Vv.get(t);if(n)for(let o=0;o<n.elts.length;o++){let s=n.elts[o];if(s.pos==e)return s}else Vv.set(t,n=new np);let r=n.elts[n.i]=i.resolve(t,e);return n.i=(n.i+1)%C2,r}},np=class{constructor(){this.elts=[],this.i=0}},C2=12,Vv=new WeakMap,Yr=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},w2=Object.create(null),hn=class i{constructor(t,e,n,r=qe.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&Xc(this.attrs,e||t.defaultAttrs||w2)&&qe.sameSet(this.marks,n||qe.none)}copy(t=null){return t==this.content?this:new i(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return X.empty;let r=this.resolve(t),o=this.resolve(e),s=n?0:r.sharedDepth(e),a=r.start(s),c=r.node(s).content.cut(r.pos-a,o.pos-a);return new X(c,r.depth-s,o.depth-s)}replace(t,e,n){return y2(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return Qc.resolveCached(this,t)}resolveNoCache(t){return Qc.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(n.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),ex(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=j.empty,r=0,o=n.childCount){let s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),s=o&&o.matchFragment(this.content,e);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=qe.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!qe.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=j.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,n);return o.type.checkAttrs(o.attrs),o}};hn.prototype.text=void 0;var rp=class i extends hn{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ex(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new i(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function ex(i,t){for(let e=i.length-1;e>=0;e--)t=i[e].type.name+"("+t+")";return t}var Qr=class i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new op(t,e);if(n.next==null)return i.empty;let r=tx(n);n.next&&n.err("Unexpected trailing text");let o=D2(A2(r));return L2(o,n),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function o(s,a){let l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return j.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:h,next:p}=s.next[c];if(!(h.isText||h.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let f=o(p,a.concat(h));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)t.indexOf(n.next[r].next)==-1&&e(n.next[r].next)}return e(this),t.map((n,r)=>{let o=r+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)o+=(s?", ":"")+n.next[s].type.name+"->"+t.indexOf(n.next[s].next);return o}).join(`
`)}};Qr.empty=new Qr(!0);var op=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function tx(i){let t=[];do t.push(S2(i));while(i.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function S2(i){let t=[];do t.push(T2(i));while(i.next&&i.next!=")"&&i.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function T2(i){let t=M2(i);for(;;)if(i.eat("+"))t={type:"plus",expr:t};else if(i.eat("*"))t={type:"star",expr:t};else if(i.eat("?"))t={type:"opt",expr:t};else if(i.eat("{"))t=k2(i,t);else break;return t}function Bv(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let t=Number(i.next);return i.pos++,t}function k2(i,t){let e=Bv(i),n=e;return i.eat(",")&&(i.next!="}"?n=Bv(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function E2(i,t){let e=i.nodeTypes,n=e[t];if(n)return[n];let r=[];for(let o in e){let s=e[o];s.isInGroup(t)&&r.push(s)}return r.length==0&&i.err("No node type or group '"+t+"' found"),r}function M2(i){if(i.eat("(")){let t=tx(i);return i.eat(")")||i.err("Missing closing paren"),t}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let t=E2(i,i.next).map(e=>(i.inline==null?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function A2(i){let t=[[]];return r(o(i,0),e()),t;function e(){return t.push([])-1}function n(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;r(c,a=e())}else if(s.type=="star"){let l=e();return n(a,l),r(o(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=e();return r(o(s.expr,a),l),r(o(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let h=e();r(o(s.expr,l),h),l=h}if(s.max==-1)r(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let h=e();n(l,h),r(o(s.expr,l),h),l=h}return[n(l)]}else{if(s.type=="name")return[n(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function ix(i,t){return t-i}function zv(i,t){let e=[];return n(t),e.sort(ix);function n(r){let o=i[r];if(o.length==1&&!o[0].term)return n(o[0].to);e.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&e.indexOf(l)==-1&&n(l)}}}function D2(i){let t=Object.create(null);return e(zv(i,0));function e(n){let r=[];n.forEach(s=>{i[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let h=0;h<r.length;h++)r[h][0]==a&&(c=r[h][1]);zv(i,l).forEach(h=>{c||r.push([a,c=[]]),c.indexOf(h)==-1&&c.push(h)})})});let o=t[n.join(",")]=new Qr(n.indexOf(i.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(ix);o.next.push({type:r[s][0],next:t[a.join(",")]||e(a)})}return o}}function L2(i,t){for(let e=0,n=[i];e<n.length;e++){let r=n[e],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nx(i){let t=Object.create(null);for(let e in i){let n=i[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function rx(i,t){let e=Object.create(null);for(let n in i){let r=t&&t[n];if(r===void 0){let o=i[n];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=r}return e}function ox(i,t,e,n){for(let r in t)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in i){let o=i[r];o.validate&&o.validate(t[r])}}function sx(i,t){let e=Object.create(null);if(t)for(let n in t)e[n]=new sp(i,n,t[n]);return e}var Kc=class i{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=sx(t,n.attrs),this.defaultAttrs=nx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:rx(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new hn(this,this.computeAttrs(t),j.from(e),qe.setFrom(n))}createChecked(t=null,e,n){return e=j.from(e),this.checkContent(e),new hn(this,this.computeAttrs(t),e,qe.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=j.from(e),e.size){let s=this.contentMatch.fillBefore(e);if(!s)return null;e=s.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(j.empty,!0);return o?new hn(this,t,e.append(o),qe.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){ox(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:qe.none:t}static compile(t,e){let n=Object.create(null);t.forEach((o,s)=>n[o]=new i(o,e,s));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function I2(i,t,e){let n=e.split("|");return r=>{let o=r===null?"null":typeof r;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${i}, got ${o}`)}}var sp=class{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?I2(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Oa=class i{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=sx(t,r.attrs),this.excluded=null;let o=nx(this.attrs);this.instance=o?new qe(this,o):null}create(t=null){return!t&&this.instance?this.instance:new qe(this,rx(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((o,s)=>n[o]=new i(o,r++,e,s)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){ox(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},Jc=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=Zh.from(t.nodes),e.marks=Zh.from(t.marks||{}),this.nodes=Kc.compile(this.spec.nodes,this),this.marks=Oa.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[s]||(n[s]=Qr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Hv(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Hv(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Kc){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new rp(n,n.defaultAttrs,t,qe.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return hn.fromJSON(this,t)}markFromJSON(t){return qe.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function Hv(i,t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],o=i.marks[r],s=o;if(o)e.push(o);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}function O2(i){return i.tag!=null}function F2(i){return i.style!=null}var mr=class i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(r=>{if(O2(r))this.tags.push(r);else if(F2(r)){let o=/[^=]*/.exec(r.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let n=new Zc(this,e,!1);return n.addAll(t,qe.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new Zc(this,e,!0);return n.addAll(t,qe.none,e.from,e.to),X.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(P2(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,e,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!n.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=e))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let e=[];function n(r){let o=r.priority==null?50:r.priority,s=0;for(;s<e.length;s++){let a=e[s];if((a.priority==null?50:a.priority)<o)break}e.splice(s,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(s=>{n(s=$v(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(s=>{n(s=$v(s)),s.node||s.ignore||s.mark||(s.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new i(t,i.schemaRules(t)))}},ax={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},N2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lx={ol:!0,ul:!0},Fa=1,ap=2,Ia=4;function jv(i,t,e){return t!=null?(t?Fa:0)|(t==="full"?ap:0):i&&i.whitespace=="pre"?Fa|ap:e&~Ia}var rs=class{constructor(t,e,n,r,o,s){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=qe.none,this.match=o||(s&Ia?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(j.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Fa)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=j.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ax.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},Zc=class{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,s=jv(null,e.preserveWhitespace,0)|(n?Ia:0);r?o=new rs(r.type,r.attrs,qe.none,!0,e.topMatch||r.type.contentMatch,s):n?o=new rs(null,null,qe.none,!0,null,s):o=new rs(t.schema.topNodeType,null,qe.none,!0,null,s),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,o=r.options&ap?"full":this.localPreserveWS||(r.options&Fa)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;lx.hasOwnProperty(s)&&this.parser.normalizeLists&&R2(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));e:if(l?l.ignore:N2.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,h=this.needsBlock;if(ax.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let p=l&&l.skip?e:this.readStyles(t,e);p&&this.addAll(t,p),c&&this.sync(o),this.needsBlock=h}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=n.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return e}addElementByRule(t,e,n,r){let o,s;if(e.node)if(s=this.parser.schema.nodes[e.node],s.isLeaf)this.insertNode(s.create(e.attrs),n)||this.leafFallback(t,n);else{let l=this.enter(s,e.attrs||null,n,e.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[e.mark];n=n.concat(l.create(e.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,e,n,r){let o=n||0;for(let s=n?t.childNodes[n]:t.firstChild,a=r==null?null:t.childNodes[r];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,e);this.findAtPoint(t,o)}findPlace(t,e){let n,r;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=s,!a.length)||s.solid)break}if(!n)return null;this.sync(r);for(let o=0;o<n.length;o++)e=this.enterInner(n[o],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(e=this.enterInner(r,null,e))}let n=this.findPlace(t,e);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(t.type));let o=qe.none;for(let s of n.concat(t.marks))(r.type?r.type.allowsMarkType(s.type):Gv(s.type,t.type))&&(o=s.addToSet(o));return r.content.push(t.mark(o)),!0}return!1}enter(t,e,n,r){let o=this.findPlace(t.create(e),n);return o&&(o=this.enterInner(t,e,n,!0,r)),o}enterInner(t,e,n,r=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=jv(t,o,s.options);s.options&Ia&&s.content.length==0&&(a|=Ia);let l=qe.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):Gv(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new rs(t,e,l,r,null,a)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=Fa)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let c=e[a];if(c==""){if(a==e.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let h=l>0||l==0&&r?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!h||h.name!=c&&!h.isInGroup(c))return!1;l--}}return!0};return s(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}};function R2(i){for(let t=i.firstChild,e=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&lx.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function P2(i,t){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,t)}function $v(i){let t={};for(let e in i)t[e]=i[e];return t}function Gv(i,t){let e=t.schema.nodes;for(let n in e){let r=e[n];if(!r.allowsMarkType(i))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:h}=a.edge(l);if(c==t||o.indexOf(h)<0&&s(h))return!0}};if(s(r.contentMatch))return!0}}var fr=class i{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=tp(e).createDocumentFragment());let r=n,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],h=this.serializeMark(c,s.isInline,e);h&&(o.push([c,r]),r.appendChild(h.dom),r=h.contentDOM||h.dom)}}r.appendChild(this.serializeNodeInner(s,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=Wc(tp(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&Wc(tp(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return Wc(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new i(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=qv(t.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(t){return qv(t.marks)}};function qv(i){let t={};for(let e in i){let n=i[e].spec.toDOM;n&&(t[e]=n)}return t}function tp(i){return i.document||window.document}var Uv=new WeakMap;function V2(i){let t=Uv.get(i);return t===void 0&&Uv.set(i,t=B2(i)),t}function B2(i){let t=null;function e(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let r=0;r<n.length;r++)e(n[r]);else for(let r in n)e(n[r])}return e(i),t}function Wc(i,t,e,n){if(typeof t=="string")return{dom:i.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=V2(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(e=r.slice(0,s),r=r.slice(s+1));let a,l=e?i.createElementNS(e,r):i.createElement(r),c=t[1],h=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){h=2;for(let p in c)if(c[p]!=null){let f=p.indexOf(" ");f>0?l.setAttributeNS(p.slice(0,f),p.slice(f+1),c[p]):l.setAttribute(p,c[p])}}for(let p=h;p<t.length;p++){let f=t[p];if(f===0){if(p<t.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:x}=Wc(i,f,e,n);if(l.appendChild(v),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:l,contentDOM:a}}var ux=65535,hx=Math.pow(2,16);function z2(i,t){return i+t*hx}function cx(i){return i&ux}function H2(i){return(i-(i&ux))/hx}var px=1,mx=2,ed=4,fx=8,Pa=class{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&fx)>0}get deletedBefore(){return(this.delInfo&(px|ed))>0}get deletedAfter(){return(this.delInfo&(mx|ed))>0}get deletedAcross(){return(this.delInfo&ed)>0}},Fn=class i{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&i.empty)return i.empty}recover(t){let e=0,n=cx(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+e+H2(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],h=this.ranges[a+s],p=l+c;if(t<=p){let f=c?t==l?-1:t==p?1:e:e,v=l+r+(f<0?0:h);if(n)return v;let x=t==(e<0?l:p)?null:z2(a/3,t-l),S=t==l?mx:t==p?px:ed;return(e<0?t!=l:t!=p)&&(S|=fx),new Pa(v,S,x)}r+=h-c}return n?t+r:new Pa(t+r,0,null)}touches(t,e){let n=0,r=cx(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[a+o],h=l+c;if(t<=h&&a==r*3)return!0;n+=this.ranges[a+s]-c}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[r+e],h=this.ranges[r+n];t(a,a+c,l,l+h),o+=h-c}}invert(){return new i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?i.empty:new i(t<0?[0,-t,0]:[0,0,t])}};Fn.empty=new Fn([]);var Va=class i{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new i(this.maps,this.mirror,t,e)}copy(){return new i(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],r!=null&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),r!=null&&r>e?n-r-1:void 0)}}invert(){let t=new i;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(t,e);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return n?t:new Pa(t,r,null)}},lp=Object.create(null),Ot=class{getMap(){return Fn.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=lp[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in lp)throw new RangeError("Duplicate use of step JSON ID "+t);return lp[t]=e,e.prototype.jsonID=t,e}},Bt=class i{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new i(t,null)}static fail(t){return new i(null,t)}static fromReplace(t,e,n,r){try{return i.ok(t.replace(e,n,r))}catch(o){if(o instanceof Xr)return i.fail(o.message);throw o}}};function pp(i,t,e){let n=[];for(let r=0;r<i.childCount;r++){let o=i.child(r);o.content.size&&(o=o.copy(pp(o.content,t,o))),o.isInline&&(o=t(o,e,r)),n.push(o)}return j.fromArray(n)}var Ba=class i extends Ot{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new X(pp(e.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),e.openStart,e.openEnd);return Bt.fromReplace(t,this.from,this.to,o)}invert(){return new Kr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};Ot.jsonID("addMark",Ba);var Kr=class i extends Ot{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new X(pp(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return Bt.fromReplace(t,this.from,this.to,n)}invert(){return new Ba(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};Ot.jsonID("removeMark",Kr);var za=class i extends Ot{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Bt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Bt.fromReplace(t,this.pos,this.pos+1,new X(j.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(n))return new i(this.pos,e.marks[r]);return new i(this.pos,this.mark)}}return new Ha(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};Ot.jsonID("addNodeMark",za);var Ha=class i extends Ot{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Bt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Bt.fromReplace(t,this.pos,this.pos+1,new X(j.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new za(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};Ot.jsonID("removeNodeMark",Ha);var Li=class i extends Ot{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&up(t,this.from,this.to)?Bt.fail("Structure replace would overwrite content"):Bt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Fn([this.from,this.to-this.from,this.slice.size])}invert(t){return new i(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new i(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof i)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?X.empty:new X(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new i(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?X.empty:new X(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new i(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new i(e.from,e.to,X.fromJSON(t,e.slice),!!e.structure)}};Ot.jsonID("replace",Li);var Ft=class i extends Ot{constructor(t,e,n,r,o,s,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(up(t,this.from,this.gapFrom)||up(t,this.gapTo,this.to)))return Bt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Bt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?Bt.fromReplace(t,this.from,this.to,n):Bt.fail("Content does not fit in gap")}getMap(){return new Fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new i(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new i(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new i(e.from,e.to,e.gapFrom,e.gapTo,X.fromJSON(t,e.slice),e.insert,!!e.structure)}};Ot.jsonID("replaceAround",Ft);function up(i,t,e){let n=i.resolve(t),r=e-t,o=n.depth;for(;r>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,r--;if(r>0){let s=n.node(o).maybeChild(n.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function j2(i,t,e,n){let r=[],o=[],s,a;i.doc.nodesBetween(t,e,(l,c,h)=>{if(!l.isInline)return;let p=l.marks;if(!n.isInSet(p)&&h.type.allowsMarkType(n.type)){let f=Math.max(c,t),v=Math.min(c+l.nodeSize,e),x=n.addToSet(p);for(let S=0;S<p.length;S++)p[S].isInSet(x)||(s&&s.to==f&&s.mark.eq(p[S])?s.to=v:r.push(s=new Kr(f,v,p[S])));a&&a.to==f?a.to=v:o.push(a=new Ba(f,v,n))}}),r.forEach(l=>i.step(l)),o.forEach(l=>i.step(l))}function $2(i,t,e,n){let r=[],o=0;i.doc.nodesBetween(t,e,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(n instanceof Oa){let c=s.marks,h;for(;h=n.isInSet(c);)(l||(l=[])).push(h),c=h.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,e);for(let h=0;h<l.length;h++){let p=l[h],f;for(let v=0;v<r.length;v++){let x=r[v];x.step==o-1&&p.eq(r[v].style)&&(f=x)}f?(f.to=c,f.step=o):r.push({style:p,from:Math.max(a,t),to:c,step:o})}}}),r.forEach(s=>i.step(new Kr(s.from,s.to,s.style)))}function mp(i,t,e,n=e.contentMatch,r=!0){let o=i.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),h=a+c.nodeSize,p=n.matchType(c.type);if(!p)s.push(new Li(a,h,X.empty));else{n=p;for(let f=0;f<c.marks.length;f++)e.allowsMarkType(c.marks[f].type)||i.step(new Kr(a,h,c.marks[f]));if(r&&c.isText&&e.whitespace!="pre"){let f,v=/\r?\n|\r/g,x;for(;f=v.exec(c.text);)x||(x=new X(j.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),s.push(new Li(a+f.index,a+f.index+f[0].length,x))}}a=h}if(!n.validEnd){let l=n.fillBefore(j.empty,!0);i.replace(a,a,new X(l,0,0))}for(let l=s.length-1;l>=0;l--)i.step(s[l])}function G2(i,t,e){return(t==0||i.canReplace(t,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function Jr(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),o=i.$from.index(n),s=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(o,s,e))return n;if(n==0||r.type.spec.isolating||!G2(r,o,s))break}return null}function q2(i,t,e){let{$from:n,$to:r,depth:o}=t,s=n.before(o+1),a=r.after(o+1),l=s,c=a,h=j.empty,p=0;for(let x=o,S=!1;x>e;x--)S||n.index(x)>0?(S=!0,h=j.from(n.node(x).copy(h)),p++):l--;let f=j.empty,v=0;for(let x=o,S=!1;x>e;x--)S||r.after(x+1)<r.end(x)?(S=!0,f=j.from(r.node(x).copy(f)),v++):c++;i.step(new Ft(l,c,s,a,new X(h.append(f),p,v),h.size-p,!0))}function as(i,t,e=null,n=i){let r=U2(i,t),o=r&&W2(n,t);return o?r.map(dx).concat({type:t,attrs:e}).concat(o.map(dx)):null}function dx(i){return{type:i,attrs:null}}function U2(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.contentMatchAt(n).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return e.canReplaceWith(n,r,s)?o:null}function W2(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.child(n),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:s}function X2(i,t,e){let n=j.empty;for(let s=e.length-1;s>=0;s--){if(n.size){let a=e[s].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=j.from(e[s].type.create(e[s].attrs,n))}let r=t.start,o=t.end;i.step(new Ft(r,o,r,o,new X(n,0,0),e.length,!0))}function Y2(i,t,e,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=i.steps.length;i.doc.nodesBetween(t,e,(s,a)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(n,l)&&Q2(i.doc,i.mapping.slice(o).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let v=n.whitespace=="pre",x=!!n.contentMatch.matchType(n.schema.linebreakReplacement);v&&!x?c=!1:!v&&x&&(c=!0)}c===!1&&vx(i,s,a,o),mp(i,i.mapping.slice(o).map(a,1),n,void 0,c===null);let h=i.mapping.slice(o),p=h.map(a,1),f=h.map(a+s.nodeSize,1);return i.step(new Ft(p,f,p+1,f-1,new X(j.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&gx(i,s,a,o),!1}})}function gx(i,t,e,n){t.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=i.mapping.slice(n).map(e+1+o+s.index);i.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function vx(i,t,e,n){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=i.mapping.slice(n).map(e+1+o);i.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function Q2(i,t,e){let n=i.resolve(t),r=n.index();return n.parent.canReplaceWith(r,r+1,e)}function K2(i,t,e,n,r){let o=i.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let s=e.create(n,null,r||o.marks);if(o.isLeaf)return i.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new Ft(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new X(j.from(s),0,0),1,!0))}function gr(i,t,e=1,n){let r=i.resolve(t),o=r.depth-e,s=n&&n[n.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,h=e-2;c>o;c--,h--){let p=r.node(c),f=r.index(c);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(f,p.childCount),x=n&&n[h+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let S=n&&n[h]||p;if(!p.canReplace(f+1,p.childCount)||!S.type.validContent(v))return!1}let a=r.indexAfter(o),l=n&&n[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function J2(i,t,e=1,n){let r=i.doc.resolve(t),o=j.empty,s=j.empty;for(let a=r.depth,l=r.depth-e,c=e-1;a>l;a--,c--){o=j.from(r.node(a).copy(o));let h=n&&n[c];s=j.from(h?h.type.create(h.attrs,s):r.node(a).copy(s))}i.step(new Li(t,t,new X(o.append(s),e,e),!0))}function Zr(i,t){let e=i.resolve(t),n=e.index();return ek(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function Z2(i,t){t.content.size||i.type.compatibleContent(t.type);let e=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=o.type==n?i.type.schema.nodes.text:o.type;if(e=e.matchType(s),!e||!i.type.allowsMarks(o.marks))return!1}return e.validEnd}function ek(i,t){return!!(i&&t&&!i.isLeaf&&Z2(i,t))}function tk(i,t,e){let n=null,{linebreakReplacement:r}=i.doc.type.schema,o=i.doc.resolve(t-e),s=o.node().type;if(r&&s.inlineContent){let h=s.whitespace=="pre",p=!!s.contentMatch.matchType(r);h&&!p?n=!1:!h&&p&&(n=!0)}let a=i.steps.length;if(n===!1){let h=i.doc.resolve(t+e);vx(i,h.node(),h.before(),a)}s.inlineContent&&mp(i,t+e-1,s,o.node().contentMatchAt(o.index()),n==null);let l=i.mapping.slice(a),c=l.map(t-e);if(i.step(new Li(c,l.map(t+e,-1),X.empty,!0)),n===!0){let h=i.doc.resolve(c);gx(i,h.node(),h.before(),i.steps.length)}return i}function ik(i,t,e){let n=i.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return n.before(r+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let o=n.indexAfter(r);if(n.node(r).canReplaceWith(o,o,e))return n.after(r+1);if(o<n.node(r).childCount)return null}return null}function xx(i,t,e){let n=i.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let s=n.depth;s>=0;s--){let a=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(a>0?1:0),c=n.node(s),h=!1;if(o==1)h=c.canReplace(l,l,r);else{let p=c.contentMatchAt(l).findWrapping(r.firstChild.type);h=p&&c.canReplaceWith(l,l,p[0])}if(h)return a==0?n.pos:a<0?n.before(s+1):n.after(s+1)}return null}function rd(i,t,e=t,n=X.empty){if(t==e&&!n.size)return null;let r=i.resolve(t),o=i.resolve(e);return _x(r,o,n)?new Li(t,e,n):new hp(r,o,n).fit()}function _x(i,t,e){return!e.openStart&&!e.openEnd&&i.start()==t.start()&&i.parent.canReplace(i.index(),t.index(),e.content)}var hp=class{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=j.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=j.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let o=this.placed,s=n.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new X(o,s,a);return t>-1?new Ft(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new Li(n.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=e==1?t:this.unplaced.openStart;n>=0;n--){let r,o=null;n?(o=cp(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],h,p=null;if(e==1&&(s?c.matchType(s.type)||(p=c.fillBefore(j.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:p};if(e==2&&s&&(h=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:h};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=cp(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new X(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=cp(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new X(Na(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new X(Na(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let S=0;S<o.length;S++)this.openFrontierNode(o[S]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,c=0,h=[],{match:p,type:f}=this.frontier[e];if(r){for(let S=0;S<r.childCount;S++)h.push(r.child(S));p=p.matchFragment(r)}let v=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let S=a.child(c),T=p.matchType(S.type);if(!T)break;c++,(c>1||l==0||S.content.size)&&(p=T,h.push(yx(S.mark(f.allowedMarks(S.marks)),c==1?l:0,c==a.childCount?v:-1)))}let x=c==a.childCount;x||(v=-1),this.placed=Ra(this.placed,e,j.from(h)),this.frontier[e].match=p,x&&v<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,T=a;S<v;S++){let P=T.lastChild;this.frontier.push({type:P.type,match:P.contentMatchAt(P.childCount)}),T=P.content}this.unplaced=x?t==0?X.empty:new X(Na(s.content,t-1,1),t-1,v<0?s.openEnd:t-1):new X(Na(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!dp(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=dp(t,e,r,n,o);if(s){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],h=dp(t,a,c,l,!0);if(!h||h.childCount)continue e}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ra(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ra(this.placed,this.depth,j.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(j.empty,!0);e.childCount&&(this.placed=Ra(this.placed,this.frontier.length,e))}};function Na(i,t,e){return t==0?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(Na(i.firstChild.content,t-1,e)))}function Ra(i,t,e){return t==0?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(Ra(i.lastChild.content,t-1,e)))}function cp(i,t){for(let e=0;e<t;e++)i=i.firstChild.content;return i}function yx(i,t,e){if(t<=0)return i;let n=i.content;return t>1&&(n=n.replaceChild(0,yx(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=i.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(j.empty,!0)))),i.copy(n)}function dp(i,t,e,n,r){let o=i.node(t),s=r?i.indexAfter(t):i.index(t);if(s==o.childCount&&!e.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,s);return a&&!nk(e,o.content,s)?a:null}function nk(i,t,e){for(let n=e;n<t.childCount;n++)if(!i.allowsMarks(t.child(n).marks))return!0;return!1}function rk(i){return i.spec.defining||i.spec.definingForContent}function ok(i,t,e,n){if(!n.size)return i.deleteRange(t,e);let r=i.doc.resolve(t),o=i.doc.resolve(e);if(_x(r,o,n))return i.step(new Li(t,e,n));let s=Cx(r,i.doc.resolve(e));s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let f=r.depth,v=r.pos-1;f>0;f--,v--){let x=r.node(f).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;s.indexOf(f)>-1?a=f:r.before(f)==v&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],h=n.openStart;for(let f=n.content,v=0;;v++){let x=f.firstChild;if(c.push(x),v==n.openStart)break;f=x.content}for(let f=h-1;f>=0;f--){let v=c[f],x=rk(v.type);if(x&&!v.sameMarkup(r.node(Math.abs(a)-1)))h=f;else if(x||!v.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let v=(f+h+1)%(n.openStart+1),x=c[v];if(x)for(let S=0;S<s.length;S++){let T=s[(S+l)%s.length],P=!0;T<0&&(P=!1,T=-T);let me=r.node(T-1),te=r.index(T-1);if(me.canReplaceWith(te,te,x.type,x.marks))return i.replace(r.before(T),P?o.after(T):e,new X(bx(n.content,0,n.openStart,v),v,n.openEnd))}}let p=i.steps.length;for(let f=s.length-1;f>=0&&(i.replace(t,e,n),!(i.steps.length>p));f--){let v=s[f];v<0||(t=r.before(v),e=o.after(v))}}function bx(i,t,e,n,r){if(t<e){let o=i.firstChild;i=i.replaceChild(0,o.copy(bx(o.content,t+1,e,n,o)))}if(t>n){let o=r.contentMatchAt(0),s=o.fillBefore(i).append(i);i=s.append(o.matchFragment(s).fillBefore(j.empty,!0))}return i}function sk(i,t,e,n){if(!n.isInline&&t==e&&i.doc.resolve(t).parent.content.size){let r=ik(i.doc,t,n.type);r!=null&&(t=e=r)}i.replaceRange(t,e,new X(j.from(n),0,0))}function ak(i,t,e){let n=i.doc.resolve(t),r=i.doc.resolve(e),o=Cx(n,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let s=1;s<=n.depth&&s<=r.depth;s++)if(t-n.start(s)==n.depth-s&&e>n.end(s)&&r.end(s)-e!=r.depth-s&&n.start(s-1)==r.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),r.index(s-1)))return i.delete(n.before(s),e);i.delete(t,e)}function Cx(i,t){let e=[],n=Math.min(i.depth,t.depth);for(let r=n;r>=0;r--){let o=i.start(r);if(o<i.pos-(i.depth-r)||t.end(r)>t.pos+(t.depth-r)||i.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==i.depth&&r==t.depth&&i.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var td=class i extends Ot{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return Bt.fail("No node at attribute step's position");let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return Bt.fromReplace(t,this.pos,this.pos+1,new X(j.from(r),0,e.isLeaf?0:1))}getMap(){return Fn.empty}invert(t){return new i(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new i(e.pos,e.attr,e.value)}};Ot.jsonID("attr",td);var id=class i extends Ot{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return Bt.ok(n)}getMap(){return Fn.empty}invert(t){return new i(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i(e.attr,e.value)}};Ot.jsonID("docAttr",id);var ss=class extends Error{};ss=function i(t){let e=Error.call(this,t);return e.__proto__=i.prototype,e};ss.prototype=Object.create(Error.prototype);ss.prototype.constructor=ss;ss.prototype.name="TransformError";var nd=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Va}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new ss(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=X.empty){let r=rd(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new X(j.from(n),0,0))}delete(t,e){return this.replace(t,e,X.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return ok(this,t,e,n),this}replaceRangeWith(t,e,n){return sk(this,t,e,n),this}deleteRange(t,e){return ak(this,t,e),this}lift(t,e){return q2(this,t,e),this}join(t,e=1){return tk(this,t,e),this}wrap(t,e){return X2(this,t,e),this}setBlockType(t,e=t,n,r=null){return Y2(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return K2(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new td(t,e,n)),this}setDocAttribute(t,e){return this.step(new id(t,e)),this}addNodeMark(t,e){return this.step(new za(t,e)),this}removeNodeMark(t,e){if(!(e instanceof qe)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new Ha(t,e)),this}split(t,e=1,n){return J2(this,t,e,n),this}addMark(t,e,n){return j2(this,t,e,n),this}removeMark(t,e,n){return $2(this,t,e,n),this}clearIncompatible(t,e,n){return mp(this,t,e,n),this}};var fp=Object.create(null),Ee=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new cs(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=X.empty){let n=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],h=t.mapping.slice(o);t.replaceRange(h.map(l.pos),h.map(c.pos),a?X.empty:e),a==0&&Tx(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=t.mapping.slice(n),c=l.map(s.pos),h=l.map(a.pos);o?t.deleteRange(c,h):(t.replaceRangeWith(c,h,e),Tx(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new Ge(t):ls(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let o=t.depth-1;o>=0;o--){let s=e<0?ls(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):ls(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(s)return s}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Ii(t.node(0))}static atStart(t){return ls(t,t,0,0,1)||new Ii(t)}static atEnd(t){return ls(t,t,t.content.size,t.childCount,-1)||new Ii(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=fp[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in fp)throw new RangeError("Duplicate use of selection JSON ID "+t);return fp[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Ge.between(this.$anchor,this.$head).getBookmark()}};Ee.prototype.visible=!0;var cs=class{constructor(t,e){this.$from=t,this.$to=e}},wx=!1;function Sx(i){!wx&&!i.parent.inlineContent&&(wx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}var Ge=class i extends Ee{constructor(t,e=t){Sx(t),Sx(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return Ee.near(n);let r=t.resolve(e.map(this.anchor));return new i(r.parent.inlineContent?r:n,n)}replace(t,e=X.empty){if(super.replace(t,e),e==X.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof i&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new sd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let o=Ee.findFrom(e,n,!0)||Ee.findFrom(e,-n,!0);if(o)e=o.$head;else return Ee.near(e,n)}return t.parent.inlineContent||(r==0?t=e:(t=(Ee.findFrom(t,-n,!0)||Ee.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new i(t,e)}};Ee.jsonID("text",Ge);var sd=class i{constructor(t,e){this.anchor=t,this.head=e}map(t){return new i(t.map(this.anchor),t.map(this.head))}resolve(t){return Ge.between(t.resolve(this.anchor),t.resolve(this.head))}},pe=class i extends Ee{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?Ee.near(o):new i(o)}content(){return new X(j.from(this.node),0,0)}eq(t){return t instanceof i&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vp(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new i(t.resolve(e.anchor))}static create(t,e){return new i(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};pe.prototype.visible=!1;Ee.jsonID("node",pe);var vp=class i{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new sd(n,n):new i(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&pe.isSelectable(n)?new pe(e):Ee.near(e)}},Ii=class i extends Ee{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=X.empty){if(e==X.empty){t.delete(0,t.doc.content.size);let n=Ee.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new i(t)}map(t){return new i(t)}eq(t){return t instanceof i}getBookmark(){return lk}};Ee.jsonID("all",Ii);var lk={map(){return this},resolve(i){return new Ii(i)}};function ls(i,t,e,n,r,o=!1){if(t.inlineContent)return Ge.create(i,e);for(let s=n-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let a=t.child(s);if(a.isAtom){if(!o&&pe.isSelectable(a))return pe.create(i,e-(r<0?a.nodeSize:0))}else{let l=ls(i,a,e+r,r<0?a.childCount:0,r,o);if(l)return l}e+=a.nodeSize*r}return null}function Tx(i,t,e){let n=i.steps.length-1;if(n<t)return;let r=i.steps[n];if(!(r instanceof Li||r instanceof Ft))return;let o=i.mapping.maps[n],s;o.forEach((a,l,c,h)=>{s==null&&(s=h)}),i.setSelection(Ee.near(i.doc.resolve(s),e))}var kx=1,od=2,Ex=4,xp=class extends nd{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kx)&~od,this.storedMarks=null,this}get selectionSet(){return(this.updated&kx)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=od,this}ensureMarks(t){return qe.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&od)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~od,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||qe.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(n==null&&(n=e),n=n??e,!t)return this.deleteRange(e,n);let o=this.storedMarks;if(!o){let s=this.doc.resolve(e);o=n==e?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ex,this}get scrolledIntoView(){return(this.updated&Ex)>0}};function Mx(i,t){return!t||!i?i:i.bind(t)}var eo=class{constructor(t,e,n){this.name=t,this.init=Mx(e.init,n),this.apply=Mx(e.apply,n)}},ck=[new eo("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new eo("selection",{init(i,t){return i.selection||Ee.atStart(t.doc)},apply(i){return i.selection}}),new eo("storedMarks",{init(i){return i.storedMarks||null},apply(i,t,e,n){return n.selection.$cursor?i.storedMarks:null}}),new eo("scrollToSelection",{init(){return 0},apply(i,t){return i.scrolledIntoView?t+1:t}})],ja=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ck.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new eo(n.key,n.spec.state,n))})}},ad=class i{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,c=r?r[s].state:this,h=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,n);if(h&&n.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<s?{state:n,n:e.length}:{state:this,n:0})}e.push(h),n=n.applyInner(h),o=!0}r&&(r[s]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new i(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new xp(this)}static create(t){let e=new ja(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new i(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new ja(this.schema,t.plugins),n=e.fields,r=new i(e);for(let o=0;o<n.length;o++){let s=n[o].name;r[s]=this.hasOwnProperty(s)?this[s]:n[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new ja(t.schema,t.plugins),o=new i(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=hn.fromJSON(t.schema,e.doc);else if(s.name=="selection")o.selection=Ee.fromJSON(o.doc,e.selection);else if(s.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){o[s.name]=c.fromJSON.call(l,t,e[a],o);return}}o[s.name]=s.init(t,o)}}),o}};function Ax(i,t,e){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(t):n=="handleDOMEvents"&&(r=Ax(r,t,{})),e[n]=r}return e}var Nn=class{constructor(t){this.spec=t,this.props={},t.props&&Ax(t.props,this,this.props),this.key=t.key?t.key.key:Dx("plugin")}getState(t){return t[this.key]}},gp=Object.create(null);function Dx(i){return i in gp?i+"$"+ ++gp[i]:(gp[i]=0,i+"$")}var ds=class{constructor(t="key"){this.key=Dx(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var zt=function(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t},Ua=function(i){let t=i.assignedSlot||i.parentNode;return t&&t.nodeType==11?t.host:t},Sp=null,Pn=function(i,t,e){let n=Sp||(Sp=document.createRange());return n.setEnd(i,e??i.nodeValue.length),n.setStart(i,t||0),n},dk=function(){Sp=null},ao=function(i,t,e,n){return e&&(Lx(i,t,e,n,-1)||Lx(i,t,e,n,1))},uk=/^(img|br|input|textarea|hr)$/i;function Lx(i,t,e,n,r){for(;;){if(i==e&&t==n)return!0;if(t==(r<0?0:$i(i))){let o=i.parentNode;if(!o||o.nodeType!=1||Qa(i)||uk.test(i.nodeName)||i.contentEditable=="false")return!1;t=zt(i)+(r<0?0:1),i=o}else if(i.nodeType==1){if(i=i.childNodes[t+(r<0?-1:0)],i.contentEditable=="false")return!1;t=r<0?$i(i):0}else return!1}}function $i(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function hk(i,t){for(;;){if(i.nodeType==3&&t)return i;if(i.nodeType==1&&t>0){if(i.contentEditable=="false")return null;i=i.childNodes[t-1],t=$i(i)}else if(i.parentNode&&!Qa(i))t=zt(i),i=i.parentNode;else return null}}function pk(i,t){for(;;){if(i.nodeType==3&&t<i.nodeValue.length)return i;if(i.nodeType==1&&t<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[t],t=0}else if(i.parentNode&&!Qa(i))t=zt(i)+1,i=i.parentNode;else return null}}function mk(i,t,e){for(let n=t==0,r=t==$i(i);n||r;){if(i==e)return!0;let o=zt(i);if(i=i.parentNode,!i)return!1;n=n&&o==0,r=r&&o==$i(i)}}function Qa(i){let t;for(let e=i;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==i||t.contentDOM==i)}var _d=function(i){return i.focusNode&&ao(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function to(i,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=t,e}function fk(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function gk(i,t,e){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(t,e);if(n)return{node:n.offsetNode,offset:Math.min($i(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(t,e);if(n)return{node:n.startContainer,offset:Math.min($i(n.startContainer),n.startOffset)}}}var pn=typeof navigator<"u"?navigator:null,Ix=typeof document<"u"?document:null,Cr=pn&&pn.userAgent||"",Tp=/Edge\/(\d+)/.exec(Cr),d_=/MSIE \d/.exec(Cr),kp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cr),yi=!!(d_||kp||Tp),yr=d_?document.documentMode:kp?+kp[1]:Tp?+Tp[1]:0,Ki=!yi&&/gecko\/(\d+)/i.test(Cr);Ki&&+(/Firefox\/(\d+)/.exec(Cr)||[0,0])[1];var Ep=!yi&&/Chrome\/(\d+)/.exec(Cr),ti=!!Ep,u_=Ep?+Ep[1]:0,li=!yi&&!!pn&&/Apple Computer/.test(pn.vendor),fs=li&&(/Mobile\/\w+/.test(Cr)||!!pn&&pn.maxTouchPoints>2),ji=fs||(pn?/Mac/.test(pn.platform):!1),vk=pn?/Win/.test(pn.platform):!1,Vn=/Android \d/.test(Cr),Ka=!!Ix&&"webkitFontSmoothing"in Ix.documentElement.style,xk=Ka?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _k(i){let t=i.defaultView&&i.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function Rn(i,t){return typeof i=="number"?i:i[t]}function yk(i){let t=i.getBoundingClientRect(),e=t.width/i.offsetWidth||1,n=t.height/i.offsetHeight||1;return{left:t.left,right:t.left+i.clientWidth*e,top:t.top,bottom:t.top+i.clientHeight*n}}function Ox(i,t,e){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,o=i.dom.ownerDocument;for(let s=e||i.dom;s;s=Ua(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?_k(o):yk(a),h=0,p=0;if(t.top<c.top+Rn(n,"top")?p=-(c.top-t.top+Rn(r,"top")):t.bottom>c.bottom-Rn(n,"bottom")&&(p=t.bottom-t.top>c.bottom-c.top?t.top+Rn(r,"top")-c.top:t.bottom-c.bottom+Rn(r,"bottom")),t.left<c.left+Rn(n,"left")?h=-(c.left-t.left+Rn(r,"left")):t.right>c.right-Rn(n,"right")&&(h=t.right-c.right+Rn(r,"right")),h||p)if(l)o.defaultView.scrollBy(h,p);else{let f=a.scrollLeft,v=a.scrollTop;p&&(a.scrollTop+=p),h&&(a.scrollLeft+=h);let x=a.scrollLeft-f,S=a.scrollTop-v;t={left:t.left-x,top:t.top-S,right:t.right-x,bottom:t.bottom-S}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function bk(i){let t=i.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,r;for(let o=(t.left+t.right)/2,s=e+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=i.root.elementFromPoint(o,s);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:h_(i.dom)}}function h_(i){let t=[],e=i.ownerDocument;for(let n=i;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=e);n=Ua(n));return t}function Ck({refDOM:i,refTop:t,stack:e}){let n=i?i.getBoundingClientRect().top:0;p_(e,n==0?0:n-t)}function p_(i,t){for(let e=0;e<i.length;e++){let{dom:n,top:r,left:o}=i[e];n.scrollTop!=r+t&&(n.scrollTop=r+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}var us=null;function wk(i){if(i.setActive)return i.setActive();if(us)return i.focus(us);let t=h_(i);i.focus(us==null?{get preventScroll(){return us={preventScroll:!0},!0}}:void 0),us||(us=!1,p_(t,0))}function m_(i,t){let e,n=2e8,r,o=0,s=t.top,a=t.top,l,c;for(let h=i.firstChild,p=0;h;h=h.nextSibling,p++){let f;if(h.nodeType==1)f=h.getClientRects();else if(h.nodeType==3)f=Pn(h).getClientRects();else continue;for(let v=0;v<f.length;v++){let x=f[v];if(x.top<=s&&x.bottom>=a){s=Math.max(x.bottom,s),a=Math.min(x.top,a);let S=x.left>t.left?x.left-t.left:x.right<t.left?t.left-x.right:0;if(S<n){e=h,n=S,r=S&&e.nodeType==3?{left:x.right<t.left?x.right:x.left,top:t.top}:t,h.nodeType==1&&S&&(o=p+(t.left>=(x.left+x.right)/2?1:0));continue}}else x.top>t.top&&!l&&x.left<=t.left&&x.right>=t.left&&(l=h,c={left:Math.max(x.left,Math.min(x.right,t.left)),top:x.top});!e&&(t.left>=x.right&&t.top>=x.top||t.left>=x.left&&t.top>=x.bottom)&&(o=p+1)}}return!e&&l&&(e=l,r=c,n=0),e&&e.nodeType==3?Sk(e,r):!e||n&&e.nodeType==1?{node:i,offset:o}:m_(e,r)}function Sk(i,t){let e=i.nodeValue.length,n=document.createRange();for(let r=0;r<e;r++){n.setEnd(i,r+1),n.setStart(i,r);let o=vr(n,1);if(o.top!=o.bottom&&jp(t,o))return{node:i,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:i,offset:0}}function jp(i,t){return i.left>=t.left-1&&i.left<=t.right+1&&i.top>=t.top-1&&i.top<=t.bottom+1}function Tk(i,t){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<i.getBoundingClientRect().left?e:i}function kk(i,t,e){let{node:n,offset:r}=m_(t,e),o=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();o=s.left!=s.right&&e.left>(s.left+s.right)/2?1:-1}return i.docView.posFromDOM(n,r,o)}function Ek(i,t,e,n){let r=-1;for(let o=t,s=!1;o!=i.dom;){let a=i.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>n.left||l.top>n.top?r=a.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(t,e,-1)}function f_(i,t,e){let n=i.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let s=i.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(jp(t,c))return f_(s,t,c)}}if((o=(o+1)%n)==r)break}return i}function Mk(i,t){let e=i.dom.ownerDocument,n,r=0,o=gk(e,t.left,t.top);o&&({node:n,offset:r}=o);let s=(i.root.elementFromPoint?i.root:e).elementFromPoint(t.left,t.top),a;if(!s||!i.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=i.dom.getBoundingClientRect();if(!jp(t,c)||(s=f_(i.dom,t,c),!s))return null}if(li)for(let c=s;n&&c;c=Ua(c))c.draggable&&(n=void 0);if(s=Tk(s,t),n){if(Ki&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let h=n.childNodes[r],p;h.nodeName=="IMG"&&(p=h.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&r++}let c;Ka&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=Ek(i,n,r,t))}a==null&&(a=kk(i,s,t));let l=i.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Fx(i){return i.top<i.bottom||i.left<i.right}function vr(i,t){let e=i.getClientRects();if(e.length){let n=e[t<0?0:e.length-1];if(Fx(n))return n}return Array.prototype.find.call(e,Fx)||i.getBoundingClientRect()}var Ak=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function g_(i,t,e){let{node:n,offset:r,atom:o}=i.docView.domFromPos(t,e<0?-1:1),s=Ka||Ki;if(n.nodeType==3)if(s&&(Ak.test(n.nodeValue)||(e<0?!r:r==n.nodeValue.length))){let l=vr(Pn(n,r,r),e);if(Ki&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=vr(Pn(n,r-1,r-1),-1);if(c.top==l.top){let h=vr(Pn(n,r,r+1),-1);if(h.top!=l.top)return $a(h,h.left<c.left)}}return l}else{let l=r,c=r,h=e<0?1:-1;return e<0&&!r?(c++,h=-1):e>=0&&r==n.nodeValue.length?(l--,h=1):e<0?l--:c++,$a(vr(Pn(n,l,c),h),h<0)}if(!i.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==$i(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return _p(l.getBoundingClientRect(),!1)}if(o==null&&r<$i(n)){let l=n.childNodes[r];if(l.nodeType==1)return _p(l.getBoundingClientRect(),!0)}return _p(n.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==$i(n))){let l=n.childNodes[r-1],c=l.nodeType==3?Pn(l,$i(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return $a(vr(c,1),!1)}if(o==null&&r<$i(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Pn(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return $a(vr(c,-1),!0)}return $a(vr(n.nodeType==3?Pn(n):n,-e),e>=0)}function $a(i,t){if(i.width==0)return i;let e=t?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function _p(i,t){if(i.height==0)return i;let e=t?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function v_(i,t,e){let n=i.state,r=i.root.activeElement;n!=t&&i.updateState(t),r!=i.dom&&i.focus();try{return e()}finally{n!=t&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function Dk(i,t,e){let n=t.selection,r=e=="up"?n.$from:n.$to;return v_(i,t,()=>{let{node:o}=i.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=g_(i,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Pn(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let h=l[c];if(h.bottom>h.top+1&&(e=="up"?s.top-h.top>(h.bottom-s.top)*2:h.bottom-s.bottom>(s.bottom-h.top)*2))return!1}}return!0})}var Lk=/[\u0590-\u08ac]/;function Ik(i,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,o=!r,s=r==n.parent.content.size,a=i.domSelection();return a?!Lk.test(n.parent.textContent)||!a.modify?e=="left"||e=="backward"?o:s:v_(i,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:h,anchorOffset:p}=i.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",e,"character");let v=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:x,focusOffset:S}=i.domSelectionRange(),T=x&&!v.contains(x.nodeType==1?x:x.parentNode)||l==x&&c==S;try{a.collapse(h,p),l&&(l!=h||c!=p)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),T}):n.pos==n.start()||n.pos==n.end()}var Nx=null,Rx=null,Px=!1;function Ok(i,t,e){return Nx==t&&Rx==e?Px:(Nx=t,Rx=e,Px=e=="up"||e=="down"?Dk(i,t,e):Ik(i,t,e))}var Gi=0,Vx=1,io=2,mn=3,lo=class{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=Gi,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,s;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>zt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!e||o.node))if(n&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))n=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let a=r.children[s];if(a.size){r=a;break}}return r}if(t<o)return r.descAt(t-n-r.border);n=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let s=this.children[n],a=o+s.size;if(a>t||s instanceof dd){r=t-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof ld&&o.side>=0;n--);if(e<=0){let o,s=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,s=!1);return o&&e&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?zt(o.dom)+1:0}}else{let o,s=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?zt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=n,a=0;;a++){let l=this.children[a],c=s+l.size;if(r==-1&&t<=c){let h=s+l.border;if(t>=h&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,h);t=s;for(let p=a;p>0;p--){let f=this.children[p-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=zt(f.dom)+1;break}t-=f.size}r==-1&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let h=a+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=zt(p.dom);break}e+=p.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(e.nodeType!=1||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let o=Math.min(t,e),s=Math.max(t,e);for(let v=0,x=0;v<this.children.length;v++){let S=this.children[v],T=x+S.size;if(o>x&&s<T)return S.setSelection(t-x-S.border,e-x-S.border,n,r);x=T}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),h=n.domSelectionRange(),p=!1;if((Ki||li)&&t==e){let{node:v,offset:x}=a;if(v.nodeType==3){if(p=!!(x&&v.nodeValue[x-1]==`
`),p&&x==v.nodeValue.length)for(let S=v,T;S;S=S.parentNode){if(T=S.nextSibling){T.nodeName=="BR"&&(a=l={node:T.parentNode,offset:zt(T)+1});break}let P=S.pmViewDesc;if(P&&P.node&&P.node.isBlock)break}}else{let S=v.childNodes[x-1];p=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Ki&&h.focusNode&&h.focusNode!=l.node&&h.focusNode.nodeType==1){let v=h.focusNode.childNodes[h.focusOffset];v&&v.contentEditable=="false"&&(r=!0)}if(!(r||p&&li)&&ao(a.node,a.offset,h.anchorNode,h.anchorOffset)&&ao(l.node,l.offset,h.focusNode,h.focusOffset))return;let f=!1;if((c.extend||t==e)&&!p){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>e){let x=a;a=l,l=x}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],s=n+o.size;if(n==s?t<=s&&e>=n:t<s&&e>n){let a=n+o.border,l=s-o.border;if(t>=a&&e<=l){this.dirty=t==n||e==s?io:Vx,t==a&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=mn:o.markDirty(t-a,e-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?io:mn}n=s}this.dirty=io}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=t==1?io:Vx;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}},ld=class extends lo{constructor(t,e,n,r){let o,s=e.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==Gi&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Mp=class extends lo{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},gs=class i extends lo{constructor(t,e,n,r,o){super(t,[],n,r),this.mark=e,this.spec=o}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return(!s||!s.dom)&&(s=fr.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new i(t,e,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&mn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=mn&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=Gi){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Gi}}slice(t,e,n){let r=i.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;e<s&&(o=Ip(o,e,s,n)),t>0&&(o=Ip(o,0,t,n));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},br=class i extends lo{constructor(t,e,n,r,o,s,a,l,c){super(t,[],o,s),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(t,e,n,r,o,s){let a=o.nodeViews[e.type.name],l,c=a&&a(e,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,r),h=c&&c.dom,p=c&&c.contentDOM;if(e.isText){if(!h)h=document.createTextNode(e.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=fr.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!p&&!e.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),e.type.spec.draggable&&(h.draggable=!0));let f=h;return h=y_(h,n,e),c?l=new Ap(t,e,n,r,h,p||null,f,c,o,s+1):e.isText?new cd(t,e,n,r,h,f,o):new i(t,e,n,r,h,p||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>j.empty)}return t}matchesNode(t,e,n){return this.dirty==Gi&&t.eq(this.node)&&ud(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Lp(this,s&&s.node,t);Pk(this.node,this.innerDeco,(c,h,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!p&&l.syncToMarks(h==this.node.childCount?qe.none:this.node.child(h).marks,n,t),l.placeWidget(c,t,r)},(c,h,p,f)=>{l.syncToMarks(c.marks,n,t);let v;l.findNodeMatch(c,h,p,f)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(v=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,h,p,v,t)||l.updateNextNode(c,h,p,t,f,r)||l.addNode(c,h,p,t,r),r+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==io)&&(s&&this.protectLocalComposition(t,s),x_(this.contentDOM,this.children,t),fs&&Vk(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof Ge)||n<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Bk(this.node.content,s,n-e,r-e);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Mp(this,o,e,r);t.input.compositionNodes.push(s),this.children=Ip(this.children,n,n+r.length,t,s)}update(t,e,n,r){return this.dirty==mn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Gi}updateOuterDeco(t){if(ud(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=__(this.dom,this.nodeDOM,Dp(this.outerDeco,this.node,e),Dp(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function Bx(i,t,e,n,r){y_(n,t,i);let o=new br(void 0,i,t,e,n,n,n,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var cd=class i extends br{constructor(t,e,n,r,o,s,a){super(t,e,n,r,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty==mn||this.dirty!=Gi&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=Gi||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Gi,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,n){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new i(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=mn)}get domAtom(){return!1}isText(t){return this.node.text==t}},dd=class extends lo{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Gi&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Ap=class extends br{constructor(t,e,n,r,o,s,a,l,c,h){super(t,e,n,r,o,s,a,c,h),this.spec=l}update(t,e,n,r){if(this.dirty==mn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,n);return o&&this.updateInner(t,e,n,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function x_(i,t,e){let n=i.firstChild,r=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==i){for(;a!=n;)n=zx(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(s instanceof gs){let l=n?n.previousSibling:i.lastChild;x_(s.contentDOM,s.children,e),n=l?l.nextSibling:i.firstChild}}for(;n;)n=zx(n),r=!0;r&&e.trackWrites==i&&(e.trackWrites=null)}var Ga=function(i){i&&(this.nodeName=i)};Ga.prototype=Object.create(null);var no=[new Ga];function Dp(i,t,e){if(i.length==0)return no;let n=e?no[0]:new Ga,r=[n];for(let o=0;o<i.length;o++){let s=i[o].type.attrs;if(s){s.nodeName&&r.push(n=new Ga(s.nodeName));for(let a in s){let l=s[a];l!=null&&(e&&r.length==1&&r.push(n=new Ga(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function __(i,t,e,n){if(e==no&&n==no)return t;let r=t;for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=no[0]),r=l}Fk(r,a||no[0],s)}return r}function Fk(i,t,e){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&i.removeAttribute(n);for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&e[n]!=t[n]&&i.setAttribute(n,e[n]);if(t.class!=e.class){let n=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)r.indexOf(n[o])==-1&&i.classList.remove(n[o]);for(let o=0;o<r.length;o++)n.indexOf(r[o])==-1&&i.classList.add(r[o]);i.classList.length==0&&i.removeAttribute("class")}if(t.style!=e.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)i.style.removeProperty(r[1])}e.style&&(i.style.cssText+=e.style)}}function y_(i,t,e){return __(i,i,no,Dp(t,e,i.nodeType!=1))}function ud(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(t[e].type))return!1;return!0}function zx(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}var Lp=class{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Nk(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Gi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=gs.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,n,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,n))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,o){let s=this.top.children[r];return s.dirty==mn&&s.dom==s.contentDOM&&(s.dirty=io),s.update(t,e,n,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}t=e}}updateNextNode(t,e,n,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof br){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let h=l.dom,p,f=this.isLocked(h)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=mn&&ud(e,l.outerDeco));if(!f&&l.update(t,e,n,r))return this.destroyBetween(this.index,a),l.dom!=h&&(this.changed=!0),this.index++,!0;if(!f&&(p=this.recreateWrapper(l,t,e,n,r,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=io,p.updateChildren(r,s+1),p.dirty=Gi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,o,s){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!ud(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=br.create(this.top,e,n,r,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,e,n,r,o){let s=br.create(this.top,t,e,n,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new ld(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof gs;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof cd)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((li||ti)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new dd(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function Nk(i,t){let e=t,n=e.children.length,r=i.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(n){let c=e.children[n-1];if(c instanceof gs)e=c,n=c.children.length;else{a=c,n--;break}}else{if(e==t)break e;n=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function Rk(i,t){return i.type.side-t.type.side}function Pk(i,t,e,n){let r=t.locals(i),o=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let h=i.child(c);n(h,r,t.forChild(o,h),c),o+=h.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let h,p;for(;s<r.length&&r[s].to==o;){let T=r[s++];T.widget&&(h?(p||(p=[h])).push(T):h=T)}if(h)if(p){p.sort(Rk);for(let T=0;T<p.length;T++)e(p[T],c,!!l)}else e(h,c,!!l);let f,v;if(l)v=-1,f=l,l=null;else if(c<i.childCount)v=c,f=i.child(c++);else break;for(let T=0;T<a.length;T++)a[T].to<=o&&a.splice(T--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let x=o+f.nodeSize;if(f.isText){let T=x;s<r.length&&r[s].from<T&&(T=r[s].from);for(let P=0;P<a.length;P++)a[P].to<T&&(T=a[P].to);T<x&&(l=f.cut(T-o),f=f.cut(0,T-o),x=T,v=-1)}else for(;s<r.length&&r[s].to<x;)s++;let S=f.isInline&&!f.isLeaf?a.filter(T=>!T.inline):a.slice();n(f,S,t.forChild(o,f),v),o=x}}function Vk(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let t=i.style.cssText;i.style.cssText=t+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=t}}function Bk(i,t,e,n){for(let r=0,o=0;r<i.childCount&&o<=n;){let s=i.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<i.childCount;){let c=i.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=n&&l.slice(n-t.length-a,n-a)==t)return n-t.length;let c=a<n?l.lastIndexOf(t,n-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==n&&l.length>=n+t.length-a&&l.slice(n-a,n-a+t.length)==t)return n}}return-1}function Ip(i,t,e,n,r){let o=[];for(let s=0,a=0;s<i.length;s++){let l=i[s],c=a,h=a+=l.size;c>=e||h<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),r&&(o.push(r),r=void 0),h>e&&o.push(l.slice(e-c,l.size,n)))}return o}function $p(i,t=null){let e=i.domSelectionRange(),n=i.state.doc;if(!e.focusNode)return null;let r=i.docView.nearestDesc(e.focusNode),o=r&&r.size==0,s=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(s<0)return null;let a=n.resolve(s),l,c;if(_d(e)){for(l=s;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&pe.isSelectable(p)&&r.parent&&!(p.isInline&&mk(e.focusNode,e.focusOffset,r.dom))){let f=r.posBefore;c=new pe(s==f?a:n.resolve(f))}}else{if(e instanceof i.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let p=s,f=s;for(let v=0;v<e.rangeCount;v++){let x=e.getRangeAt(v);p=Math.min(p,i.docView.posFromDOM(x.startContainer,x.startOffset,1)),f=Math.max(f,i.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(p<0)return null;[l,s]=f==i.state.selection.anchor?[f,p]:[p,f],a=n.resolve(s)}else l=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let h=n.resolve(l);if(!c){let p=t=="pointer"||i.state.selection.head<a.pos&&!o?1:-1;c=Gp(i,h,a,p)}return c}function b_(i){return i.editable?i.hasFocus():w_(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function Bn(i,t=!1){let e=i.state.selection;if(C_(i,e),!!b_(i)){if(!t&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&ti){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&ao(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)Hk(i);else{let{anchor:n,head:r}=e,o,s;Hx&&!(e instanceof Ge)&&(e.$from.parent.inlineContent||(o=jx(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(s=jx(i,e.to))),i.docView.setSelection(n,r,i,t),Hx&&(o&&$x(o),s&&$x(s)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zk(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}var Hx=li||ti&&u_<63;function jx(i,t){let{node:e,offset:n}=i.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,o=n?e.childNodes[n-1]:null;if(li&&r&&r.contentEditable=="false")return yp(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return yp(r);if(o)return yp(o)}}function yp(i){return i.contentEditable="true",li&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function $x(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function zk(i){let t=i.dom.ownerDocument;t.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!b_(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function Hk(i){let t=i.domSelection(),e=document.createRange();if(!t)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.setStart(n.parentNode,zt(n)+1):e.setStart(n,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!i.state.selection.visible&&yi&&yr<=11&&(n.disabled=!0,n.disabled=!1)}function C_(i,t){if(t instanceof pe){let e=i.docView.descAt(t.from);e!=i.lastSelectedViewDesc&&(Gx(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else Gx(i)}function Gx(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Gp(i,t,e,n){return i.someProp("createSelectionBetween",r=>r(i,t,e))||Ge.between(t,e,n)}function qx(i){return i.editable&&!i.hasFocus()?!1:w_(i)}function w_(i){let t=i.domSelectionRange();if(!t.anchorNode)return!1;try{return i.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(i.editable||i.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function jk(i){let t=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return ao(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Op(i,t){let{$anchor:e,$head:n}=i.selection,r=t>0?e.max(n):e.min(n),o=r.parent.inlineContent?r.depth?i.doc.resolve(t>0?r.after():r.before()):null:r;return o&&Ee.findFrom(o,t)}function xr(i,t){return i.dispatch(i.state.tr.setSelection(t).scrollIntoView()),!0}function Ux(i,t,e){let n=i.state.selection;if(n instanceof Ge)if(e.indexOf("s")>-1){let{$head:r}=n,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=i.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return xr(i,new Ge(n.$anchor,s))}else if(n.empty){if(i.endOfTextblock(t>0?"forward":"backward")){let r=Op(i.state,t);return r&&r instanceof pe?xr(i,r):!1}else if(!(ji&&e.indexOf("m")>-1)){let r=n.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=i.docView.descAt(a))&&!s.contentDOM?pe.isSelectable(o)?xr(i,new pe(t<0?i.state.doc.resolve(r.pos-o.nodeSize):r)):Ka?xr(i,new Ge(i.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof pe&&n.node.isInline)return xr(i,new Ge(t>0?n.$to:n.$from));{let r=Op(i.state,t);return r?xr(i,r):!1}}}function hd(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function qa(i,t){let e=i.pmViewDesc;return e&&e.size==0&&(t<0||i.nextSibling||i.nodeName!="BR")}function hs(i,t){return t<0?$k(i):Gk(i)}function $k(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,s=!1;for(Ki&&e.nodeType==1&&n<hd(e)&&qa(e.childNodes[n],-1)&&(s=!0);;)if(n>0){if(e.nodeType!=1)break;{let a=e.childNodes[n-1];if(qa(a,-1))r=e,o=--n;else if(a.nodeType==3)e=a,n=e.nodeValue.length;else break}}else{if(S_(e))break;{let a=e.previousSibling;for(;a&&qa(a,-1);)r=e.parentNode,o=zt(a),a=a.previousSibling;if(a)e=a,n=hd(e);else{if(e=e.parentNode,e==i.dom)break;n=0}}}s?Fp(i,e,n):r&&Fp(i,r,o)}function Gk(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r=hd(e),o,s;for(;;)if(n<r){if(e.nodeType!=1)break;let a=e.childNodes[n];if(qa(a,1))o=e,s=++n;else break}else{if(S_(e))break;{let a=e.nextSibling;for(;a&&qa(a,1);)o=a.parentNode,s=zt(a)+1,a=a.nextSibling;if(a)e=a,n=0,r=hd(e);else{if(e=e.parentNode,e==i.dom)break;n=r=0}}}o&&Fp(i,o,s)}function S_(i){let t=i.pmViewDesc;return t&&t.node&&t.node.isBlock}function qk(i,t){for(;i&&t==i.childNodes.length&&!Qa(i);)t=zt(i)+1,i=i.parentNode;for(;i&&t<i.childNodes.length;){let e=i.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=0}}function Uk(i,t){for(;i&&!t&&!Qa(i);)t=zt(i),i=i.parentNode;for(;i&&t;){let e=i.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=i.childNodes.length}}function Fp(i,t,e){if(t.nodeType!=3){let o,s;(s=qk(t,e))?(t=s,e=0):(o=Uk(t,e))&&(t=o,e=o.nodeValue.length)}let n=i.domSelection();if(!n)return;if(_d(n)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,e);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&Bn(i)},50)}function Wx(i,t){let e=i.state.doc.resolve(t);if(!(ti||vk)&&e.parent.inlineContent){let r=i.coordsAtPos(t);if(t>e.start()){let o=i.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=i.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function Xx(i,t,e){let n=i.state.selection;if(n instanceof Ge&&!n.empty||e.indexOf("s")>-1||ji&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=n;if(!r.parent.inlineContent||i.endOfTextblock(t<0?"up":"down")){let s=Op(i.state,t);if(s&&s instanceof pe)return xr(i,s)}if(!r.parent.inlineContent){let s=t<0?r:o,a=n instanceof Ii?Ee.near(s,t):Ee.findFrom(s,t);return a?xr(i,a):!1}return!1}function Yx(i,t){if(!(i.state.selection instanceof Ge))return!0;let{$head:e,$anchor:n,empty:r}=i.state.selection;if(!e.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let s=i.state.tr;return t<0?s.delete(e.pos-o.nodeSize,e.pos):s.delete(e.pos,e.pos+o.nodeSize),i.dispatch(s),!0}return!1}function Qx(i,t,e){i.domObserver.stop(),t.contentEditable=e,i.domObserver.start()}function Wk(i){if(!li||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=i.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;Qx(i,n,"true"),setTimeout(()=>Qx(i,n,"false"),20)}return!1}function Xk(i){let t="";return i.ctrlKey&&(t+="c"),i.metaKey&&(t+="m"),i.altKey&&(t+="a"),i.shiftKey&&(t+="s"),t}function Yk(i,t){let e=t.keyCode,n=Xk(t);if(e==8||ji&&e==72&&n=="c")return Yx(i,-1)||hs(i,-1);if(e==46&&!t.shiftKey||ji&&e==68&&n=="c")return Yx(i,1)||hs(i,1);if(e==13||e==27)return!0;if(e==37||ji&&e==66&&n=="c"){let r=e==37?Wx(i,i.state.selection.from)=="ltr"?-1:1:-1;return Ux(i,r,n)||hs(i,r)}else if(e==39||ji&&e==70&&n=="c"){let r=e==39?Wx(i,i.state.selection.from)=="ltr"?1:-1:1;return Ux(i,r,n)||hs(i,r)}else{if(e==38||ji&&e==80&&n=="c")return Xx(i,-1,n)||hs(i,-1);if(e==40||ji&&e==78&&n=="c")return Wk(i)||Xx(i,1,n)||hs(i,1);if(n==(ji?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function T_(i,t){i.someProp("transformCopied",v=>{t=v(t,i)});let e=[],{content:n,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,o--;let v=n.firstChild;e.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),n=v.content}let s=i.someProp("clipboardSerializer")||fr.fromSchema(i.state.schema),a=L_(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let c=l.firstChild,h,p=0;for(;c&&c.nodeType==1&&(h=D_[c.nodeName.toLowerCase()]);){for(let v=h.length-1;v>=0;v--){let x=a.createElement(h[v]);for(;l.firstChild;)x.appendChild(l.firstChild);l.appendChild(x),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${p?` -${p}`:""} ${JSON.stringify(e)}`);let f=i.someProp("clipboardTextSerializer",v=>v(t,i))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function k_(i,t,e,n,r){let o=r.parent.type.spec.code,s,a;if(!e&&!t)return null;let l=t&&(n||o||!e);if(l){if(i.someProp("transformPastedText",f=>{t=f(t,o||n,i)}),o)return t?new X(j.from(i.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):X.empty;let p=i.someProp("clipboardTextParser",f=>f(t,r,n,i));if(p)a=p;else{let f=r.marks(),{schema:v}=i.state,x=fr.fromSchema(v);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(S=>{let T=s.appendChild(document.createElement("p"));S&&T.appendChild(x.serializeNode(v.text(S,f)))})}}else i.someProp("transformPastedHTML",p=>{e=p(e,i)}),s=Zk(e),Ka&&eE(s);let c=s&&s.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||mr.fromSchema(i.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||h),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Qk.test(f.parentNode.nodeName)?{ignore:!0}:null}})),h)a=tE(Kx(a,+h[1],+h[2]),h[4]);else if(a=X.maxOpen(Kk(a.content,r),!0),a.openStart||a.openEnd){let p=0,f=0;for(let v=a.content.firstChild;p<a.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=a.content.lastChild;f<a.openEnd&&!v.type.spec.isolating;f++,v=v.lastChild);a=Kx(a,p,f)}return i.someProp("transformPasted",p=>{a=p(a,i)}),a}var Qk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Kk(i,t){if(i.childCount<2)return i;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,s=[];if(i.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&M_(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=A_(s[s.length-1],o.length));let h=E_(a,l);s.push(h),r=r.matchType(h.type),o=l}}),s)return j.from(s)}return i}function E_(i,t,e=0){for(let n=t.length-1;n>=e;n--)i=t[n].create(null,j.from(i));return i}function M_(i,t,e,n,r){if(r<i.length&&r<t.length&&i[r]==t[r]){let o=M_(i,t,e,n.lastChild,r+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?e.type:i[r+1]))return n.copy(n.content.append(j.from(E_(e,i,r+1))))}}function A_(i,t){if(t==0)return i;let e=i.content.replaceChild(i.childCount-1,A_(i.lastChild,t-1)),n=i.contentMatchAt(i.childCount).fillBefore(j.empty,!0);return i.copy(e.append(n))}function Np(i,t,e,n,r,o){let s=t<0?i.firstChild:i.lastChild,a=s.content;return i.childCount>1&&(o=0),r<n-1&&(a=Np(a,t,e,n,r+1,o)),r>=e&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(j.empty,!0))),i.replaceChild(t<0?0:i.childCount-1,s.copy(a))}function Kx(i,t,e){return t<i.openStart&&(i=new X(Np(i.content,-1,t,i.openStart,0,i.openEnd),t,i.openEnd)),e<i.openEnd&&(i=new X(Np(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}var D_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Jx=null;function L_(){return Jx||(Jx=document.implementation.createHTMLDocument("title"))}var bp=null;function Jk(i){let t=window.trustedTypes;return t?(bp||(bp=t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),bp.createHTML(i)):i}function Zk(i){let t=/^(\s*<meta [^>]*>)*/.exec(i);t&&(i=i.slice(t[0].length));let e=L_().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&D_[n[1].toLowerCase()])&&(i=r.map(o=>"<"+o+">").join("")+i+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=Jk(i),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function eE(i){let t=i.querySelectorAll(ti?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function tE(i,t){if(!i.size)return i;let e=i.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return i}let{content:r,openStart:o,openEnd:s}=i;for(let a=n.length-2;a>=0;a-=2){let l=e.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=j.from(l.create(n[a+1],r)),o++,s++}return new X(r,o,s)}var ci={},di={},iE={touchstart:!0,touchmove:!0},Rp=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function nE(i){for(let t in ci){let e=ci[t];i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>{oE(i,n)&&!qp(i,n)&&(i.editable||!(n.type in di))&&e(i,n)},iE[t]?{passive:!0}:void 0)}li&&i.dom.addEventListener("input",()=>null),Pp(i)}function _r(i,t){i.input.lastSelectionOrigin=t,i.input.lastSelectionTime=Date.now()}function rE(i){i.domObserver.stop();for(let t in i.input.eventHandlers)i.dom.removeEventListener(t,i.input.eventHandlers[t]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Pp(i){i.someProp("handleDOMEvents",t=>{for(let e in t)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>qp(i,n))})}function qp(i,t){return i.someProp("handleDOMEvents",e=>{let n=e[t.type];return n?n(i,t)||t.defaultPrevented:!1})}function oE(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=i.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function sE(i,t){!qp(i,t)&&ci[t.type]&&(i.editable||!(t.type in di))&&ci[t.type](i,t)}di.keydown=(i,t)=>{let e=t;if(i.input.shiftKey=e.keyCode==16||e.shiftKey,!O_(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!(Vn&&ti&&e.keyCode==13)))if(e.keyCode!=229&&i.domObserver.forceFlush(),fs&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,to(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,e))||Yk(i,e)?e.preventDefault():_r(i,"key")};di.keyup=(i,t)=>{t.keyCode==16&&(i.input.shiftKey=!1)};di.keypress=(i,t)=>{let e=t;if(O_(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||ji&&e.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,e))){e.preventDefault();return}let n=i.state.selection;if(!(n instanceof Ge)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(e.charCode);!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",o=>o(i,n.$from.pos,n.$to.pos,r))&&i.dispatch(i.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}};function yd(i){return{left:i.clientX,top:i.clientY}}function aE(i,t){let e=t.x-i.clientX,n=t.y-i.clientY;return e*e+n*n<100}function Up(i,t,e,n,r){if(n==-1)return!1;let o=i.state.doc.resolve(n);for(let s=o.depth+1;s>0;s--)if(i.someProp(t,a=>s>o.depth?a(i,e,o.nodeAfter,o.before(s),r,!0):a(i,e,o.node(s),o.before(s),r,!1)))return!0;return!1}function ms(i,t,e){if(i.focused||i.focus(),i.state.selection.eq(t))return;let n=i.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),i.dispatch(n)}function lE(i,t){if(t==-1)return!1;let e=i.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&pe.isSelectable(n)?(ms(i,new pe(e),"pointer"),!0):!1}function cE(i,t){if(t==-1)return!1;let e=i.state.selection,n,r;e instanceof pe&&(n=e.node);let o=i.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(pe.isSelectable(a)){n&&e.$from.depth>0&&s>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(s);break}}return r!=null?(ms(i,pe.create(i.state.doc,r),"pointer"),!0):!1}function dE(i,t,e,n,r){return Up(i,"handleClickOn",t,e,n)||i.someProp("handleClick",o=>o(i,t,n))||(r?cE(i,e):lE(i,e))}function uE(i,t,e,n){return Up(i,"handleDoubleClickOn",t,e,n)||i.someProp("handleDoubleClick",r=>r(i,t,n))}function hE(i,t,e,n){return Up(i,"handleTripleClickOn",t,e,n)||i.someProp("handleTripleClick",r=>r(i,t,n))||pE(i,e,n)}function pE(i,t,e){if(e.button!=0)return!1;let n=i.state.doc;if(t==-1)return n.inlineContent?(ms(i,Ge.create(n,0,n.content.size),"pointer"),!0):!1;let r=n.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)ms(i,Ge.create(n,a+1,a+1+s.content.size),"pointer");else if(pe.isSelectable(s))ms(i,pe.create(n,a),"pointer");else continue;return!0}}function Wp(i){return pd(i)}var I_=ji?"metaKey":"ctrlKey";ci.mousedown=(i,t)=>{let e=t;i.input.shiftKey=e.shiftKey;let n=Wp(i),r=Date.now(),o="singleClick";r-i.input.lastClick.time<500&&aE(e,i.input.lastClick)&&!e[I_]&&(i.input.lastClick.type=="singleClick"?o="doubleClick":i.input.lastClick.type=="doubleClick"&&(o="tripleClick")),i.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};let s=i.posAtCoords(yd(e));s&&(o=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new Vp(i,s,e,!!n)):(o=="doubleClick"?uE:hE)(i,s.pos,s.inside,e)?e.preventDefault():_r(i,"pointer"))};var Vp=class{constructor(t,e,n,r){this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[I_],this.allowDefault=n.shiftKey;let o,s;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let h=t.state.doc.resolve(e.pos);o=h.parent,s=h.depth?h.before():0}let a=r?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof pe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ki&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),_r(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bn(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(yd(t))),this.updateAllowDefault(t),this.allowDefault||!e?_r(this.view,"pointer"):dE(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||li&&this.mightDrag&&!this.mightDrag.node.isAtom||ti&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ms(this.view,Ee.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):_r(this.view,"pointer")}move(t){this.updateAllowDefault(t),_r(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};ci.touchstart=i=>{i.input.lastTouch=Date.now(),Wp(i),_r(i,"pointer")};ci.touchmove=i=>{i.input.lastTouch=Date.now(),_r(i,"pointer")};ci.contextmenu=i=>Wp(i);function O_(i,t){return i.composing?!0:li&&Math.abs(t.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}var mE=Vn?5e3:-1;di.compositionstart=di.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:t}=i,e=t.selection.$to;if(t.selection instanceof Ge&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||e.marks(),pd(i,!0),i.markCursor=null;else if(pd(i,!t.selection.empty),Ki&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,o=n.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=i.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else r=s,o=-1}}i.input.composing=!0}F_(i,mE)};di.compositionend=(i,t)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,F_(i,20))};function F_(i,t){clearTimeout(i.input.composingTimeout),t>-1&&(i.input.composingTimeout=setTimeout(()=>pd(i),t))}function N_(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=gE());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function fE(i){let t=i.domSelectionRange();if(!t.focusNode)return null;let e=hk(t.focusNode,t.focusOffset),n=pk(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let r=n.pmViewDesc,o=i.domObserver.lastChangedTextNode;if(e==o||n==o)return o;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let s=e.pmViewDesc;if(!(!s||!s.isText(e.nodeValue)))return n}}return e||n}function gE(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function pd(i,t=!1){if(!(Vn&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),N_(i),t||i.docView&&i.docView.dirty){let e=$p(i);return e&&!e.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(e)):(i.markCursor||t)&&!i.state.selection.empty?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function vE(i,t){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}var Wa=yi&&yr<15||fs&&xk<604;ci.copy=di.cut=(i,t)=>{let e=t,n=i.state.selection,r=e.type=="cut";if(n.empty)return;let o=Wa?null:e.clipboardData,s=n.content(),{dom:a,text:l}=T_(i,s);o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):vE(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xE(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function _E(i,t){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),e?Xa(i,n.value,null,r,t):Xa(i,n.textContent,n.innerHTML,r,t)},50)}function Xa(i,t,e,n,r){let o=k_(i,t,e,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,o||X.empty)))return!0;if(!o)return!1;let s=xE(o),a=s?i.state.tr.replaceSelectionWith(s,n):i.state.tr.replaceSelection(o);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function R_(i){let t=i.getData("text/plain")||i.getData("Text");if(t)return t;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}di.paste=(i,t)=>{let e=t;if(i.composing&&!Vn)return;let n=Wa?null:e.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Xa(i,R_(n),n.getData("text/html"),r,e)?e.preventDefault():_E(i,e)};var md=class{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}},P_=ji?"altKey":"ctrlKey";ci.dragstart=(i,t)=>{let e=t,n=i.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let r=i.state.selection,o=r.empty?null:i.posAtCoords(yd(e)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof pe?r.to-1:r.to))){if(n&&n.mightDrag)s=pe.create(i.state.doc,n.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let p=i.docView.nearestDesc(e.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&(s=pe.create(i.state.doc,p.posBefore))}}let a=(s||i.state.selection).content(),{dom:l,text:c,slice:h}=T_(i,a);(!e.dataTransfer.files.length||!ti||u_>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(Wa?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Wa||e.dataTransfer.setData("text/plain",c),i.dragging=new md(h,!e[P_],s)};ci.dragend=i=>{let t=i.dragging;window.setTimeout(()=>{i.dragging==t&&(i.dragging=null)},50)};di.dragover=di.dragenter=(i,t)=>t.preventDefault();di.drop=(i,t)=>{let e=t,n=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let r=i.posAtCoords(yd(e));if(!r)return;let o=i.state.doc.resolve(r.pos),s=n&&n.slice;s?i.someProp("transformPasted",x=>{s=x(s,i)}):s=k_(i,R_(e.dataTransfer),Wa?null:e.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&!e[P_]);if(i.someProp("handleDrop",x=>x(i,e,s||X.empty,a))){e.preventDefault();return}if(!s)return;e.preventDefault();let l=s?xx(i.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=i.state.tr;if(a){let{node:x}=n;x?x.replace(c):c.deleteSelection()}let h=c.mapping.map(l),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(p?c.replaceRangeWith(h,h,s.content.firstChild):c.replaceRange(h,h,s),c.doc.eq(f))return;let v=c.doc.resolve(h);if(p&&pe.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new pe(v));else{let x=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((S,T,P,me)=>x=me),c.setSelection(Gp(i,v,c.doc.resolve(x)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))};ci.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&Bn(i)},20))};ci.blur=(i,t)=>{let e=t;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};ci.beforeinput=(i,t)=>{if(ti&&Vn&&t.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",o=>o(i,to(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in di)ci[i]=di[i];function Ya(i,t){if(i==t)return!0;for(let e in i)if(i[e]!==t[e])return!1;for(let e in t)if(!(e in i))return!1;return!0}var fd=class i{constructor(t,e){this.toDOM=t,this.spec=e||oo,this.side=this.spec.side||0}map(t,e,n,r){let{pos:o,deleted:s}=t.mapResult(e.from+r,this.side<0?-1:1);return s?null:new zn(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof i&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ya(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},ro=class i{constructor(t,e){this.attrs=t,this.spec=e||oo}map(t,e,n,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,s=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=s?null:new zn(o,s,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof i&&Ya(this.attrs,t.attrs)&&Ya(this.spec,t.spec)}static is(t){return t.type instanceof i}destroy(){}},Bp=class i{constructor(t,e){this.attrs=t,this.spec=e||oo}map(t,e,n,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let s=t.mapResult(e.to+r,-1);return s.deleted||s.pos<=o.pos?null:new zn(o.pos-n,s.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(n)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof i&&Ya(this.attrs,t.attrs)&&Ya(this.spec,t.spec)}destroy(){}},zn=class i{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new i(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new i(t,t,new fd(e,n))}static inline(t,e,n,r){return new i(t,e,new ro(n,r))}static node(t,e,n,r){return new i(t,e,new Bp(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ro}get widget(){return this.type instanceof fd}},ps=[],oo={},Oi=class i{constructor(t,e){this.local=t.length?t:ps,this.children=e.length?e:ps}static create(t,e){return e.length?vd(e,t,0,oo):ei}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,e-a,n,r+a,o)}}map(t,e,n){return this==ei||t.maps.length==0?this:this.mapInner(t,e,0,0,n||oo)}mapInner(t,e,n,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,n,r);l&&l.type.valid(e,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?yE(this.children,s||[],t,e,n,r,o):s?new i(s.sort(so),ps):ei}add(t,e){return e.length?this==ei?i.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach((a,l)=>{let c=l+n,h;if(h=B_(e,a,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,h,c+1):r.splice(o,0,l,l+a.nodeSize,vd(h,a,c+1,oo)),o+=3}});let s=V_(o?z_(e):e,-n);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new i(s.length?this.local.concat(s).sort(so):this.local,r||this.children)}remove(t){return t.length==0||this==ei?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let s,a=n[o]+e,l=n[o+1]+e;for(let h=0,p;h<t.length;h++)(p=t[h])&&p.from>a&&p.to<l&&(t[h]=null,(s||(s=[])).push(p));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(s,a+1);c!=ei?n[o+2]=c:(n.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<r.length;a++)r[a].eq(s,e)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new i(r,n):ei}forChild(t,e){if(this==ei)return this;if(e.isLeaf)return i.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let o=t+1,s=o+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ro){let c=Math.max(o,l.from)-o,h=Math.min(s,l.to)-o;c<h&&(r||(r=[])).push(l.copy(c,h))}}if(r){let a=new i(r.sort(so),ps);return n?new gd([a,n]):a}return n||ei}eq(t){if(this==t)return!0;if(!(t instanceof i)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Xp(this.localsInner(t))}localsInner(t){if(this==ei)return ps;if(t.inlineContent||!this.local.some(ro.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ro||e.push(this.local[n]);return e}forEachSet(t){t(this)}};Oi.empty=new Oi([],[]);Oi.removeOverlap=Xp;var ei=Oi.empty,gd=class i{constructor(t){this.members=t}map(t,e){let n=this.members.map(r=>r.map(t,e,oo));return i.from(n)}forChild(t,e){if(e.isLeaf)return Oi.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=ei&&(o instanceof i?n=n.concat(o.members):n.push(o))}return i.from(n)}eq(t){if(!(t instanceof i)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{n&&(e=e.slice(),n=!1);for(let s=0;s<o.length;s++)e.push(o[s])}}return e?Xp(n?e:e.sort(so)):ps}static from(t){switch(t.length){case 0:return ei;case 1:return t[0];default:return new i(t.every(e=>e instanceof Oi)?t:t.reduce((e,n)=>e.concat(n instanceof Oi?n:n.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function yE(i,t,e,n,r,o,s){let a=i.slice();for(let c=0,h=o;c<e.maps.length;c++){let p=0;e.maps[c].forEach((f,v,x,S)=>{let T=S-x-(v-f);for(let P=0;P<a.length;P+=3){let me=a[P+1];if(me<0||f>me+h-p)continue;let te=a[P]+h-p;v>=te?a[P+1]=f<=te?-2:-1:f>=h&&T&&(a[P]+=T,a[P+1]+=T)}p+=T}),h=e.maps[c].map(h,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let h=e.map(i[c]+o),p=h-r;if(p<0||p>=n.content.size){l=!0;continue}let f=e.map(i[c+1]+o,-1),v=f-r,{index:x,offset:S}=n.content.findIndex(p),T=n.maybeChild(x);if(T&&S==p&&S+T.nodeSize==v){let P=a[c+2].mapInner(e,T,h+1,i[c]+o+1,s);P!=ei?(a[c]=p,a[c+1]=v,a[c+2]=P):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=bE(a,i,t,e,r,o,s),h=vd(c,n,0,s);t=h.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,f=0;p<h.children.length;p+=3){let v=h.children[p];for(;f<a.length&&a[f]<v;)f+=3;a.splice(f,0,h.children[p],h.children[p+1],h.children[p+2])}}return new Oi(t.sort(so),a)}function V_(i,t){if(!t||!i.length)return i;let e=[];for(let n=0;n<i.length;n++){let r=i[n];e.push(new zn(r.from+t,r.to+t,r.type))}return e}function bE(i,t,e,n,r,o,s){function a(l,c){for(let h=0;h<l.local.length;h++){let p=l.local[h].map(n,r,c);p?e.push(p):s.onRemove&&s.onRemove(l.local[h].spec)}for(let h=0;h<l.children.length;h+=3)a(l.children[h+2],l.children[h]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],t[l]+o+1);return e}function B_(i,t,e){if(t.isLeaf)return null;let n=e+t.nodeSize,r=null;for(let o=0,s;o<i.length;o++)(s=i[o])&&s.from>e&&s.to<n&&((r||(r=[])).push(s),i[o]=null);return r}function z_(i){let t=[];for(let e=0;e<i.length;e++)i[e]!=null&&t.push(i[e]);return t}function vd(i,t,e,n){let r=[],o=!1;t.forEach((a,l)=>{let c=B_(i,a,l+e);if(c){o=!0;let h=vd(c,a,e+l+1,n);h!=ei&&r.push(l,l+a.nodeSize,h)}});let s=V_(o?z_(i):i,-e).sort(so);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Oi(s,r):ei}function so(i,t){return i.from-t.from||i.to-t.to}function Xp(i){let t=i;for(let e=0;e<t.length-1;e++){let n=t[e];if(n.from!=n.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==n.from){o.to!=n.to&&(t==i&&(t=i.slice()),t[r]=o.copy(o.from,n.to),Zx(t,r+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==i&&(t=i.slice()),t[e]=n.copy(n.from,o.from),Zx(t,r,n.copy(o.from,n.to)));break}}}return t}function Zx(i,t,e){for(;t<i.length&&so(e,i[t])>0;)t++;i.splice(t,0,e)}function Cp(i){let t=[];return i.someProp("decorations",e=>{let n=e(i.state);n&&n!=ei&&t.push(n)}),i.cursorWrapper&&t.push(Oi.create(i.state.doc,[i.cursorWrapper.deco])),gd.from(t)}var CE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},wE=yi&&yr<=11,zp=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},Hp=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zp,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);yi&&yr<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),wE&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,CE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qx(this.view)){if(this.suppressingSelectionUpdates)return Bn(this.view);if(yi&&yr<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ao(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let o=t.focusNode;o;o=Ua(o))e.add(o);for(let o=t.anchorNode;o;o=Ua(o))if(e.has(o)){n=o;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&qx(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let h=0;h<e.length;h++){let p=this.registerMutation(e[h],l);p&&(o=o<0?p.from:Math.min(p.from,o),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(Ki&&l.length){let h=l.filter(p=>p.nodeName=="BR");if(h.length==2){let[p,f]=h;p.parentNode&&p.parentNode.parentNode==f.parentNode?f.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let f of h){let v=f.parentNode;v&&v.nodeName=="LI"&&(!p||kE(t,p)!=v)&&f.remove()}}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&_d(n)&&(c=$p(t))&&c.eq(Ee.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Bn(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,s),SE(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Bn(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++){let p=t.addedNodes[h];e.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,o=t.nextSibling;if(yi&&yr<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:p,nextSibling:f}=t.addedNodes[h];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(r=p),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(o=f)}let s=r&&r.parentNode==t.target?zt(r)+1:0,a=n.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?zt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},e_=new WeakMap,t_=!1;function SE(i){if(!e_.has(i)&&(e_.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Ki,t_)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),t_=!0}}function i_(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,s=i.domAtPos(i.state.selection.anchor);return ao(s.node,s.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function TE(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return i_(i,r)}let e;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),e?i_(i,e):null}function kE(i,t){for(let e=t.parentNode;e&&e!=i.dom;e=e.parentNode){let n=i.docView.nearestDesc(e,!0);if(n&&n.node.isBlock)return e}return null}function EE(i,t,e){let{node:n,fromOffset:r,toOffset:o,from:s,to:a}=i.docView.parseRange(t,e),l=i.domSelectionRange(),c,h=l.anchorNode;if(h&&i.dom.contains(h.nodeType==1?h:h.parentNode)&&(c=[{node:h,offset:l.anchorOffset}],_d(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ti&&i.input.lastKeyCode===8)for(let T=o;T>r;T--){let P=n.childNodes[T-1],me=P.pmViewDesc;if(P.nodeName=="BR"&&!me){o=T;break}if(!me||me.size)break}let p=i.state.doc,f=i.someProp("domParser")||mr.fromSchema(i.state.schema),v=p.resolve(s),x=null,S=f.parse(n,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:r,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:ME,context:v});if(c&&c[0].pos!=null){let T=c[0].pos,P=c[1]&&c[1].pos;P==null&&(P=T),x={anchor:T+s,head:P+s}}return{doc:S,sel:x,from:s,to:a}}function ME(i){let t=i.pmViewDesc;if(t)return t.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(li&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(i.parentNode.lastChild==i||li&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}var AE=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function DE(i,t,e,n,r){let o=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,t<0){let Te=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,xt=$p(i,Te);if(xt&&!i.state.selection.eq(xt)){if(ti&&Vn&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",Wt=>Wt(i,to(13,"Enter"))))return;let de=i.state.tr.setSelection(xt);Te=="pointer"?de.setMeta("pointer",!0):Te=="key"&&de.scrollIntoView(),o&&de.setMeta("composition",o),i.dispatch(de)}return}let s=i.state.doc.resolve(t),a=s.sharedDepth(e);t=s.before(a+1),e=i.state.doc.resolve(e).after(a+1);let l=i.state.selection,c=EE(i,t,e),h=i.state.doc,p=h.slice(c.from,c.to),f,v;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(f=i.state.selection.to,v="end"):(f=i.state.selection.from,v="start"),i.input.lastKeyCode=null;let x=OE(p.content,c.doc.content,c.from,f,v);if(x&&i.input.domChangeCount++,(fs&&i.input.lastIOSEnter>Date.now()-225||Vn)&&r.some(Te=>Te.nodeType==1&&!AE.test(Te.nodeName))&&(!x||x.endA>=x.endB)&&i.someProp("handleKeyDown",Te=>Te(i,to(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!x)if(n&&l instanceof Ge&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))x={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let Te=n_(i,i.state.doc,c.sel);if(Te&&!Te.eq(i.state.selection)){let xt=i.state.tr.setSelection(Te);o&&xt.setMeta("composition",o),i.dispatch(xt)}}return}i.state.selection.from<i.state.selection.to&&x.start==x.endB&&i.state.selection instanceof Ge&&(x.start>i.state.selection.from&&x.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?x.start=i.state.selection.from:x.endA<i.state.selection.to&&x.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(x.endB+=i.state.selection.to-x.endA,x.endA=i.state.selection.to)),yi&&yr<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>c.from&&c.doc.textBetween(x.start-c.from-1,x.start-c.from+1)==" \xA0"&&(x.start--,x.endA--,x.endB--);let S=c.doc.resolveNoCache(x.start-c.from),T=c.doc.resolveNoCache(x.endB-c.from),P=h.resolve(x.start),me=S.sameParent(T)&&S.parent.inlineContent&&P.end()>=x.endA,te;if((fs&&i.input.lastIOSEnter>Date.now()-225&&(!me||r.some(Te=>Te.nodeName=="DIV"||Te.nodeName=="P"))||!me&&S.pos<c.doc.content.size&&!S.sameParent(T)&&(te=Ee.findFrom(c.doc.resolve(S.pos+1),1,!0))&&te.head==T.pos)&&i.someProp("handleKeyDown",Te=>Te(i,to(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>x.start&&IE(h,x.start,x.endA,S,T)&&i.someProp("handleKeyDown",Te=>Te(i,to(8,"Backspace")))){Vn&&ti&&i.domObserver.suppressSelectionUpdates();return}ti&&x.endB==x.start&&(i.input.lastChromeDelete=Date.now()),Vn&&!me&&S.start()!=T.start()&&T.parentOffset==0&&S.depth==T.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==x.endA&&(x.endB-=2,T=c.doc.resolveNoCache(x.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(Te){return Te(i,to(13,"Enter"))})},20));let Qe=x.start,Pe=x.endA,Ke,Ut,vt;if(me){if(S.pos==T.pos)yi&&yr<=11&&S.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bn(i),20)),Ke=i.state.tr.delete(Qe,Pe),Ut=h.resolve(x.start).marksAcross(h.resolve(x.endA));else if(x.endA==x.endB&&(vt=LE(S.parent.content.cut(S.parentOffset,T.parentOffset),P.parent.content.cut(P.parentOffset,x.endA-P.start()))))Ke=i.state.tr,vt.type=="add"?Ke.addMark(Qe,Pe,vt.mark):Ke.removeMark(Qe,Pe,vt.mark);else if(S.parent.child(S.index()).isText&&S.index()==T.index()-(T.textOffset?0:1)){let Te=S.parent.textBetween(S.parentOffset,T.parentOffset);if(i.someProp("handleTextInput",xt=>xt(i,Qe,Pe,Te)))return;Ke=i.state.tr.insertText(Te,Qe,Pe)}}if(Ke||(Ke=i.state.tr.replace(Qe,Pe,c.doc.slice(x.start-c.from,x.endB-c.from))),c.sel){let Te=n_(i,Ke.doc,c.sel);Te&&!(ti&&i.composing&&Te.empty&&(x.start!=x.endB||i.input.lastChromeDelete<Date.now()-100)&&(Te.head==Qe||Te.head==Ke.mapping.map(Pe)-1)||yi&&Te.empty&&Te.head==Qe)&&Ke.setSelection(Te)}Ut&&Ke.ensureMarks(Ut),o&&Ke.setMeta("composition",o),i.dispatch(Ke.scrollIntoView())}function n_(i,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Gp(i,t.resolve(e.anchor),t.resolve(e.head))}function LE(i,t){let e=i.firstChild.marks,n=t.firstChild.marks,r=e,o=n,s,a,l;for(let h=0;h<n.length;h++)r=n[h].removeFromSet(r);for(let h=0;h<e.length;h++)o=e[h].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=h=>h.mark(a.addToSet(h.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=h=>h.mark(a.removeFromSet(h.marks));else return null;let c=[];for(let h=0;h<t.childCount;h++)c.push(l(t.child(h)));if(j.from(c).eq(i))return{mark:a,type:s}}function IE(i,t,e,n,r){if(e-t<=r.pos-n.pos||wp(n,!0,!1)<r.pos)return!1;let o=i.resolve(t);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&e==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=i.resolve(wp(o,!0,!0));return!s.parent.isTextblock||s.pos>e||wp(s,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function wp(i,t,e){let n=i.depth,r=t?i.end():i.pos;for(;n>0&&(t||i.indexAfter(n)==i.node(n).childCount);)n--,r++,t=!1;if(e){let o=i.node(n).maybeChild(i.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function OE(i,t,e,n,r){let o=i.findDiffStart(t,e);if(o==null)return null;let{a:s,b:a}=i.findDiffEnd(t,e+i.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&i.size<t.size){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<t.size&&r_(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<i.size&&r_(i.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function r_(i){if(i.length!=2)return!1;let t=i.charCodeAt(0),e=i.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var xd=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Rp,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(c_),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=a_(this),s_(this),this.nodeViews=l_(this),this.docView=Bx(this.state.doc,o_(this),Cp(this),this.dom,this),this.domObserver=new Hp(this,(n,r,o,s)=>DE(this,n,r,o,s)),this.domObserver.start(),nE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Pp(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(c_),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(N_(this),s=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(a||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let v=l_(this);NE(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(a||e.handleDOMEvents!=this._props.handleDOMEvents)&&Pp(this),this.editable=a_(this),s_(this);let l=Cp(this),c=o_(this),h=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(t.doc,c,l);(p||!t.selection.eq(r.selection))&&(s=!0);let f=h=="preserve"&&s&&this.dom.style.overflowAnchor==null&&bk(this);if(s){this.domObserver.stop();let v=p&&(yi||ti)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&FE(r.selection,t.selection);if(p){let x=ti?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=fE(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Bx(t.doc,c,l,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&jk(this))?Bn(this,v):(C_(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():f&&Ck(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof pe){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&Ox(this,e.getBoundingClientRect(),t)}else Ox(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}}updateDraggedNode(t,e){let n=t.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let o=n.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(r=o)}this.dragging=new md(t.slice,t.move,r<0?void 0:pe.create(this.state.doc,r))}someProp(t,e){let n=this._props&&this._props[t],r;if(n!=null&&(r=e?e(n):n))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(r=e?e(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(r=e?e(a):a))return r}}hasFocus(){if(yi){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&wk(this.dom),Bn(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Mk(this,t)}coordsAtPos(t,e=1){return g_(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return Ok(this,e||this.state,t)}pasteHTML(t,e){return Xa(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Xa(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(rE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,dk())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return sE(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?li&&this.root.nodeType===11&&fk(this.dom.ownerDocument)==this.dom&&TE(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function o_(i){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(i.editable),i.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(i.state)),e)for(let n in e)n=="class"?t.class+=" "+e[n]:n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),t.translate||(t.translate="no"),[zn.node(0,i.state.doc.content.size,t)]}function s_(i){if(i.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),i.cursorWrapper={dom:t,deco:zn.widget(i.state.selection.from,t,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function a_(i){return!i.someProp("editable",t=>t(i.state)===!1)}function FE(i,t){let e=Math.min(i.$anchor.sharedDepth(i.head),t.$anchor.sharedDepth(t.head));return i.$anchor.start(e)!=t.$anchor.start(e)}function l_(i){let t=Object.create(null);function e(n){for(let r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}return i.someProp("nodeViews",e),i.someProp("markViews",e),t}function NE(i,t){let e=0,n=0;for(let r in i){if(i[r]!=t[r])return!0;e++}for(let r in t)n++;return e!=n}function c_(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var RE=["ol",0],PE=["ul",0],VE=["li",0],H_={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(i){return{order:i.hasAttribute("start")?+i.getAttribute("start"):1}}}],toDOM(i){return i.attrs.order==1?RE:["ol",{start:i.attrs.order},0]}},j_={parseDOM:[{tag:"ul"}],toDOM(){return PE}},$_={parseDOM:[{tag:"li"}],toDOM(){return VE},defining:!0};function G_(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o);if(!s)return!1;let a=n?e.tr:null;return BE(a,s,i,t)?(n&&n(a.scrollIntoView()),!0):!1}}function BE(i,t,e,n=null){let r=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new Yr(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Yr(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=as(o,e,n,t);return a?(i&&zE(i,t,a,r,e),!0):!1}function zE(i,t,e,n,r){let o=j.empty;for(let h=e.length-1;h>=0;h--)o=j.from(e[h].type.create(e[h].attrs,o));i.step(new Ft(t.start-(n?2:0),t.end,t.start,t.end,new X(o,0,0),e.length,!0));let s=0;for(let h=0;h<e.length;h++)e[h].type==r&&(s=h+1);let a=e.length-s,l=t.start+e.length-(n?2:0),c=t.parent;for(let h=t.startIndex,p=t.endIndex,f=!0;h<p;h++,f=!1)!f&&gr(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(h).nodeSize;return i}function q_(i,t){return function(e,n){let{$from:r,$to:o,node:s}=e.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;let a=r.node(-1);if(a.type!=i)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let p=j.empty,f=r.index(-1)?1:r.index(-2)?2:3;for(let P=r.depth-f;P>=r.depth-3;P--)p=j.from(r.node(P).copy(p));let v=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;p=p.append(j.from(i.createAndFill()));let x=r.before(r.depth-(f-1)),S=e.tr.replace(x,r.after(-v),new X(p,4-f,0)),T=-1;S.doc.nodesBetween(x,S.doc.content.size,(P,me)=>{if(T>-1)return!1;P.isTextblock&&P.content.size==0&&(T=me+1)}),T>-1&&S.setSelection(Ee.near(S.doc.resolve(T))),n(S.scrollIntoView())}return!0}let l=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),h=l?[t?{type:i,attrs:t}:null,{type:l}]:void 0;return gr(c.doc,r.pos,2,h)?(n&&n(c.split(r.pos,2,h).scrollIntoView()),!0):!1}}function Yp(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,s=>s.childCount>0&&s.firstChild.type==i);return o?e?n.node(o.depth-1).type==i?HE(t,e,i,o):jE(t,e,o):!0:!1}}function HE(i,t,e,n){let r=i.tr,o=n.end,s=n.$to.end(n.depth);o<s&&(r.step(new Ft(o-1,s,o,s,new X(j.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new Yr(r.doc.resolve(n.$from.pos),r.doc.resolve(s),n.depth));let a=Jr(n);if(a==null)return!1;r.lift(n,a);let l=r.mapping.map(o,-1)-1;return Zr(r.doc,l)&&r.join(l),t(r.scrollIntoView()),!0}function jE(i,t,e){let n=i.tr,r=e.parent;for(let v=e.end,x=e.endIndex-1,S=e.startIndex;x>S;x--)v-=r.child(x).nodeSize,n.delete(v-1,v+1);let o=n.doc.resolve(e.start),s=o.nodeAfter;if(n.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),h=o.index(-1);if(!c.canReplace(h+(a?0:1),h+1,s.content.append(l?j.empty:j.from(r))))return!1;let p=o.pos,f=p+s.nodeSize;return n.step(new Ft(p-(a?1:0),f+(l?1:0),p+1,f-1,new X((a?j.empty:j.from(r.copy(j.empty))).append(l?j.empty:j.from(r.copy(j.empty))),a?0:1,l?0:1),a?0:1)),t(n.scrollIntoView()),!0}function Qp(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=i)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,h=j.from(c?i.create():null),p=new X(j.from(i.create(null,j.from(a.type.create(null,h)))),c?3:1,0),f=o.start,v=o.end;e(t.tr.step(new Ft(f-(c?3:1),v,f,v,p,1,!0)).scrollIntoView())}return!0}}var GE={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(i){return{href:i.getAttribute("href"),title:i.getAttribute("title"),target:i.getAttribute("target")}}}],toDOM(i){let{href:t,title:e,target:n}=i.attrs;return["a",{href:t,title:e,target:n},0]}},qE={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},UE={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(i)&&null}],toDOM(){return["strong",0]}},WE={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},XE={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},YE={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},QE={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:i=>({color:i})}],toDOM(i){let{color:t}=i.attrs;return["span",{style:`color:${t};`},0]}},KE={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:i=>({backgroundColor:i})}],toDOM(i){let{backgroundColor:t}=i.attrs;return["span",{style:`background-color:${t};`},0]}},JE={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},ZE={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},eM={link:GE,em:qE,strong:UE,code:WE,u:XE,s:YE,text_color:QE,text_background_color:KE,sup:JE,sub:ZE},tM={content:"block+"},iM={group:"inline"},nM={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{align:t,indent:e}=i.attrs,n={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:qc(n)||null,"data-indent":e??null},0]}},rM={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(i){let t=i.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(i){let{indent:t}=i.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:qc(e)||null,"data-indent":t??null},0]}},oM={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},sM={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{level:t,align:e,indent:n}=i.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null},s={style:qc(r)||null,"data-indent":n??null};return[`h${t}`,s,0]}},aM={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},lM={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},cM={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(i){return{src:i.getAttribute("src"),title:i.getAttribute("title"),alt:i.getAttribute("alt"),width:i.getAttribute("width")}}}],toDOM(i){let{src:t,alt:e,title:n,width:r}=i.attrs;return["img",{src:t,alt:e,title:n,width:r}]}},dM=be(R({},$_),{content:"paragraph block*"}),uM=be(R({},H_),{content:"list_item+",group:"block"}),hM=be(R({},j_),{content:"list_item+",group:"block"}),pM={doc:tM,text:iM,paragraph:nM,blockquote:rM,horizontal_rule:oM,heading:sM,hard_break:lM,code_block:aM,image:cM,list_item:dM,ordered_list:uM,bullet_list:hM},co=new Jc({marks:eM,nodes:pM});var W_=(i,t)=>i.selection.empty?!1:(t&&t(i.tr.deleteSelection().scrollIntoView()),!0);function mM(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("backward",i):e.parentOffset>0)?null:e}var fM=(i,t,e)=>{let n=mM(i,e);if(!n)return!1;let r=X_(n);if(!r){let s=n.blockRange(),a=s&&Jr(s);return a==null?!1:(t&&t(i.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(K_(i,r,t,-1))return!0;if(n.parent.content.size==0&&(vs(o,"end")||pe.isSelectable(o)))for(let s=n.depth;;s--){let a=rd(i.doc,n.before(s),n.after(s),X.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=i.tr.step(a);l.setSelection(vs(o,"end")?Ee.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):pe.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function vs(i,t,e=!1){for(let n=i;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}var gM=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):n.parentOffset>0)return!1;o=X_(n)}let s=o&&o.nodeBefore;return!s||!pe.isSelectable(s)?!1:(t&&t(i.tr.setSelection(pe.create(i.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function X_(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){if(i.index(t)>0)return i.doc.resolve(i.before(t+1));if(i.node(t).type.spec.isolating)break}return null}function vM(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}var xM=(i,t,e)=>{let n=vM(i,e);if(!n)return!1;let r=Y_(n);if(!r)return!1;let o=r.nodeAfter;if(K_(i,r,t,1))return!0;if(n.parent.content.size==0&&(vs(o,"start")||pe.isSelectable(o))){let s=rd(i.doc,n.before(),n.after(),X.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=i.tr.step(s);a.setSelection(vs(o,"start")?Ee.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):pe.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},_M=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;o=Y_(n)}let s=o&&o.nodeAfter;return!s||!pe.isSelectable(s)?!1:(t&&t(i.tr.setSelection(pe.create(i.doc,o.pos)).scrollIntoView()),!0)};function Y_(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){let e=i.node(t);if(i.index(t)+1<e.childCount)return i.doc.resolve(i.after(t+1));if(e.type.spec.isolating)break}return null}var Q_=(i,t)=>{let{$from:e,$to:n}=i.selection,r=e.blockRange(n),o=r&&Jr(r);return o==null?!1:(t&&t(i.tr.lift(r,o).scrollIntoView()),!0)},Jp=(i,t)=>{let{$head:e,$anchor:n}=i.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(i.tr.insertText(`
`).scrollIntoView()),!0)};function Zp(i){for(let t=0;t<i.edgeCount;t++){let{type:e}=i.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var em=(i,t)=>{let{$head:e,$anchor:n}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),o=e.indexAfter(-1),s=Zp(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(t){let a=e.after(),l=i.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ee.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},tm=(i,t)=>{let e=i.selection,{$from:n,$to:r}=e;if(e instanceof Ii||n.parent.inlineContent||r.parent.inlineContent)return!1;let o=Zp(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(s,o.createAndFill());a.setSelection(Ge.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},im=(i,t)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(gr(i.doc,o))return t&&t(i.tr.split(o).scrollIntoView()),!0}let n=e.blockRange(),r=n&&Jr(n);return r==null?!1:(t&&t(i.tr.lift(n,r).scrollIntoView()),!0)};function yM(i){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof pe&&t.selection.node.isBlock)return!n.parentOffset||!gr(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],s,a,l=!1,c=!1;for(let v=n.depth;;v--)if(n.node(v).isBlock){l=n.end(v)==n.pos+(n.depth-v),c=n.start(v)==n.pos-(n.depth-v),a=Zp(n.node(v-1).contentMatchAt(n.indexAfter(v-1)));let S=i&&i(r.parent,l,n);o.unshift(S||(l&&a?{type:a}:null)),s=v;break}else{if(v==1)return!1;o.unshift(null)}let h=t.tr;(t.selection instanceof Ge||t.selection instanceof Ii)&&h.deleteSelection();let p=h.mapping.map(n.pos),f=gr(h.doc,p,o.length,o);if(f||(o[0]=a?{type:a}:null,f=gr(h.doc,p,o.length,o)),h.split(p,o.length,o),!l&&c&&n.node(s).type!=a){let v=h.mapping.map(n.before(s)),x=h.doc.resolve(v);a&&n.node(s-1).canReplaceWith(x.index(),x.index()+1,a)&&h.setNodeMarkup(h.mapping.map(n.before(s)),a)}return e&&e(h.scrollIntoView()),!0}}var nm=yM();var bM=(i,t)=>(t&&t(i.tr.setSelection(new Ii(i.doc))),!0);function CM(i,t,e){let n=t.nodeBefore,r=t.nodeAfter,o=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(e&&e(i.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||Zr(i.doc,t.pos))?!1:(e&&e(i.tr.join(t.pos).scrollIntoView()),!0)}function K_(i,t,e,n){let r=t.nodeBefore,o=t.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&CM(i,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(e){let v=t.pos+o.nodeSize,x=j.empty;for(let P=s.length-1;P>=0;P--)x=j.from(s[P].create(null,x));x=j.from(r.copy(x));let S=i.tr.step(new Ft(t.pos-1,v,t.pos,v,new X(x,1,0),s.length,!0)),T=S.doc.resolve(v+2*s.length);T.nodeAfter&&T.nodeAfter.type==r.type&&Zr(S.doc,T.pos)&&S.join(T.pos),e(S.scrollIntoView())}return!0}let h=o.type.spec.isolating||n>0&&l?null:Ee.findFrom(t,1),p=h&&h.$from.blockRange(h.$to),f=p&&Jr(p);if(f!=null&&f>=t.depth)return e&&e(i.tr.lift(p,f).scrollIntoView()),!0;if(c&&vs(o,"start",!0)&&vs(r,"end")){let v=r,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let S=o,T=1;for(;!S.isTextblock;S=S.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(e){let P=j.empty;for(let te=x.length-1;te>=0;te--)P=j.from(x[te].copy(P));let me=i.tr.step(new Ft(t.pos-x.length,t.pos+o.nodeSize,t.pos+T,t.pos+o.nodeSize-T,new X(P,x.length,0),0,!0));e(me.scrollIntoView())}return!0}}return!1}function J_(i){return function(t,e){let n=t.selection,r=i<0?n.$from:n.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(Ge.create(t.doc,i<0?r.start(o):r.end(o)))),!0):!1}}var wM=J_(-1),SM=J_(1);function Z_(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o),a=s&&as(s,i,t);return a?(n&&n(e.tr.wrap(s,a).scrollIntoView()),!0):!1}}function bd(i,t=null){return function(e,n){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=e.selection.ranges[o];e.doc.nodesBetween(s,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,t)))if(l.type==i)r=!0;else{let h=e.doc.resolve(c),p=h.index();r=h.parent.canReplaceWith(p,p+1,i)}})}if(!r)return!1;if(n){let o=e.tr;for(let s=0;s<e.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=e.selection.ranges[s];o.setBlockType(a,l,i,t)}n(o.scrollIntoView())}return!0}}function TM(i,t,e,n){for(let r=0;r<t.length;r++){let{$from:o,$to:s}=t[r],a=o.depth==0?i.inlineContent&&i.type.allowsMarkType(e):!1;if(i.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!n&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(e)}),a)return!0}return!1}function kM(i){let t=[];for(let e=0;e<i.length;e++){let{$from:n,$to:r}=i[e];n.doc.nodesBetween(n.pos,r.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=n.pos&&s+o.nodeSize<=r.pos)return s+1>n.pos&&t.push(new cs(n,n.doc.resolve(s+1))),n=n.doc.resolve(s+1+o.content.size),!1}),n.pos<r.pos&&t.push(new cs(n,r))}return t}function uo(i,t=null,e){let n=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1;return function(o,s){let{empty:a,$cursor:l,ranges:c}=o.selection;if(a&&!l||!TM(o.doc,c,i,r))return!1;if(s)if(l)i.isInSet(o.storedMarks||l.marks())?s(o.tr.removeStoredMark(i)):s(o.tr.addStoredMark(i.create(t)));else{let h,p=o.tr;r||(c=kM(c)),n?h=!c.some(f=>o.doc.rangeHasMark(f.$from.pos,f.$to.pos,i)):h=!c.every(f=>{let v=!1;return p.doc.nodesBetween(f.$from.pos,f.$to.pos,(x,S,T)=>{if(v)return!1;v=!i.isInSet(x.marks)&&!!T&&T.type.allowsMarkType(i)&&!(x.isText&&/^\s*$/.test(x.textBetween(Math.max(0,f.$from.pos-S),Math.min(x.nodeSize,f.$to.pos-S))))}),!v});for(let f=0;f<c.length;f++){let{$from:v,$to:x}=c[f];if(!h)p.removeMark(v.pos,x.pos,i);else{let S=v.pos,T=x.pos,P=v.nodeAfter,me=x.nodeBefore,te=P&&P.isText?/^\s*/.exec(P.text)[0].length:0,Qe=me&&me.isText?/\s*$/.exec(me.text)[0].length:0;S+te<T&&(S+=te,T-=Qe),p.addMark(S,T,i.create(t))}}s(p.scrollIntoView())}return!0}}function xs(...i){return function(t,e,n){for(let r=0;r<i.length;r++)if(i[r](t,e,n))return!0;return!1}}var Kp=xs(W_,fM,gM),U_=xs(W_,xM,_M),Hn={Enter:xs(Jp,tm,im,nm),"Mod-Enter":em,Backspace:Kp,"Mod-Backspace":Kp,"Shift-Backspace":Kp,Delete:U_,"Mod-Delete":U_,"Mod-a":bM},e1={"Ctrl-h":Hn.Backspace,"Alt-Backspace":Hn["Mod-Backspace"],"Ctrl-d":Hn.Delete,"Ctrl-Alt-Backspace":Hn["Mod-Delete"],"Alt-Delete":Hn["Mod-Delete"],"Alt-d":Hn["Mod-Delete"],"Ctrl-a":wM,"Ctrl-e":SM};for(let i in Hn)e1[i]=Hn[i];var EM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,t1=EM?e1:Hn;var qi=class{constructor(t,e,n={}){this.match=t,this.match=t,this.handler=typeof e=="string"?MM(e):e,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1}};function MM(i){return function(t,e,n,r){let o=i;if(e[1]){let s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length),n+=s;let a=n-r;a>0&&(o=e[0].slice(s-a,s)+o,n=r)}return t.tr.insertText(o,n,r)}}var AM=500;function n1({rules:i}){let t=new Nn({state:{init(){return null},apply(e,n){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:n)}},props:{handleTextInput(e,n,r,o){return i1(e,n,r,o,i,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:n}=e.state.selection;n&&i1(e,n.pos,n.pos,"",i,t)})}}},isInputRules:!0});return t}function i1(i,t,e,n,r,o){if(i.composing)return!1;let s=i.state,a=s.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-AM),a.parentOffset,null,"\uFFFC")+n;for(let c=0;c<r.length;c++){let h=r[c];if(a.parent.type.spec.code){if(!h.inCode)continue}else if(h.inCode==="only")continue;let p=h.match.exec(l),f=p&&h.handler(s,p,t-(p[0].length-n.length),e);if(f)return h.undoable&&f.setMeta(o,{transform:f,from:t,to:e,text:n}),i.dispatch(f),!0}return!1}var r1=new qi(/--$/,"\u2014"),o1=new qi(/\.\.\.$/,"\u2026"),DM=new qi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),LM=new qi(/"$/,"\u201D"),IM=new qi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),OM=new qi(/'$/,"\u2019"),s1=[DM,LM,IM,OM];function Cd(i,t,e=null,n){return new qi(i,(r,o,s,a)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(s,a),h=c.doc.resolve(s),p=h.blockRange(),f=p&&as(p,t,l);if(!f)return null;c.wrap(p,f);let v=c.doc.resolve(s-1).nodeBefore;return v&&v.type==t&&Zr(c.doc,s-1)&&(!n||n(o,v))&&c.join(s-1),c})}function rm(i,t,e=null){return new qi(i,(n,r,o,s)=>{let a=n.doc.resolve(o),l=e instanceof Function?e(r):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?n.tr.delete(o,s).setBlockType(o,o,t,l):null})}var wd=(i,t)=>{let{from:e,$from:n,to:r,empty:o}=i.selection;return o?!!t.isInSet(i.storedMarks||n.marks()):i.doc.rangeHasMark(e,r,t)},FM=(i,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===i)return t.node(e).type;return null},om=(i,t,e={})=>{let{selection:n}=i,{$from:r,to:o}=n,s=FM(t,r);return!Object.entries(e).length||!s?!!s:o<=r.end()&&r.parent.hasMarkup(t,e)},a1=i=>{let t=[],{selection:e,storedMarks:n}=i,{from:r,to:o,empty:s,$from:a}=e;return s?t=n||a.marks():i.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},sm=i=>{let t=[],{selection:{from:e,to:n}}=i;return i.doc.nodesBetween(e,n,r=>{t.push(r)}),t},am=(i,t,e)=>{for(let n of t){let{$from:r,$to:o}=n,s=r.depth===0?i.type.allowsMarkType(e):!1;if(i.nodesBetween(r.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(e),!0)),s)return!0}return!1},lm=(i,t,e)=>new qi(i,(n,r,o,s)=>{let{tr:a}=n,l=o,c=s,[h,,p]=r,f=h.search(/\S/);if(p){let v=o+h.indexOf(p),x=v+p.length;x<s&&a.delete(x,s),v>o&&a.delete(o+f,v),c=o+p.length+f}return a.addMark(l,c,t.create(e)),a.removeStoredMark(t),a}),l1=(i,t)=>{let{$from:e}=i.selection;for(let n=e.depth;n>=0;n-=1){let r=e.index(n);if(e.node(n).canReplaceWith(r,r,t))return!0}return!1};var c1=()=>(i,t)=>{let{doc:e,selection:n,tr:r,schema:o}=i,{$head:{pos:s},from:a,to:l}=n,c=o.marks.link;if(a===l){let h=e.resolve(s),p=s-h.textOffset,f=p+h.parent.child(h.index()).nodeSize;r.removeMark(p,f,c)}else r.removeMark(a,l,c);return r.docChanged?(t?.(r),!0):!1},cm=(i,t={})=>(e,n)=>{let{tr:r,selection:o}=e,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof Ge){let{$cursor:h}=o;if(!h||!am(e.doc,a,i)||(r.addStoredMark(i.create(t)),!r.storedMarksSet))return!1;n?.(r)}else{if(r.addMark(l.pos,c.pos,i.create(t)),!r.docChanged)return!1;n?.(r.scrollIntoView())}return!0},d1=i=>(t,e)=>{let{tr:n,selection:r,storedMarks:o,doc:s}=t,{empty:a,ranges:l}=r;if(a&&r instanceof Ge){let{$cursor:c}=r;if(!c||!am(t.doc,l,i))return!1;if(i.isInSet(o||c.marks()))return n.removeStoredMark(i),e?.(n),!0}else{for(let c of l){let{$from:h,$to:p}=c;s.rangeHasMark(h.pos,p.pos,i)&&n.removeMark(h.pos,p.pos,i)}if(!n.docChanged)return!1;e?.(n.scrollIntoView())}return!1};var Sd=200,Ht=function(){};Ht.prototype.append=function(t){return t.length?(t=Ht.from(t),!this.length&&t||t.length<Sd&&this.leafAppend(t)||this.length<Sd&&t.leafPrepend(this)||this.appendInner(t)):this};Ht.prototype.prepend=function(t){return t.length?Ht.from(t).append(this):this};Ht.prototype.appendInner=function(t){return new NM(this,t)};Ht.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?Ht.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};Ht.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ht.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};Ht.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,s){return r.push(t(o,s))},e,n),r};Ht.from=function(t){return t instanceof Ht?t:t&&t.length?new u1(t):Ht.empty};var u1=function(i){function t(n){i.call(this),this.values=n}i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Sd)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Sd)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Ht);Ht.empty=new u1([]);var NM=function(i){function t(e,n){i.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(r,a),o,s)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(Ht),dm=Ht;var RM=500,po=class i{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,o;e&&(r=this.remapping(n,this.items.length),o=r.maps.length);let s=t.tr,a,l,c=[],h=[];return this.items.forEach((p,f)=>{if(!p.step){r||(r=this.remapping(n,f+1),o=r.maps.length),o--,h.push(p);return}if(r){h.push(new fn(p.map));let v=p.step.map(r.slice(o)),x;v&&s.maybeStep(v).doc&&(x=s.mapping.maps[s.mapping.maps.length-1],c.push(new fn(x,void 0,void 0,c.length+h.length))),o--,x&&r.appendMap(x,o)}else s.maybeStep(p.step);if(p.selection)return a=r?p.selection.map(r.slice(o)):p.selection,l=new i(this.items.slice(0,n).append(h.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,e,n,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let h=0;h<t.steps.length;h++){let p=t.steps[h].invert(t.docs[h]),f=new fn(t.mapping.maps[h],p,e),v;(v=l&&l.merge(f))&&(f=v,h?o.pop():a=a.slice(0,a.length-1)),o.push(f),e&&(s++,e=void 0),r||(l=f)}let c=s-n.depth;return c>VM&&(a=PM(a,c),s-=c),new i(a.append(o),s)}remapping(t,e){let n=new Va;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,s)},t,e),n}addMaps(t){return this.eventCount==0?this:new i(this.items.append(t.map(e=>new fn(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=e;this.items.forEach(f=>{let v=o.getMirror(--l);if(v==null)return;s=Math.min(s,v);let x=o.maps[v];if(f.step){let S=t.steps[v].invert(t.docs[v]),T=f.selection&&f.selection.map(o.slice(l+1,v));T&&a++,n.push(new fn(x,S,T))}else n.push(new fn(x))},r);let c=[];for(let f=e;f<s;f++)c.push(new fn(o.maps[f]));let h=this.items.slice(0,r).append(c).append(n),p=new i(h,a);return p.emptyItemCount()>RM&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(e.slice(n)),c=l&&l.getMap();if(n--,c&&e.appendMap(c,n),l){let h=s.selection&&s.selection.map(e.slice(n));h&&o++;let p=new fn(c.invert(),l,h),f,v=r.length-1;(f=r.length&&r[v].merge(p))?r[v]=f:r.push(p)}}else s.map&&n--},this.items.length,0),new i(dm.from(r.reverse()),o)}};po.empty=new po(dm.empty,0);function PM(i,t){let e;return i.forEach((n,r)=>{if(n.selection&&t--==0)return e=r,!1}),i.slice(e)}var fn=class i{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new i(e.getMap().invert(),e,this.selection)}}},gn=class{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}},VM=20;function BM(i,t,e,n){let r=e.getMeta(ho),o;if(r)return r.historyState;e.getMeta(jM)&&(i=new gn(i.done,i.undone,null,0,-1));let s=e.getMeta("appendedTransaction");if(e.steps.length==0)return i;if(s&&s.getMeta(ho))return s.getMeta(ho).redo?new gn(i.done.addTransform(e,void 0,n,Td(t)),i.undone,h1(e.mapping.maps),i.prevTime,i.prevComposition):new gn(i.done,i.undone.addTransform(e,void 0,n,Td(t)),null,i.prevTime,i.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=e.getMeta("composition"),l=i.prevTime==0||!s&&i.prevComposition!=a&&(i.prevTime<(e.time||0)-n.newGroupDelay||!zM(e,i.prevRanges)),c=s?um(i.prevRanges,e.mapping):h1(e.mapping.maps);return new gn(i.done.addTransform(e,l?t.selection.getBookmark():void 0,n,Td(t)),po.empty,c,e.time,a??i.prevComposition)}else return(o=e.getMeta("rebased"))?new gn(i.done.rebased(e,o),i.undone.rebased(e,o),um(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new gn(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),um(i.prevRanges,e.mapping),i.prevTime,i.prevComposition)}function zM(i,t){if(!t)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function h1(i){let t=[];for(let e=i.length-1;e>=0&&t.length==0;e--)i[e].forEach((n,r,o,s)=>t.push(o,s));return t}function um(i,t){if(!i)return null;let e=[];for(let n=0;n<i.length;n+=2){let r=t.map(i[n],1),o=t.map(i[n+1],-1);r<=o&&e.push(r,o)}return e}function HM(i,t,e){let n=Td(t),r=ho.get(t).spec.config,o=(e?i.undone:i.done).popEvent(t,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(e?i.done:i.undone).addTransform(o.transform,t.selection.getBookmark(),r,n),l=new gn(e?a:o.remaining,e?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(ho,{redo:e,historyState:l})}var hm=!1,p1=null;function Td(i){let t=i.plugins;if(p1!=t){hm=!1,p1=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){hm=!0;break}}return hm}var ho=new ds("history"),jM=new ds("closeHistory");function m1(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new Nn({key:ho,state:{init(){return new gn(po.empty,po.empty,null,0,-1)},apply(t,e,n){return BM(e,n,t,i)}},config:i,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r=n=="historyUndo"?Ed:n=="historyRedo"?Ja:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function kd(i,t){return(e,n)=>{let r=ho.getState(e);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let o=HM(r,e,i);o&&n(t?o.scrollIntoView():o)}return!0}}var Ed=kd(!1,!0),Ja=kd(!0,!0),vR=kd(!1,!1),xR=kd(!0,!1);var jn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ad={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$M=typeof navigator<"u"&&/Mac/.test(navigator.platform),GM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(bt=0;bt<10;bt++)jn[48+bt]=jn[96+bt]=String(bt);var bt;for(bt=1;bt<=24;bt++)jn[bt+111]="F"+bt;var bt;for(bt=65;bt<=90;bt++)jn[bt]=String.fromCharCode(bt+32),Ad[bt]=String.fromCharCode(bt);var bt;for(Md in jn)Ad.hasOwnProperty(Md)||(Ad[Md]=jn[Md]);var Md;function f1(i){var t=$M&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||GM&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Ad:jn)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var qM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function UM(i){let t=i.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let n,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))qM?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function WM(i){let t=Object.create(null);for(let e in i)t[UM(e)]=i[e];return t}function pm(i,t,e=!0){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e&&t.shiftKey&&(i="Shift-"+i),i}function Za(i){return new Nn({props:{handleKeyDown:XM(i)}})}function XM(i){let t=WM(i);return function(e,n){let r=f1(n),o,s=t[pm(r,n)];if(s&&s(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=t[pm(r,n,!1)];if(a&&a(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(o=jn[n.keyCode])&&o!=r){let a=t[pm(o,n)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}var C1=i=>typeof i=="string",YM=()=>window.trustedTypes,w1=i=>YM()?.isHTML(i)??!1,QM=i=>C1(i)||w1(i),KM={type:"doc",content:[{type:"paragraph"}]};var JM=(i,t,e)=>{let n=t??co,r=document.createElement("div");return r.innerHTML=i,mr.fromSchema(n).parse(r,e).toJSON()},el=(i,t,e)=>{if(!i)return t.nodeFromJSON(KM);if(!QM(i))return t.nodeFromJSON(i);let n=JM(i,t,e);return t.nodeFromJSON(n)};var vn=class{constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?cm(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?uo(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?wd(t,n):!1}canExecute(t){return this.toggle()(t)}},mm=class{toggle(){return(t,e)=>{let{schema:n}=t,r=n.nodes.blockquote;return r?this.isActive(t)?Q_(t,e):Z_(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.nodes.blockquote;return n?om(t,n):!1}canExecute(t){return this.toggle()(t)}},fm=class{insert(){return(t,e)=>{let{schema:n,tr:r}=t,o=n.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return l1(t,t.schema.nodes.horizontal_rule)}},ys=class{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:n}=t,r=this.getType(n);return r?this.isActive(t)?Yp(n.nodes.list_item)(t,e):G_(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=this.getType(e);return n?om(t,n):!1}canExecute(t){return this.toggle()(t)}},$n=class{constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.nodes.heading;return r?bd(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n,selection:r,doc:o}=t,s=n.nodes.heading;if(!s)return!1;let a=r.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(t)?bd(n.nodes.paragraph,c)(t,e):bd(s,be(R({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,n=sm(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!n.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},mo=class{constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:n,selection:r,tr:o,schema:s}=t,{from:a,to:l}=r,c=!1;return n.nodesBetween(a,l,(h,p)=>{let f=h.type;if([s.nodes.paragraph,s.nodes.heading].includes(f)){c=!0;let v=h.attrs.align===this.align?null:this.align;o.setNodeMarkup(p,f,be(R({},h.attrs),{align:v}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!sm(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},ZM={strict:!0},gm=class{update(t){return(e,n)=>{let{schema:r,selection:o}=e,s=r.marks.link;return!s||o.empty?!1:uo(s,t)(e,n)}}insert(t,e){return(n,r)=>{let{schema:o,tr:s}=n;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return s.replaceSelectionWith(c,!1).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t,e=ZM){if(e.strict)return!0;let{schema:n}=t,r=n.marks.link;return r?wd(t,r):!1}remove(t,e){return c1()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},S1=class{insert(t,e){return(n,r)=>{let{schema:o,tr:s,selection:a}=n,l=o.nodes.image;if(!l)return!1;let c=R({width:null,src:t},e);!c.width&&a instanceof pe&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));let h=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new pe(h)).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof pe?e.node.type.name==="image":!1}},_s=class{constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,n)=>{let{schema:r,selection:o,doc:s}=e,a=r.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:h}=o;if(!h&&l+1===c){let p=s.nodeAt(l);if(p?.isAtom&&!p.isText&&p.isLeaf)return!1}return cm(a,t)(e,n)}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?wd(t,n):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return a1(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?d1(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},eA=["link"],vm=class{insert(){return(t,e)=>{let{tr:n}=t,{ranges:r,empty:o}=n.selection;return o||(Object.entries(t.schema.marks).forEach(([s,a])=>{eA.includes(s)||r.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),e(n)),!0}}canExecute(){return!0}},tA=["paragraph","heading","blockquote"],g1=0,v1=10,iA=(i,t,e)=>{let n=i.doc.nodeAt(t);if(!n)return!1;let r=n.attrs.indent??0,o=Pv(r+(e==="increase"?1:-1),g1,v1);if(o===r||o<g1||o>v1)return!1;let s=be(R({},n.attrs),{indent:o});return i.setNodeMarkup(t,n.type,s),!0},bs=class{constructor(t){this.method="increase",this.method=t}insert(){return(t,e)=>{let{tr:n,doc:r}=t,{from:o,to:s}=n.selection,a=!1;return r.nodesBetween(o,s,(l,c)=>{let h=l.type;return tA.includes(h.name)?(a=iA(n,c,this.method),!1):!l.type.name.includes("list")}),a?(n.docChanged&&e?.(n),!0):!1}}canExecute(t){return this.insert()(t)}},Ld=class{constructor(t){this.mode="undo",this.mode=t}insert(){return(t,e)=>this.mode==="undo"?Ed(t,e):Ja(t,e)}canExecute(t){return this.insert()(t)}},rP=new vn("strong"),oP=new vn("em"),sP=new vn("code"),aP=new vn("u"),lP=new vn("s"),cP=new mm,dP=new fm,uP=new vm,hP=new ys(!0),pP=new ys(!1),mP=new $n(1),fP=new $n(2),gP=new $n(3),vP=new $n(4),xP=new $n(5),_P=new $n(6),yP=new mo("left"),bP=new mo("center"),CP=new mo("right"),wP=new mo("justify"),SP=new gm,TP=new S1,kP=new _s("text_color","color"),EP=new _s("text_background_color","backgroundColor"),MP=new bs("increase"),AP=new bs("decrease"),DP=new vn("sup"),LP=new vn("sub"),IP=new Ld("undo"),OP=new Ld("redo");var xm={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},_m=class{constructor(t={}){this.locals=xm,this.get=e=>{let n=this.locals[e];return n?Io(n)?n:ee(n):ee("")},this.locals=R(R({},xm),t)}},nA=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,rA=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,oA=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,sA=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,aA=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,lA=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,cA=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,dA=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,uA=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,hA=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,pA=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,mA=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,fA=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,gA=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,vA=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,xA=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,_A=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,yA=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,bA=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,CA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',wA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',SA='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',TA='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',kA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',EA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',MA=20,AA=20,DA="currentColor",T1={bold:nA,italic:rA,code:oA,underline:sA,strike:aA,ordered_list:lA,bullet_list:cA,blockquote:dA,link:uA,unlink:hA,image:pA,align_left:mA,align_center:fA,align_right:gA,align_justify:vA,text_color:xA,color_fill:_A,horizontal_rule:yA,format_clear:bA,indent:CA,outdent:wA,superscript:SA,subscript:TA,undo:kA,redo:EA,path:"<path></path>"},ym=class{static get(t,e=DA){let n=T1[t];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${MA}
          width=${AA}
        >
          ${n}
        </svg>
      `:n}},bm=(()=>{class i{constructor(){this.locals={},this.icons={}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),LA=(()=>{class i{constructor(e){this.config=e}get locals(){return new _m(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:ym.get(e)}static{this.\u0275fac=function(n){return new(n||i)(re(bm,8))}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),x1=i=>({locals:i.locals??{},icons:i.icons??{}}),IA=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return w1(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(n){return new(n||i)(M(ra,16))}}static{this.\u0275pipe=ag({name:"sanitizeHtml",type:i,pure:!0,standalone:!1})}}return i})();var OA=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({providers:[IA],imports:[se,Ne]})}}return i})(),Dd=new we("NgxEditorConfig"),_1={locals:xm,icons:T1},k1=(()=>{class i{static forRoot(e=_1){return{ngModule:i,providers:[{provide:Dd,useValue:e},{provide:bm,useFactory:x1,deps:[Dd]}]}}static forChild(e=_1){return{ngModule:i,providers:[{provide:Dd,useValue:e},{provide:bm,useFactory:x1,deps:[Dd]},LA]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[se,OA]})}}return i})(),FA=i=>i===null||i.length===0,y1=i=>i!==null&&typeof i.length=="number",NA=i=>{if(!i)return!0;let{childCount:t,firstChild:e}=i;return!!(t===1&&e?.isTextblock&&e.content.size===0)},Id=class{static required(t){return e=>{let n=t||co,r=el(e.value,n);return NA(r)?{required:!0}:null}}static maxLength(t,e){return n=>{let r=e||co,s=el(n.value,r).textContent;return y1(s)&&s.length>t?{maxlength:{requiredLength:t,actualLength:s.length}}:null}}static minLength(t,e){return n=>{let r=e||co,s=el(n.value,r).textContent;return FA(s)||!y1(s)?null:s.length<t?{minlength:{requiredLength:t,actualLength:s.length}}:null}}},bi=(i,t=!1)=>(e,n)=>{let r=new vn(i);return t?r.toggle()(e,n):r.apply()(e,n)},Cm=class{constructor(t){if(this.applyTrx=e=>{this.state=this.state.apply(e??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=e=>{this.applyTrx(e)},!t)throw new Gc("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?Ee.atStart(this.state.doc):Ee.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return xs(...[Jp,tm,im,nm])(this.state,this.dispatch),this}applyMark(t){return bi(t,!1)(this.state,this.dispatch),this}toggleMark(t){return bi(t,!0)(this.state,this.dispatch),this}bold(){return bi("strong")(this.state,this.dispatch),this}toggleBold(){return bi("strong",!0)(this.state,this.dispatch),this}italics(){return bi("em")(this.state,this.dispatch),this}toggleItalics(){return bi("em",!0)(this.state,this.dispatch),this}underline(){return bi("u")(this.state,this.dispatch),this}toggleUnderline(){return bi("u",!0)(this.state,this.dispatch),this}strike(){return bi("s")(this.state,this.dispatch),this}toggleStrike(){return bi("s",!0)(this.state,this.dispatch),this}code(){return bi("code")(this.state,this.dispatch),this}toggleCode(){return bi("code",!0)(this.state,this.dispatch),this}superscript(){return bi("sup")(this.state,this.dispatch),this}subscript(){return bi("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new ys(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new ys(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new $n(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new gm().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new gm().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new S1().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new _s("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new _s("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new _s("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new _s("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new mo(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:n,tr:r}=this.state,{from:o,to:s}=e,a=document.createElement("div");a.innerHTML=C1(t)?t.trim():t;let l=mr.fromSchema(n).parseSlice(a),c=r.replaceRange(o,s,l);return this.applyTrx(c),this}indent(){return new bs("increase").insert()(this.state,this.dispatch),this}outdent(){return new bs("decrease").insert()(this.state,this.dispatch),this}},RA=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,PA=i=>Cd(/^\s*>\s$/,i),VA=i=>Cd(/^(?:\d+)\.\s$/,i,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),BA=i=>Cd(/^\s*(?:[-+*])\s$/,i),zA=i=>rm(/^```$/,i),HA=(i,t)=>rm(new RegExp(`^(#{1,${t}})\\s$`),i,e=>({level:e[1].length})),jA=i=>lm(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,i),$A=i=>lm(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,i),GA=i=>{let t=s1.concat(o1,r1);return t.push(jA(i.marks.strong)),t.push($A(i.marks.em)),t.push(PA(i.nodes.blockquote)),t.push(VA(i.nodes.ordered_list)),t.push(BA(i.nodes.bullet_list)),t.push(zA(i.nodes.code_block)),t.push(HA(i.nodes.heading,6)),n1({rules:t})},qA=(i,t)=>{let e={};e["Mod-z"]=Ed,RA?e["Shift-Mod-z"]=Ja:e["Mod-y"]=Ja;let n=[Za({"Mod-b":uo(i.marks.strong),"Mod-i":uo(i.marks.em),"Mod-u":uo(i.marks.u),"Mod-`":uo(i.marks.code)}),Za({Enter:q_(i.nodes.list_item),"Shift-Enter":xs(em,(r,o)=>{let{tr:s}=r,a=i.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":Yp(i.nodes.list_item),"Mod-]":Qp(i.nodes.list_item),Tab:Qp(i.nodes.list_item)}),Za(t1)];return t.history&&n.push(Za(e)),n},UA=(i,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...qA(i,{history:t.history})),t.history&&e.push(m1()),t.inputRules&&e.push(GA(i)),e},E1={linkOnPaste:!0,resizeImage:!0},b1={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:co,plugins:[],nodeViews:{},attributes:{},features:E1,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Od=class{constructor(t=b1){this.valueChangesSubject=new Xt,this.updateSubject=new Xt,this.options=R(R({},b1),t),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||co}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Cm(this.view)}get features(){return R(R({},E1),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let n=e.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:t,schema:e}=this,{content:n=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=t,l=el(n,e,t.parseOptions),c=t.plugins??[],h=t.attributes??{},p=UA(e,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new xd(null,{state:ad.create({doc:l,schema:e,plugins:[...p,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:h,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(Rv(t))return;let{state:e}=this.view,{tr:n,doc:r}=e,o=el(t,this.schema,this.options.parseOptions);n.replaceWith(0,e.doc.content.size,o),!r.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(t){let{state:e}=this.view,n=[...e.plugins,t],r=e.reconfigure({plugins:n});this.view.updateState(r)}destroy(){this.view.destroy()}};var tl=Nt(jt());function WA(i,t){if(i&1&&(d(0,"option",16),m(1),u()),i&2){let e=t.$implicit;y("value",e.Id),g(),oe(e.RoleName)}}var Nd=(()=>{class i{constructor(e,n,r,o,s,a,l,c){this.fb=e,this.router=n,this.local=r,this.httpRequest=o,this.handleModal=s,this.userService=a,this.handleAuthentication=l,this.authData=c,this.isLoading=!1,this.userRoles=[]}ngOnInit(){this.createUserForm=this.fb.group({full_name:["",je.required],email:["",[je.required,je.email]],phone:["",je.required],role_id:["",je.required]}),this.httpRequest.makeGetRequest("/users_management/user_roles/all").subscribe(e=>{this.userRoles=e.data})}onSubmit(){if(this.createUserForm.valid){this.isLoading=!0;let e=this.createUserForm.value;this.httpRequest.makePostRequest("/users_management/create_new_user",e).subscribe(n=>{let r=n?.user?.id;this.userService.triggerUserRefresh(),this.isLoading=!1,n.status&&r&&(this.authentication(r),(0,tl.default)({text:"User created successfully!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.local.write("auth-token",{token:n.token}))},n=>{this.isLoading=!1;let r=n?.error?.message??n.message;(0,tl.default)({text:`Error: ${r}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}else(0,tl.default)({text:"Please fill out the form correctly.",duration:3e3,gravity:"top",position:"right",backgroundColor:"orange"}).showToast()}authentication(e){this.httpRequest.makePostRequest("/users_management/create_authenticator_secret",{identity:e}).subscribe(n=>{this.handleModal.showMother("authentication"),this.authData.setAuthData(n)},n=>{console.log(n)})}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(Re),M(si),M(Me),M(ce),M(ce),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-newuser"]],decls:26,vars:4,consts:[[1,""],[1,"px-5","mb-5"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","full_name"],["type","text","formControlName","full_name","placeholder","Full Name",1,"form-control"],["for","email"],["formControlName","email","type","email","placeholder","Enter email",1,"form-control"],["for","phone"],["type","tel","formControlName","phone","placeholder","Phone Number",1,"form-control"],["for","role_id"],["formControlName","role_id",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[3,"value"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),m(3,"Create User"),u(),d(4,"form",3),I("ngSubmit",function(){return r.onSubmit()}),d(5,"div",4)(6,"label",5),m(7,"Full Name"),u(),_(8,"input",6),u(),d(9,"div",4)(10,"label",7),m(11,"Email address"),u(),_(12,"input",8),u(),d(13,"div",4)(14,"label",9),m(15,"Phone Number"),u(),_(16,"input",10),u(),d(17,"div",4)(18,"label",11),m(19,"Select Role"),u(),d(20,"select",12)(21,"option",13),m(22,"Select Role"),u(),L(23,WA,2,2,"option",14),u()(),d(24,"button",15),m(25),u()()()()),n&2&&(g(4),y("formGroup",r.createUserForm),g(19),y("ngForOf",r.userRoles),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Create User"," "))},dependencies:[se,nt,Ne,We,hr,pr,Oe,ur,Fe,$e,Et,Mt,rt],encapsulation:2})}}return i})();var it=Nt(jt());var A1=(()=>{class i{constructor(e){this.sidebarService=e}ngOnInit(){this.userData=this.sidebarService.getUserData(),console.log(this.userData)}static{this.\u0275fac=function(n){return new(n||i)(M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-userdetail"]],decls:14,vars:3,consts:[[3,"innerHTML"]],template:function(n,r){n&1&&(d(0,"table")(1,"tr")(2,"th"),m(3,"ID"),u(),d(4,"th"),m(5,"Title"),u(),d(6,"th"),m(7,"Contents"),u()(),d(8,"tr")(9,"td"),m(10),u(),d(11,"td"),m(12),u(),_(13,"td",0),u()()),n&2&&(g(10),oe(r.userData.Id),g(2),oe(r.userData.MemTitle),g(),y("innerHTML",r.userData.MemContents,tr))},styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:18px;text-align:left}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}td[_ngcontent-%COMP%]   [innerHTML][_ngcontent-%COMP%]{padding:10px;border-radius:4px;background-color:#f0f8ff}"]})}}return i})();var wm=Nt(jt());var D1=(()=>{class i{constructor(e,n,r,o){this.sidebarService=e,this.fb=n,this.httpRequest=r,this.handleModals=o,this.isLoading=!1}ngOnInit(){this.authData=this.sidebarService.getAuthData();let e=this.authData.asciiToken;this.createAuthForm=this.fb.group({otp:[""],asciiToken:e})}onSubmit(){if(this.isLoading=!0,this.createAuthForm.valid){let e=this.createAuthForm.value;this.httpRequest.makePostRequest("/users_management/verify_auth",e).subscribe(n=>{this.isLoading=!1,(0,wm.default)({text:"successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.handleModals.showMother("undefined")},n=>{this.isLoading=!1,(0,wm.default)({text:"Error",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}}static{this.\u0275fac=function(n){return new(n||i)(M(ce),M(Jt),M(Me),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-authentication"]],decls:15,vars:4,consts:[[1,"px-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"qrcode"],["alt","User Image",3,"src"],[1,"form-group"],["for","otp"],["formControlName","otp","type","otp","placeholder","Enter Otp Code",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"p"),m(2,"User Authentication Page"),u(),_(3,"p"),d(4,"p"),m(5,"Scan your Qr Code"),u(),d(6,"form",1),I("ngSubmit",function(){return r.onSubmit()}),d(7,"p",2),_(8,"img",3),u(),d(9,"div",4)(10,"label",5),m(11,"Otp Code"),u(),_(12,"input",6),u(),d(13,"button",7),m(14),u()()()),n&2&&(g(6),y("formGroup",r.createAuthForm),g(2),y("src",r.authData.url,Qt),g(5),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[rt,We,Oe,Fe,$e,se,Ne,Et,Mt],styles:[".qrcode[_ngcontent-%COMP%]{border:2px solid blue;height:200px;width:200px}"]})}}return i})();function XA(i,t){if(i&1){let e=J();d(0,"form",3),I("ngSubmit",function(){V(e);let r=C();return B(r.addESignature())}),d(1,"div",4)(2,"label",5),m(3,"Title:"),u(),d(4,"input",6),Tt("ngModelChange",function(r){V(e);let o=C();return St(o.esignature.title,r)||(o.esignature.title=r),B(r)}),u()(),d(5,"label",7),m(6,"Upload Image:"),u(),d(7,"input",8),I("change",function(r){V(e);let o=C();return B(o.onFileChange(r))}),u(),d(8,"button",9),m(9,"Add E-Signature"),u()()}if(i&2){let e=C();g(4),wt("ngModel",e.esignature.title)}}function YA(i,t){if(i&1){let e=J();d(0,"form",3),I("ngSubmit",function(){V(e);let r=C();return B(r.updateESignature())}),d(1,"h3"),m(2,"Update Existing E-Signature"),u(),d(3,"label",5),m(4,"Title:"),u(),d(5,"input",10),Tt("ngModelChange",function(r){V(e);let o=C();return St(o.esignature.title,r)||(o.esignature.title=r),B(r)}),u(),d(6,"label",7),m(7,"Upload New Image:"),u(),d(8,"input",11),I("change",function(r){V(e);let o=C();return B(o.onFileChange(r))}),u(),d(9,"button",9),m(10,"Update E-Signature"),u()()}if(i&2){let e=C();g(5),wt("ngModel",e.esignature.title)}}function QA(i,t){if(i&1&&(d(0,"div")(1,"h3"),m(2,"Current E-Signature"),u(),_(3,"img",12),u()),i&2){let e=C();g(3),y("src",e.esignature.image_path,Qt)}}var L1=(()=>{class i{constructor(e){this.http=e,this.esignature={title:"",image_path:""},this.recordExists=!1}ngOnInit(){this.checkForExistingRecord()}checkForExistingRecord(){this.http.makeGetRequest("/api/esignatures").subscribe(e=>{e.length>0&&(this.esignature=e[0],this.recordExists=!0)})}onFileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=o=>{this.esignature.image_path=o.target.result},r.readAsDataURL(n)}}addESignature(){console.log(this.esignature),this.http.makePostRequest("/api/esignatures",this.esignature).subscribe(()=>{this.checkForExistingRecord()})}updateESignature(){}static{this.\u0275fac=function(n){return new(n||i)(M(Me))}}static{this.\u0275cmp=H({type:i,selectors:[["app-esignature"]],decls:6,vars:3,consts:[[1,"esignatures-container"],["enctype","multipart/form-data",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["enctype","multipart/form-data",3,"ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["type","file","id","image","accept","image/*",3,"change"],["alt","E-Signature",1,"signature-image",3,"src"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"h2"),m(2,"E-Signatures Management"),u(),L(3,XA,10,1,"form",1)(4,YA,11,1,"form",1)(5,QA,4,1,"div",2),u()),n&2&&(g(3),y("ngIf",!r.recordExists),g(),y("ngIf",r.recordExists),g(),y("ngIf",r.esignature.image_path))},dependencies:[se,ge,Ne,We,Oe,Fe,$e,ai,rt,Pt,Di],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:18px;text-align:left}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}td[_ngcontent-%COMP%]   [innerHTML][_ngcontent-%COMP%]{padding:10px;border-radius:4px;background-color:#f0f8ff}"]})}}return i})();var Sm=Nt(jt());var I1=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.handleModal=n,this.otpconfirmationService=r,this.otp="",this.isLoading=!1}onSubmit(){if(!this.otp){(0,Sm.default)({text:"invalid",gravity:"top",duration:3e3,backgroundColor:"red",position:"right"}).showToast();return}this.isLoading=!0,this.httpRequest.makePostRequest("/auth/validate_two_fact_auth",{otp:this.otp}).subscribe(e=>{this.otpconfirmationService.triggerOtpConfirmationRefresh(),e.status?this.publishAndUnpublish():this.isLoading=!1},e=>{console.error("Error updating memo:",e),this.isLoading=!1,(0,Sm.default)({text:"invalid OTP",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}publishAndUnpublish(){this.httpRequest.makePatchRequest("/memo/publsh_memo",{memId:this.handleModal.publishMemId.memId,publish:this.handleModal.publishMemId.status}).subscribe(e=>{this.isLoading=!1,this.handleModal.showMother("undefined")},e=>{this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-otpconfirmation"]],decls:8,vars:3,consts:[[1,"form-group","px-5"],[3,"ngSubmit"],["type","text","name","otp",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"form",1),I("ngSubmit",function(){return r.onSubmit()}),d(2,"div")(3,"label"),m(4,"Enter your Otp"),u(),d(5,"input",2),Tt("ngModelChange",function(s){return St(r.otp,s)||(r.otp=s),s}),u()(),d(6,"button",3),m(7),u()()()),n&2&&(g(5),wt("ngModel",r.otp),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[Ne,We,Oe,Fe,$e,se,rt,Pt,Di],encapsulation:2})}}return i})();var Rd=Nt(jt());var O1=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.sidebarService=n,this.folderService=r,this.isLoading=!1,this.name=""}onSubmit(){if(!this.name){console.log("here"),(0,Rd.default)({text:"invalid",gravity:"top",duration:3e3,backgroundColor:"red",position:"right"}).showToast();return}this.isLoading=!0,this.httpRequest.makePostRequest("/memo/folder/create",{name:this.name,isEnabled:!0}).subscribe(e=>{this.folder=e.data,this.sidebarService.show=void 0,console.log(this.folder),this.isLoading=!1,(0,Rd.default)({text:"successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.folderService.triggerFolderRefresh()},e=>{console.error("Error updating memo:",e),this.isLoading=!1,(0,Rd.default)({text:`${e.error.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-createfolder"]],decls:8,vars:3,consts:[[1,"form-group","px-5"],[3,"ngSubmit"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"disabled"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"form",1),I("ngSubmit",function(){return r.onSubmit()}),d(2,"div")(3,"label"),m(4,"Enter folder name"),u(),d(5,"input",2),Tt("ngModelChange",function(s){return St(r.name,s)||(r.name=s),s}),u()(),d(6,"button",3),m(7),u()()()),n&2&&(g(5),wt("ngModel",r.name),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[rt,We,Oe,Fe,$e,Pt,Di,se,Ne],encapsulation:2})}}return i})();var fo=Nt(jt());function KA(i,t){if(i&1&&(et(0),d(1,"h3"),m(2,"Scan your physical QR Code"),u(),_(3,"img",3),tt()),i&2){let e=C();g(3),Ui("src",e.handleModals.qrCodeData.MemQRCode,Qt)}}function JA(i,t){if(i&1){let e=J();d(0,"div")(1,"div",4)(2,"div",5),_(3,"input",6),d(4,"button",7),I("click",function(){V(e);let r=C();return B(r.handleQrCodeLink())}),m(5),u()()()()}if(i&2){let e=C();g(),y("formGroup",e.form),g(4),U(" ",e.isQrCodeLoader?"Submitting...":"Get QR Code"," ")}}function ZA(i,t){if(i&1){let e=J();d(0,"button",8),I("click",function(){V(e);let r=C();return B(r.createQrCode())}),m(1),u()}if(i&2){let e=C();g(),U(" ",e.isLoading?"Submitting...":"Submit"," ")}}var F1=(()=>{class i{constructor(e,n,r){this.httpRequest=e,this.handleModals=n,this.qrCodeService=r,this.isLoading=!1,this.isQrCodeFetched=!1,this.isQrCodeLoader=!1,this.form=new Ai({qrcode:new _e("")})}ngOnDestroy(){}ngOnInit(){let e=this.handleModals.publishMemId}handleQrCodeLink(){let e=this.form.controls.qrcode.value;if(!e){(0,fo.default)({text:"QR Code is required",duration:3e3,gravity:"top",position:"right",backgroundColor:"orange"}).showToast();return}this.isQrCodeLoader=!0,this.httpRequest.makePatchRequest("/memo/update_memqrcode",{memQrcodeLink:e}).subscribe(n=>{console.log(n),this.isQrCodeLoader=!1,this.handleModals.setQrCodeData(n.data),this.form.reset(),this.isQrCodeFetched=!0,(0,fo.default)({text:"Success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast()},n=>{this.isQrCodeLoader=!1,(0,fo.default)({text:`${n.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}createQrCode(){let e=this.handleModals.publishMemId.memId;if(!e){(0,fo.default)({text:"memId is required",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),this.isLoading=!1;return}this.isLoading=!0;let n={memId:e,memqrcodeId:this.handleModals.qrCodeData.MemUniqueId};this.httpRequest.makePatchRequest("/memo/update_memo_memuniqueid",n).subscribe(r=>{(0,fo.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.isLoading=!1,this.qrCodeService.triggerQrCodeRefresh(),this.handleModals.qrCodeData=void 0,this.handleModals.showMother("undefined")},r=>{this.isLoading=!1,(0,fo.default)({text:"invalid",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-createqrcode"]],decls:4,vars:3,consts:[[1,"px-5"],[4,"ngIf"],["type","submit","class","btn btn-primary btn-block w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 my-3",3,"click",4,"ngIf"],["alt","Generated QR Code",3,"src"],[1,"form-group",3,"formGroup"],[1,"relative","w-full"],["type","text","name","qrcode","formControlName","qrcode",1,"form-control","flex-grow","pr-16"],[1,"px-4","btn","btn-primary","text-white","mt-3","rounded-r-md","hover:bg-blue-700",3,"click"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0),L(1,KA,4,1,"ng-container",1)(2,JA,6,2,"div",1)(3,ZA,2,1,"button",2),u()),n&2&&(g(),y("ngIf",r.handleModals==null?null:r.handleModals.qrCodeData),g(),y("ngIf",!(r.handleModals!=null&&r.handleModals.qrCodeData)),g(),y("ngIf",r.handleModals==null?null:r.handleModals.qrCodeData))},dependencies:[rt,Oe,Fe,$e,se,ge,Ne,Et,Mt],encapsulation:2})}}return i})();var Pd={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Tm=new we("config",{providedIn:"root",factory:()=>({modules:Pd})});function Cs(i){i||(jf(Cs),i=G(No));let t=new Lo(e=>i.onDestroy(e.next.bind(e)));return e=>e.pipe(jl(t))}var e3=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],t3=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function i3(i,t){i&1&&_(0,"div",0)}function n3(i,t){i&1&&_(0,"div",0)}var Vd=(i,t)=>i||t||"html",r3=()=>new Lo(i=>{let t=requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(t)}),o3=(()=>{class i{constructor(){this.config=G(Tm)||{modules:Pd},this.document=G(gt),this.quill$=Kn(()=>Vl(this,null,function*(){if(!this.Quill){let e=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let n=yield import("./chunk-HQ6YD2VJ.js");this.document.addEventListener=e,this.Quill=n.default?.default??n.default??n}return this.config.customOptions?.forEach(e=>{let n=this.Quill.import(e.import);n.whitelist=e.whitelist,this.Quill.register(n,!0,this.config.suppressGlobalRegisterWarning)}),Of(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Vf({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,n,r=this.config.beforeRender){let o=[this.registerCustomModules(e,n)];return r&&o.push(pt(r())),Vs(o).pipe(ve(()=>e))}registerCustomModules(e,n,r){if(!Array.isArray(n))return ee(e);let o=[];for(let s of n){let{path:a,implementation:l}=s;this.registeredModules.has(a)||(this.registeredModules.add(a),Io(l)?o.push(l.pipe(mt(c=>{e.register(a,c,r)}))):e.register(a,l,r))}return o.length>0?Vs(o).pipe(ve(()=>e)):ee(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),s3=(()=>{class i{constructor(){this.format=ze(void 0),this.theme=ze(void 0),this.modules=ze(void 0),this.debug=ze(!1),this.readOnly=ze(!1),this.placeholder=ze(void 0),this.maxLength=ze(void 0),this.minLength=ze(void 0),this.required=ze(!1),this.formats=ze(void 0),this.customToolbarPosition=ze("top"),this.sanitize=ze(void 0),this.beforeRender=ze(void 0),this.styles=ze(null),this.registry=ze(void 0),this.bounds=ze(void 0),this.customOptions=ze([]),this.customModules=ze([]),this.trackChanges=ze(void 0),this.classes=ze(void 0),this.trimOnValidation=ze(!1),this.linkPlaceholder=ze(void 0),this.compareValues=ze(!1),this.filterNull=ze(!1),this.debounceTime=ze(void 0),this.defaultEmptyValue=ze(null),this.onEditorCreated=new ae,this.onEditorChanged=new ae,this.onContentChanged=new ae,this.onSelectionChanged=new ae,this.onFocus=new ae,this.onBlur=new ae,this.onNativeFocus=new ae,this.onNativeBlur=new ae,this.disabled=!1,this.toolbarPosition=Tn("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=G(_t),this.document=G(gt),this.cd=G(ln),this.domSanitizer=G(ra),this.platformId=G(ni),this.renderer=G(vi),this.zone=G(lt),this.service=G(o3),this.destroyRef=G(No),this.valueGetter=ze(e=>{let n=e.getSemanticHTML();this.isEmptyValue(n)&&(n=this.defaultEmptyValue());let r=n,o=Vd(this.format(),this.service.config.format);if(o==="text")r=e.getText();else if(o==="object")r=e.getContents();else if(o==="json")try{r=JSON.stringify(e.getContents())}catch{r=e.getText()}return r}),this.valueSetter=ze((e,n)=>{let r=Vd(this.format(),this.service.config.format);if(r==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(n=this.domSanitizer.sanitize(kn.HTML,n)),e.clipboard.convert({html:n});if(r==="json")try{return JSON.parse(n)}catch{return[{insert:n}]}return n}),this.selectionChangeHandler=(e,n,r)=>{let o=this.trackChanges()||this.service.config.trackChanges,s=!e&&!!this.onModelTouched&&(r==="user"||o&&o==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!s||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:r}):n===null&&this.onFocus.emit({editor:this.quillEditor,source:r}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:n,range:e,source:r}),s&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,n,r)=>{let o=this.quillEditor.getText(),s=this.quillEditor.getContents(),a=this.quillEditor.getSemanticHTML();this.isEmptyValue(a)&&(a=this.defaultEmptyValue());let l=this.trackChanges()||this.service.config.trackChanges,c=(r==="user"||l&&l==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!c||this.zone.run(()=>{if(c){let h=this.valueGetter();this.onModelChange(h(this.quillEditor))}this.onContentChanged.emit({content:s,delta:e,editor:this.quillEditor,html:a,oldDelta:n,source:r,text:o}),this.cd.markForCheck()})},this.editorChangeHandler=(e,n,r,o)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let s=this.quillEditor.getText(),a=this.quillEditor.getContents(),l=this.quillEditor.getSemanticHTML();this.isEmptyValue(l)&&(l=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:a,delta:n,editor:this.quillEditor,event:e,html:l,oldDelta:r,source:o,text:s}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:r,range:n,source:o}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,o)=>{let s=o.trim();return s&&r.push(s),r},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){rr(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(ii(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let n=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules()||this.service.config.modules);n?r.toolbar=n:r.toolbar===void 0&&(r.toolbar=Pd.toolbar);let o=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;o===void 0&&(o="Insert text here ...");let s=this.styles();s&&Object.keys(s).forEach(p=>{this.renderer.setStyle(this.editorElem,p,s[p])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(p=>{let f=e.import(p.import);f.whitelist=p.whitelist,e.register(f,!0)});let a=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();a||(a=this.service.config.bounds?this.service.config.bounds:this.document.body);let l=this.debug();!l&&l!==!1&&this.service.config.debug&&(l=this.service.config.debug);let c=this.readOnly();!c&&this.readOnly()!==!1&&(c=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let h=this.formats();if(!h&&h===void 0&&(h=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:a,debug:l,formats:h,modules:r,placeholder:o,readOnly:c,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){Si(this.quillEditor.scroll.domNode,"blur").pipe(Cs(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let p=this.quillEditor.getModule("toolbar");p.container&&Si(p.container,"mousedown").pipe(Cs(this.destroyRef)).subscribe(f=>f.preventDefault())}if(this.onNativeFocus.observed&&Si(this.quillEditor.scroll.domNode,"focus").pipe(Cs(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let f=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");f?.dataset&&(f.dataset.link=this.linkPlaceholder())}}),this.content){if(Vd(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let x=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(x,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&r3().pipe(Cs(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let n=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(o=>{this.renderer.removeStyle(this.editorElem,o)}),n&&Object.keys(n).forEach(o=>{this.renderer.setStyle(this.editorElem,o,this.styles()[o])})}if(e.classes){let n=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),n&&this.addClasses(n)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){i.normalizeClassNames(e).forEach(n=>{this.renderer.addClass(this.editorElem,n)})}removeClasses(e){i.normalizeClassNames(e).forEach(n=>{this.renderer.removeClass(this.editorElem,n)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let n=Vd(this.format(),this.service.config.format),o=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(o))return}if(e){n==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(o);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},n=!0,r=this.quillEditor.getText(),o=this.trimOnValidation()?r.trim().length:r.length===1&&r.trim().length===0?0:r.length-1,s=this.quillEditor.getContents().ops,a=!!s&&s.length===1&&[`
`,""].includes(s[0].insert?.toString());return this.minLength()&&o&&o<this.minLength()&&(e.minLengthError={given:o,minLength:this.minLength()},n=!1),this.maxLength()&&o>this.maxLength()&&(e.maxLengthError={given:o,maxLength:this.maxLength()},n=!1),this.required()&&!o&&a&&(e.requiredError={empty:!0},n=!1),n?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Bl,this.subscription.add(Si(this.quillEditor,"selection-change").subscribe(([r,o,s])=>{this.selectionChangeHandler(r,o,s)}));let e=Si(this.quillEditor,"text-change"),n=Si(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(Bs(this.debounceTime())),n=n.pipe(Bs(this.debounceTime()))),this.subscription.add(e.subscribe(([r,o,s])=>{this.textChangeHandler(r,o,s)})),this.subscription.add(n.subscribe(([r,o,s,a])=>{this.editorChangeHandler(r,o,s,a)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Je({type:i,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[Ze]})}}return i})(),N1=(()=>{class i extends s3{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})()}static{this.\u0275cmp=H({type:i,selectors:[["quill-editor"]],features:[ri([{multi:!0,provide:On,useExisting:gi(()=>i)},{multi:!0,provide:qr,useExisting:gi(()=>i)}]),Rt],ngContentSelectors:t3,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(n,r){n&1&&(Xs(e3),L(0,i3,1,0,"div",0),Nr(1),Nr(2,1),Nr(3,2),L(4,n3,1,0,"div",0)),n&2&&(zu(r.toolbarPosition()!=="top"?0:-1),g(4),zu(r.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return i})();var R1=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Tm,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({})}}return i})();qu();var V1=Nt(P1());var l3=["fileInput"],c3=()=>["edit_files","create_memo"];function d3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"New user"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-newuser"),u()()}}function u3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"View User Details"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-userdetail"),u()()}}function h3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Signature page"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-esignature"),u()()}}function p3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Otp Confirmation"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-otpconfirmation"),u()()}}function m3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Add A QR Code"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-createqrcode"),u()()}}function f3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"View User Details"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-authentication"),u()()}}function g3(i,t){if(i&1){let e=J();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4"),m(4,"Create Folder"),u(),d(5,"a",7),I("click",function(){V(e);let r=C();return B(r.close())}),_(6,"i",8),u()(),_(7,"app-createfolder"),u()()}}function v3(i,t){i&1&&(et(0),d(1,"h4"),m(2,"Edit Memo"),u(),tt())}function x3(i,t){i&1&&(d(0,"h4"),m(1,"New Memo"),u())}function _3(i,t){if(i&1){let e=J();d(0,"a",7),I("click",function(){V(e);let r=C(2);return B(r.close())}),_(1,"i",8),u()}}function y3(i,t){if(i&1){let e=J();d(0,"div")(1,"button",16),I("click",function(){V(e);let r=C(2);return B(r.reset())}),_(2,"i",8),u()()}}function b3(i,t){if(i&1){let e=J();d(0,"div",17)(1,"button",18),I("click",function(){V(e);let r=C(2);return B(r.GenerateFullMemo())}),m(2,"Create Full Memo"),u(),d(3,"p",19),m(4,"or"),u(),d(5,"button",20),I("click",function(){V(e);let r=C(2);return B(r.CretaeMetaData())}),m(6,"Create Meta Data"),u()()}}function C3(i,t){if(i&1){let e=J();d(0,"li",28)(1,"a",29),I("click",function(){V(e);let r=C(3);return B(r.handle("hello"))}),m(2,"Meta Data"),u()()}}function w3(i,t){if(i&1){let e=J();d(0,"ul",21)(1,"li",22)(2,"a",23),I("click",function(){V(e);let r=C(2);return B(r.handle("hello"))}),m(3),u()(),L(4,C3,3,0,"li",24),d(5,"li",22)(6,"a",25),I("click",function(){V(e);let r=C(2);return B(r.handle("hello"))}),m(7,"Attachments"),u()(),d(8,"li",22)(9,"a",26),I("click",function(){V(e);let r=C(2);return B(r.handle("hello"))}),m(10,"Security"),u()(),d(11,"li",22)(12,"a",27),I("click",function(){V(e);let r=C(2);return B(r.handle("hello"))}),m(13,"Sharing"),u()()()}if(i&2){let e=C(2);g(3),oe(e.fullMemo?"Content":"Meta Data Table"),g(),y("ngIf",e.fullMemo)}}function S3(i,t){i&1&&_(0,"div")}function T3(i,t){i&1&&(d(0,"div")(1,"div",73)(2,"div",33)(3,"label",74),m(4,"Staff"),u(),_(5,"input",75),u()()())}function k3(i,t){if(i&1&&(d(0,"option",79),m(1),u()),i&2){let e=t.$implicit;y("value",e.Id),g(),U(" ",e.MemFoldName," ")}}function E3(i,t){if(i&1&&(et(0),L(1,k3,2,2,"option",78),tt()),i&2){let e=C(4);g(),y("ngForOf",e.selectedAllFolder)}}function M3(i,t){if(i&1&&(d(0,"div",33)(1,"label",68),m(2,"Folder"),u(),d(3,"select",76)(4,"option",77),m(5,"Select a folder"),u(),L(6,E3,2,1,"ng-container",11),u()()),i&2){let e=C(3);g(6),y("ngIf",e.selectedAllFolder&&e.selectedAllFolder.length>0)}}function A3(i,t){if(i&1){let e=J();d(0,"button",87),I("click",function(){V(e);let r=C(5);return B(r.draftMetaData())}),m(1),u()}if(i&2){let e=C(5);g(),U(" ",e.isMetaLoader?"Loading...":"Submit"," ")}}function D3(i,t){if(i&1&&(d(0,"div",80)(1,"div")(2,"div",81)(3,"label",82),m(4,"Key"),u(),_(5,"input",83),u(),d(6,"div",81)(7,"label",84),m(8,"Value"),u(),_(9,"input",85),u(),L(10,A3,2,1,"button",86),u()()),i&2){let e=C(4);g(10),y("ngIf",e.fullMemo)}}function L3(i,t){if(i&1&&(d(0,"div",57)(1,"div",58)(2,"div")(3,"a"),_(4,"i",59),m(5," Meta Data "),u()(),d(6,"div",60),_(7,"input",61),u()(),L(8,D3,11,1,"div",62),u()),i&2){let e=C(3);y("formGroup",e.form),g(8),y("ngIf",e.form.controls.metaData.value)}}function I3(i,t){if(i&1){let e=J();d(0,"tr")(1,"td"),m(2),u(),d(3,"td"),m(4),u(),d(5,"td",90)(6,"button",93),I("click",function(){let r=V(e).$implicit,o=C(4);return B(o.deleteMetaData(r==null?null:r.value))}),d(7,"i",94),m(8),u()()()()}if(i&2){let e=t.$implicit,n=C(4);g(2),oe(e==null?null:e.key),g(2),oe(e==null?null:e.value),g(4),oe(n.isMetaDeleteLoader?"Loading...":"delete")}}function O3(i,t){if(i&1&&(d(0,"div")(1,"table",88)(2,"thead")(3,"tr",89)(4,"th",90),m(5,"Memo Title"),u(),d(6,"th",90),m(7,"Value"),u(),d(8,"th",90),m(9,"Delete"),u()()(),d(10,"tbody",91),L(11,I3,9,3,"tr",92),u()()()),i&2){let e=C(3);g(11),y("ngForOf",e.metaDataResult)}}function F3(i,t){i&1&&(et(0),_(1,"span",95),m(2," Loading... "),tt())}function N3(i,t){if(i&1&&m(0),i&2){let e=C(3);U(" ",e.handleModals.show==="edit_files"?"Save Edit":"Save Draft"," ")}}function R3(i,t){i&1&&(d(0,"p"),m(1,"No attachments"),u())}function P3(i,t){if(i&1){let e=J();d(0,"a",98)(1,"div",99)(2,"figure",100)(3,"span",101),_(4,"i",102),u()()(),d(5,"div",103)(6,"p",104),m(7),u(),d(8,"span",105),m(9),u()(),d(10,"div")(11,"h5",106),m(12),u()(),d(13,"div")(14,"a",107),I("click",function(){V(e);let r=C(4);return B(r.deleteAttachment(1))}),_(15,"i",108),u()()()}if(i&2){let e=t.$implicit;g(7),oe(e.name),g(2),oe(e.type),g(3),oe(e.size)}}function V3(i,t){if(i&1&&(d(0,"div")(1,"div",96),L(2,P3,16,3,"a",97),u()()),i&2){let e=C(3);g(2),y("ngForOf",e.memo_attachments)}}function B3(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Key name is required."),u()())}function z3(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Value name is required."),u()())}function H3(i,t){if(i&1){let e=J();d(0,"div",80)(1,"div")(2,"div",81)(3,"label",109),m(4,"Title"),u(),_(5,"input",110),u(),L(6,B3,3,0,"div",11),d(7,"div",81)(8,"label",84),m(9,"Value"),u(),_(10,"input",85),u(),L(11,z3,3,0,"div",11),d(12,"button",111),I("click",function(){V(e);let r=C(3);return B(r.draftMetaData())}),m(13),u()()()}if(i&2){let e,n,r=C(3);g(6),y("ngIf",((e=r.form.get("key"))==null?null:e.touched)&&((e=r.form.get("key"))==null?null:e.invalid)),g(5),y("ngIf",((n=r.form.get("value"))==null?null:n.touched)&&((n=r.form.get("value"))==null?null:n.invalid)),g(2),U(" ",r.isMetaLoader?"Loading...":"Submit"," ")}}function j3(i,t){if(i&1){let e=J();d(0,"tr")(1,"td"),m(2),u(),d(3,"td"),m(4),u(),d(5,"td",90)(6,"button",93),I("click",function(){let r=V(e).$implicit,o=C(4);return B(o.deleteMetaData(r==null?null:r.value))}),d(7,"i",94),m(8),u()()()()}if(i&2){let e=t.$implicit,n=C(4);g(2),oe(e==null?null:e.key),g(2),oe(e==null?null:e.value),g(4),oe(n.isMetaDeleteLoader?"Loading...":"delete")}}function $3(i,t){if(i&1&&(d(0,"div")(1,"table",88)(2,"thead")(3,"tr",89)(4,"th",90),m(5,"Memo Title"),u(),d(6,"th",90),m(7,"Value"),u(),d(8,"th",90),m(9,"Delete"),u()()(),d(10,"tbody",91),L(11,j3,9,3,"tr",92),u()()()),i&2){let e=C(3);g(11),y("ngForOf",e.metaDataResult)}}function G3(i,t){i&1&&_(0,"div")}function q3(i,t){if(i&1&&(d(0,"li")(1,"span",130),m(2),u()()),i&2){let e=t.$implicit;g(2),oe(e)}}function U3(i,t){if(i&1){let e=J();d(0,"div",124)(1,"div",125)(2,"div",126)(3,"label",127),m(4,"Enter IP Address"),u(),_(5,"input",128),u(),d(6,"button",129),I("click",function(){V(e);let r=C(4);return B(r.addIP(r.memoForm.controls.ip_address.value))}),m(7," Add IP Address "),u()(),d(8,"ul"),L(9,q3,3,1,"li",92),u()()}if(i&2){let e=C(4);g(9),y("ngForOf",e.allowed_ips)}}function W3(i,t){i&1&&_(0,"div")}function X3(i,t){i&1&&(d(0,"div"),m(1," No location found for this area. "),u())}function Y3(i,t){if(i&1&&(et(0),L(1,W3,1,0,"div",11),d(2,"div",131),_(3,"input",132),u(),L(4,X3,2,0,"div",11),tt()),i&2){let e,n=C(4);g(),y("ngIf",n.iframeVisible),g(2),y("value",n.selectedCountry),g(),y("ngIf",!n.locationDetails&&((e=n.memoForm.get("areaName"))==null?null:e.value))}}function Q3(i,t){if(i&1&&(d(0,"div",33)(1,"p"),m(2),u(),d(3,"p"),m(4),u(),d(5,"p"),m(6),u(),d(7,"p"),m(8),u(),d(9,"p"),m(10),u()()),i&2){let e=t.$implicit;g(2),U("Id: ",e.Id,""),g(2),U("CreatedAt: ",e.CreatedAt,""),g(2),U("MemSecByIp: ",e.MemSecByIp,""),g(2),U("MemSecBySmsOTP: ",e.MemSecBySmsOTP,""),g(2),U("MemSecByEmailOTP: ",e.MemSecByEmailOTP,"")}}function K3(i,t){if(i&1&&(d(0,"div",124)(1,"div",125),L(2,Q3,11,5,"div",133),d(3,"div")(4,"label",134),m(5,"New"),u(),_(6,"input",135),u(),d(7,"div",33)(8,"label",136),m(9,"Template Description"),u(),_(10,"textarea",137),u(),d(11,"button",138),m(12," Save Template "),u()()()),i&2){let e=C(4);g(2),y("ngForOf",e.template)}}function J3(i,t){if(i&1){let e=J();d(0,"div")(1,"div")(2,"h6",113)(3,"span",114),m(4," Create custom security features "),u()(),d(5,"div",58)(6,"div")(7,"a",115),_(8,"i",59),m(9," Email OTP "),u()(),d(10,"div")(11,"div",45),_(12,"input",116),u()()(),d(13,"div",58)(14,"div")(15,"a",115),_(16,"i",59),m(17," SMS OTP "),u()(),d(18,"div")(19,"div",45),_(20,"input",117),u()()(),d(21,"div",58)(22,"div")(23,"a",115),_(24,"i",59),m(25," IP Address "),u()(),d(26,"div")(27,"div",45),_(28,"input",118),u()()(),L(29,U3,10,1,"div",119),d(30,"div",58)(31,"div")(32,"a",115),_(33,"i",59),m(34," Location Geofencing "),u()(),d(35,"div")(36,"div",45)(37,"input",120),I("change",function(r){V(e);let o=C(3);return B(o.onCheckboxChange(r))}),u()()()(),L(38,Y3,5,3,"ng-container",11),u(),d(39,"div",45),_(40,"input",121),d(41,"label",122),m(42,"Create as template"),u()(),L(43,K3,13,1,"div",119),d(44,"button",123),m(45),u()()}if(i&2){let e=C(3);g(29),y("ngIf",e.memoForm.controls.secureByIp.value),g(9),y("ngIf",e.memoForm.controls.secureByGeoLocation.value),g(5),y("ngIf",e.memoForm.controls.create_as_template.value),g(2),U(" ",e.isLoading?"Loading.....":"Save"," ")}}function Z3(i,t){if(i&1&&(d(0,"div",139)(1,"button",123),m(2),u()()),i&2){let e=C(3);g(2),U(" ",e.isLoading?"Loading.....":"Save"," ")}}function eD(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Key name is required."),u()())}function tD(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Email is required."),u()())}function iD(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Phone number is required."),u()())}function nD(i,t){if(i&1){let e=J();d(0,"div")(1,"button",53),I("click",function(){V(e);let r=C(4);return B(r.selectFile())}),_(2,"i",54),m(3," Upload Allowed Users "),u(),d(4,"input",55,2),I("change",function(r){V(e);let o=C(4);return B(o.handleChangeEvent(r))}),u(),d(6,"div",73)(7,"div",33)(8,"label",74),m(9,"Name"),u(),_(10,"input",145),u(),L(11,eD,3,0,"div",11),d(12,"div",33)(13,"label",146),m(14,"Email"),u(),_(15,"input",147),u(),L(16,tD,3,0,"div",11),d(17,"div",33)(18,"label",148),m(19,"Phone"),u(),_(20,"input",149),u(),L(21,iD,3,0,"div",11),u()()}if(i&2){let e,n,r,o=C(4);g(11),y("ngIf",((e=o.createMemoForm.get("name"))==null?null:e.touched)&&((e=o.createMemoForm.get("name"))==null?null:e.invalid)),g(5),y("ngIf",((n=o.createMemoForm.get("email"))==null?null:n.touched)&&((n=o.createMemoForm.get("email"))==null?null:n.invalid)),g(5),y("ngIf",((r=o.createMemoForm.get("phone"))==null?null:r.touched)&&((r=o.createMemoForm.get("phone"))==null?null:r.invalid))}}function rD(i,t){i&1&&(d(0,"div")(1,"small",112),m(2,"Group email is required."),u()())}function oD(i,t){if(i&1&&(d(0,"div")(1,"div",33)(2,"label",150),m(3,"Group Email"),u(),_(4,"input",151),u(),L(5,rD,3,0,"div",11),u()),i&2){let e,n=C(4);g(5),y("ngIf",((e=n.createMemoForm.get("groupEmail"))==null?null:e.touched)&&((e=n.createMemoForm.get("groupEmail"))==null?null:e.invalid))}}function sD(i,t){if(i&1){let e=J();d(0,"div",139)(1,"div",33)(2,"label",140),m(3,"Select Type"),u(),d(4,"select",141),_(5,"option"),d(6,"option",142),m(7,"Individual"),u(),d(8,"option",143),m(9,"Group"),u()()(),L(10,nD,22,3,"div",11)(11,oD,6,1,"div",11),d(12,"button",144),I("click",function(){V(e);let r=C(3);return B(r.createMemo())}),m(13),u()()}if(i&2){let e=C(3);g(10),y("ngIf",e.createMemoForm.controls.accessType.value=="individual"),g(),y("ngIf",e.createMemoForm.controls.accessType.value=="group"),g(2),U(" ",e.isLoading?"Loading.....":"Save"," ")}}function aD(i,t){if(i&1){let e=J();d(0,"div",30)(1,"div",31)(2,"form",32),I("ngSubmit",function(r){V(e);let o=C(2);return B(o.draftMemo(r))}),d(3,"div",33)(4,"label",34),m(5),u(),d(6,"div",33)(7,"select",35)(8,"option",36),m(9,"External"),u(),d(10,"option",37),m(11,"Internal"),u()()(),L(12,S3,1,0,"div",11)(13,T3,6,0,"div",11),u(),d(14,"div",33)(15,"label",38),m(16),u(),_(17,"input",39),u(),d(18,"div",33)(19,"label",38),m(20,"Title"),u(),_(21,"input",40),u(),L(22,M3,7,1,"div",41),d(23,"div",33)(24,"label",42),m(25,"Memo"),u(),d(26,"div",43),_(27,"quill-editor",44),u()(),d(28,"div",45),_(29,"input",46),d(30,"label",47),m(31,"Include Signature"),u()(),d(32,"div"),L(33,L3,9,2,"div",48)(34,O3,12,1,"div",11),d(35,"div",49)(36,"button",50),L(37,F3,3,0,"ng-container",9)(38,N3,1,1,"ng-template",null,1,nr),u(),d(40,"button",51),m(41),u()()()()(),d(42,"div",52),L(43,R3,2,0,"p",11),d(44,"button",53),I("click",function(){V(e);let r=C(2);return B(r.chooseFile())}),_(45,"i",54),m(46," Upload Attachment "),u(),d(47,"input",55,2),I("change",function(r){V(e);let o=C(2);return B(o.fileChangeEvent(r))}),u(),L(49,V3,3,1,"div",11),u(),d(50,"div",56)(51,"div",57)(52,"div",58)(53,"div")(54,"a"),_(55,"i",59),m(56," Meta Data "),u()(),d(57,"div",60),_(58,"input",61),u()(),L(59,H3,14,3,"div",62),u(),L(60,$3,12,1,"div",11),u(),d(61,"div",63)(62,"form",32),I("ngSubmit",function(){V(e);let r=C(2);return B(r.onsubmit())}),d(63,"div",33)(64,"select",64),I("change",function(){V(e);let r=C(2);return B(r.changeSecurityType())}),_(65,"option"),d(66,"option",65),m(67,"Select from Templates"),u(),d(68,"option",66),m(69,"Create Custom"),u()()(),L(70,G3,1,0,"div",11)(71,J3,46,4,"div",11),u()(),d(72,"div",67)(73,"div",57)(74,"div",33)(75,"label",68),m(76,"Select Access Type"),u(),d(77,"select",69),_(78,"option"),d(79,"option",70),m(80,"Public"),u(),d(81,"option",71),m(82,"Restricted"),u()()(),L(83,Z3,3,1,"div",72)(84,sD,14,3,"div",72),u()()()}if(i&2){let e=sn(39),n=C(2);g(2),y("formGroup",n.memoForm),g(3),oe(n.fullMemo?"Memo Type":"Type"),g(7),y("ngIf",n.memoForm.controls.memoType.value=="external"),g(),y("ngIf",n.memoForm.controls.memoType.value=="internal"),g(3),oe(n.fullMemo?"Memo Code":"Code"),g(6),y("ngIf",n.fullMemo),g(5),y("modules",n.quillModules)("placeholder","Write Something Here"),g(6),y("ngIf",n.createMetaData),g(),y("ngIf",n.createMetaData&&n.metaDataResult&&n.metaDataResult.length>0),g(2),y("disabled",n.isLoading),g(),y("ngIf",n.isLoading)("ngIfElse",e),g(3),y("disabled",n.isLoading),g(),U(" ",n.isLoadingApprove?"Loading...":"Submit for approval"," "),g(2),y("ngIf",n.memo_attachments.length==0),g(6),y("ngIf",n.memo_attachments.length>0),g(2),y("formGroup",n.form),g(8),y("ngIf",n.form.controls.metaData.value),g(),y("ngIf",n.metaDataResult&&n.metaDataResult.length>0),g(2),y("formGroup",n.memoForm),g(8),y("ngIf",n.memoForm.controls.security_type.value=="template"),g(),y("ngIf",n.memoForm.controls.security_type.value=="custom"),g(2),y("formGroup",n.createMemoForm),g(10),y("ngIf",n.createMemoForm.controls.access.value=="public"),g(),y("ngIf",n.createMemoForm.controls.access.value=="restricted")}}function lD(i,t){if(i&1&&(d(0,"div",4)(1,"div",5)(2,"div",6),L(3,v3,3,0,"ng-container",9)(4,x3,2,0,"ng-template",null,0,nr)(6,_3,2,0,"a",10)(7,y3,3,0,"div",11),u(),d(8,"div",12),L(9,b3,7,0,"div",13)(10,w3,14,2,"ul",14)(11,aD,85,26,"div",15),u()()()),i&2){let e=sn(5),n=C();g(3),y("ngIf",n.handleModals.show==="edit_files")("ngIfElse",e),g(3),y("ngIf",!n.fullMemo&&!n.createMetaData),g(),y("ngIf",n.fullMemo||n.createMetaData),g(2),y("ngIf",!n.fullMemo&&!n.createMetaData),g(),y("ngIf",n.fullMemo||n.createMetaData),g(),y("ngIf",n.fullMemo||n.createMetaData)}}Sg.register({"modules/better-table":V1.default},!0);var B1=(()=>{class i{constructor(e,n,r,o,s,a){this.handleModals=e,this.httpRequest=n,this.fb=r,this.folderService=o,this.fileService=s,this.http=a,this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false"),this.fullMemo=!1,this.createMetaData=!1,this.allowed_ips=[],this.ip_address="",this.location=null,this.ipAddress="",this.areaName="",this.locationDetails={},this.area_location=[],this.template=[],this.selectedAllFolder=[],this.isLoading=!1,this.isLoadingApprove=!1,this.showSubmitButton=!1,this.iframeVisible=!1,this.countrySelected=!1,this.selectedCountry="",this.metaDataArray=[],this.isMetaLoader=!1,this.secureBySmsOtp=!1,this.otpSent=!1,this.submittedOtp="",this.isSmsLoading=!1,this.isMetaDeleteLoader=!1,this.memo_attachments=[{name:"Sample",size:"20",type:"Images"}],this.quillModules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1},"better-table":{operationMenu:{items:{unmergeCells:{text:"Unmerge Cells"}}}}},this.memoForm=new Ai({memoType:new _e,memoDataType:new _e,memoCode:new _e(""),title:new _e("",je.required),memo:new _e("",je.required),memFoldId:new _e("",je.required),include_signature:new _e(!1),staff:new _e(""),security_type:new _e(""),secureByEmailOtp:new _e(!1),secureBySmsOtp:new _e(!1),secureByIp:new _e(!1),secureByGeoLocation:new _e(!1),areaName:new _e(""),ip_address:new _e(""),create_as_template:new _e(!1),access:new _e(""),accessType:new _e(""),public:new _e(""),name:new _e(""),email:new _e(""),phone:new _e(""),groupEmail:new _e(""),metaData:new _e("")}),this.form=this.fb.group({metaData:new _e(""),key:["",je.required],value:["",je.required]}),this.otpForm=this.fb.group({phoneNumber:new _e("",je.required)}),this.createMemoForm=this.fb.group({access:new _e(""),accessType:new _e(""),public:new _e(""),name:new _e("",je.required),email:new _e("",je.required),phone:new _e("",je.required),groupEmail:new _e("",je.required)})}handle(e=void 0){this.handleModals.setCreateMemoTabs(e)}ngOnInit(){this.editor=new Od,this.fetchFolders(),this.getIp(),this.folderService.refreshFolder$.subscribe(e=>{e&&this.fetchFolders()})}GenerateFullMemo(){this.fullMemo=!0,this.createMetaData=!1}CretaeMetaData(){this.createMetaData=!0,this.fullMemo=!1}reset(){this.fullMemo=!1,this.createMetaData=!1}ngDoCheck(){if(this.handleModals.show=="edit_files"&&this.handleModals.check=="nothing"){let e=this.handleModals.show=="edit_files";this.memoForm.setValue({memoType:e?this.handleModals?.editMemo?.MemTitle:"",memoDataType:e?this.handleModals?.editMemo?.MemTitle:"",memoCode:e?this.handleModals?.editMemo?.MemCode:"",title:e?this.handleModals?.editMemo?.MemTitle:"",memo:e?this.handleModals?.editMemo?.MemContents:"",memFoldId:e?this.handleModals?.editMemo?.MemFoldId:"",metaData:"",include_signature:!1,security_type:!1,secureByEmailOtp:!1,secureBySmsOtp:!1,secureByIp:!1,secureByGeoLocation:!1,areaName:"",ip_address:"",create_as_template:!1,access:"",accessType:"",name:"",email:"",phone:"",groupEmail:"",key:"",value:"",public:""}),this.handleModals.toggleCheck("hello")}}showIframe(){this.iframeVisible=!0}extractPlainText(e){return!e||!Array.isArray(e.content)?(console.error("Invalid memo content:",e),""):e.content.map(n=>typeof n=="string"?n:n.text?n.text:"").join(" ")}ngOnDestroy(){this.editor.destroy()}getIp(){this.httpRequest.makeGetRequest("/memo/memgeotemp").subscribe(e=>{let n=e.data.lat,r=e.data.lng;this.area_location=[{lat:n,lng:r}];let o=`Lat: ${n}, Lng: ${r}`;this.memoForm.controls.areaName.setValue(o),this.countrySelected=!1,this.iframeVisible=!1,this.memoForm.controls.areaName.disable()},e=>{console.log(e)})}isValidIP(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}dmsToDecimal(e){let n=e.split(/°|'|"| /).filter(c=>c),r=parseFloat(n[0]),o=parseFloat(n[1])/60,s=parseFloat(n[2])/3600,a=n[3],l=r+o+s;return(a==="S"||a==="W")&&(l*=-1),l}isValidAreaName(e){return/^[a-zA-Z\s]+$/.test(e)}isValidAreaNameWithState(e){return/^[a-zA-Z\s]+(?:,\s*[a-zA-Z\s]+)?$/.test(e)}close(){this.handleModals.showMother("undefined"),this.handleModals.toggleCheck("nothing"),this.memoForm.reset()}draftMemo(e){if(this.fullMemo&&!this.memoForm.valid){(0,it.default)({text:"Form is not valid",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}let n={title:this.memoForm.value.title,memo:this.memoForm.value.memo,MemUniqueId:this.memId,include_signature:!!this.memoForm.value.include_signature,memFold:Number(this.memoForm.value.memFoldId),isPublished:e.submitter.value==="save"?0:1,memoType:this.memoForm.value.memoType,staff:this.memoForm.value.staff,memoCode:this.memoForm.value.memoCode};if(n.memo&&n.memo.type==="doc"&&(n.memo=this.extractPlainText(n.memo)),this.handleModals.show==="edit_files"&&e.submitter.value==="save"){let r={title:this.memoForm.value.title||this.handleModals?.editMemo?.MemTitle,memo:this.memoForm.value.memo,memId:this.handleModals?.editMemo?.MemUniqueId,memFold:this.handleModals?.editMemo?.MemFoldId};this.isLoading=!0,this.httpRequest.makePatchRequest("/memo/update",r).subscribe(o=>{this.isLoading=!1,this.memoForm.reset(),(0,it.default)({text:"Memo updated successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh(),this.createMetaData&&this.draftMetaData()},o=>{this.isLoading=!1,(0,it.default)({text:`${o.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}else this.handleModals.show==="edit_files"&&e.submitter.value==="approve"?(this.isLoadingApprove=!0,this.httpRequest.makePatchRequest("/memo/publsh_memo",{memId:this.handleModals?.editMemo?.Id,publish:"pending"}).subscribe(r=>{this.isLoadingApprove=!1,(0,it.default)({text:"Memo submitted successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh(),this.createMetaData&&this.draftMetaData(),this.memoForm.reset()},r=>{this.isLoadingApprove=!1,(0,it.default)({text:`${r.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})):this.handleModals.show==="create_memo"&&(this.isLoading=!0,this.httpRequest.makePostRequest("/memo/create",n).subscribe(r=>{this.isLoading=!1,this.memId=r.id,this.handleModals.setMemId(r.id),(0,it.default)({text:"Memo created successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.fileService.triggerFileRefresh(),this.createMetaData&&this.draftMetaData(),this.memoForm.reset()},r=>{this.isLoading=!1,(0,it.default)({text:`${r.error.message||"An error occurred"}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()}))}draftMetaData(){if(!this.memId){(0,it.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}if(this.fullMemo&&!this.form.valid){(0,it.default)({text:"Please fill all the fields",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}let e=this.form.value;this.metaDataArray.push(e);let n={memId:this.memId,data:{key:e.key,value:e.value}};this.isMetaLoader=!0,this.httpRequest.makePostRequest("/memo/metadata",n).subscribe(r=>{(0,it.default)({text:"Meta Data added successfully",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast(),this.form.controls.key.reset(),this.form.controls.value.reset(),this.isLoading=!1,this.fetchMetaData(),this.isMetaLoader=!1},r=>{this.isMetaLoader=!1,(0,it.default)({text:"Error fetching metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}fetchMetaData(){let e=`/memo/metadata/?memId=${encodeURIComponent(this.memId)}`;this.httpRequest.makeGetRequest(e).subscribe(n=>{this.metaDataResult=n.data},n=>{(0,it.default)({text:"Error fetching metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}deleteMetaData(e){this.isMetaDeleteLoader=!0;let n=String(e),r=`/memo/metadata/?memId=${encodeURIComponent(this.memId)}&key=${encodeURIComponent(n)}`;this.httpRequest.makeDeleteRequest(r).subscribe(o=>{this.isMetaDeleteLoader=!1,this.metaDataResult=o.data,(0,it.default)({text:"success",duration:3e3,position:"top",backgroundColor:"#0000FF"}).showToast()},o=>{this.isMetaDeleteLoader=!1,(0,it.default)({text:"Error Deleting metadata",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}addIP(e){if(!e||!this.isValidIP(e)){(0,it.default)({text:"Please enter a valid IP address.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}this.allowed_ips.includes(e)?(0,it.default)({text:"IP address already exists.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast():(this.allowed_ips.push(e),(0,it.default)({text:"IP address added successfully.",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()),this.memoForm.get("ip_address")?.reset()}onsubmit(){if(this.isLoading=!1,!this.memId){(0,it.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}this.isLoading=!0;let e=be(R({},this.memoForm.value),{data:this.test,ipData:this.allowed_ips,geolocationData:this.area_location,memId:this.memId,new:this.area_location,metaData:this.metaDataArray});this.httpRequest.makePostRequest("/memo/mem_secure_rule/create",e).subscribe(n=>{this.isLoading=!1,(0,it.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()},n=>{this.isLoading=!1,(0,it.default)({text:"something went wrong",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}onCheckboxChange(e){}createMemo(){if(this.isLoading=!1,!this.memId){(0,it.default)({text:"please create a memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast();return}if(!this.createMemoForm.valid){(0,it.default)({text:"Form is not valid",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast(),this.isLoading=!1;return}let e=this.createMemoForm.get("access")?.value,n=this.createMemoForm.get("accessType")?.value,r={access:e,memId:this.memId,users:[]};e==="restricted"&&(n==="individual"?r.users.push({name:this.createMemoForm.get("name")?.value,email:this.createMemoForm.get("email")?.value,phone:this.createMemoForm.get("phone")?.value}):n==="group"&&r.users.push({groupEmail:this.createMemoForm.get("groupEmail")?.value})),this.httpRequest.makePostRequest("/memo/access_type/create",r).subscribe(o=>{this.isLoading=!1,(0,it.default)({text:"Success",duration:3e3,gravity:"top",position:"right",backgroundColor:"#0000FF"}).showToast()},o=>{this.isLoading=!1,(0,it.default)({text:"Error saving memo",duration:3e3,gravity:"top",position:"right",backgroundColor:"#FF0000"}).showToast()})}getMemoAttachments(){this.httpRequest.makeGetRequest(`/memo/memo_attachment?${this.memId}`).subscribe(e=>{},e=>{})}deleteAttachment(e){confirm("Are you sure you want to delete this attachment?")&&this.httpRequest.makeDeleteRequest(`/memo/memo_attachment?id=${this.memId}`).subscribe(n=>{console.log("Attachment deleted successfully",n),this.getMemoAttachments()},n=>{console.error("Error deleting attachment",n)})}chooseFile(){this.fileInput.nativeElement.click()}fileChangeEvent(e){let n=new FormData,r=e.target.files[0];r?(console.log(r),n.append("image",r,r.name),this.httpRequest.makePostRequest("/memo/upload_image",n,!0).subscribe(o=>{console.log(o)},o=>{console.log(o)})):console.warn("No file selected.")}changeSecurityType(){event.target.value==="template"&&this.saveTemplate()}saveTemplate(){this.httpRequest.makeGetRequest("/memo/mem_secure_rule/all").subscribe(e=>{this.template=e.data})}fetchFolders(){this.httpRequest.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.selectedAllFolder=e.data},e=>{})}selectFile(){this.fileInput.nativeElement.click()}handleChangeEvent(e){let n=new FormData,r=e.target.files[0];r?(n.append("image",r,r.name),this.httpRequest.makePostRequest("/memo/access_type/create",n,!0).subscribe(o=>{},o=>{})):console.warn("No file selected.")}static{this.\u0275fac=function(n){return new(n||i)(M(ce),M(Me),M(Jt),M(ce),M(ce),M(An))}}static{this.\u0275cmp=H({type:i,selectors:[["app-sidebarforms"]],viewQuery:function(n,r){if(n&1&&Mn(l3,5),n&2){let o;Wi(o=Xi())&&(r.fileInput=o.first)}},decls:9,vars:9,consts:[["newMemo",""],["buttonText",""],["fileInput",""],["class","sidebar-group-forms d-print-none",4,"ngIf"],[1,"sidebar-group-forms","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],["href","javascript:;",1,"btn","btn-light","btn-floating","sidebar-close-btn",3,"click"],[1,"ti-angle-right"],[4,"ngIf","ngIfElse"],["href","javascript:;","class","btn btn-light btn-floating sidebar-close-btn",3,"click",4,"ngIf"],[4,"ngIf"],[1,"sidebar-content"],["class","button-container",4,"ngIf"],["class","nav nav-tabs mb-3","role","tablist",4,"ngIf"],["class","tab-content",4,"ngIf"],[1,"btn","btn-light","btn-floating","sidebar-close-btn",3,"click"],[1,"button-container"],[1,"btn","btn-generate",3,"click"],[1,"or-text"],[1,"btn","btn-create",3,"click"],["role","tablist",1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["id","home-tab","data-toggle","tab","href","#home","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active",3,"click"],["class","nav-item active",4,"ngIf"],["id","profile-tab","data-toggle","tab","href","#profile","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link",3,"click"],["id","contact-tab","data-toggle","tab","href","#contact","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link",3,"click"],["id","sharing-tab","data-toggle","tab","href","#sharing","role","tab","aria-controls","sharing","aria-selected","false",1,"nav-link",3,"click"],[1,"nav-item","active"],["id","metadata-tab","data-toggle","tab","href","#metadata","role","tab","aria-controls","metadata","aria-selected","false",1,"nav-link",3,"click"],[1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","memoType"],["name","memoType","formControlName","memoType","id","memoType","id","exampleFormControlSelect1",1,"form-control"],["value","external"],["value","internal"],["for","exampleInputEmail1"],["type","text","formControlName","memoCode","id","memoCode","name","memoCode","placeholder","",1,"form-control"],["type","text","formControlName","title","id","title","name","title","aria-describedby","emailHelp","placeholder","",1,"form-control"],["class","form-group",4,"ngIf"],["for","exampleFormControlTextarea1"],["id","scroll-container",1,"NgxEditor__Wrapper",2,"height","450px","max-height","500px","overflow-y","auto"],["formControlName","memo","theme","snow",2,"height","400px",3,"modules","placeholder"],[1,"form-group","form-check"],["type","checkbox","name","include_signature","formControlName","include_signature","id","include_signature",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],[3,"formGroup",4,"ngIf"],[1,"form-buttons","mb-4"],["type","submit","name","action","value","save",1,"btn","btn-primary",3,"disabled"],["type","submit","name","action","value","approve",1,"btn","btn-primary",3,"disabled"],["id","profile","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"btn","btn-lg","btn-block","btn-outline-primary",3,"click"],[1,"fa","fa-cloud-upload","mr-3"],["type","file","id","input-file","name","input-file","hidden","",3,"change"],["ngif","createMetaData","id","metadata","role","tabpanel","aria-labelledby","metadata-tab",1,"tab-pane","fade"],[3,"formGroup"],[1,"card","card-body","mb-3","d-flex","justify-content-between","flex-row"],[1,"fa","fa-lock","mr-2"],[1,"form-check","form-switch"],["type","checkbox","name","metaData","formControlName","metaData","id","exampleCheck1",1,"form-check-input"],["class","mt-3",4,"ngIf"],["id","contact","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],["name","security_type","formControlName","security_type","id","exampleFormControlSelect1",1,"form-control",3,"change"],["value","template"],["value","custom"],["id","sharing","role","tabpanel","aria-labelledby","sharing-tab",1,"tab-pane","fade"],["for","exampleFormControlSelect1"],["name","access","formControlName","access","id","access",1,"form-control"],["value","public"],["value","restricted"],["style","margin: 16px 0px",4,"ngIf"],[1,"card","border-0",2,"margin","16px 0px"],["for","users_name"],["type","text","formControlName","staff","id","staff","placeholder","Enter name",1,"form-control"],["formControlName","memFoldId","id","memFoldId",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-3"],[1,"form-group","mb-3"],["for","key"],["type","text","formControlName","key","id","key","placeholder","Enter key",1,"form-control"],["for","value"],["type","text","formControlName","value","id","value","placeholder","Enter value",1,"form-control"],["type","button","class","btn btn-primary d-flex justify-content-center align-items-center w-100 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","align-items-center","w-100","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],[1,"table","table-bordered","mt-4"],[1,"flex","justify-content-between"],[1,"text-center"],[1,""],[4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[1,"fas","fa-trash-alt","text-danger"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"list-group","list-group-flush","mb-3"],["href","javascript:;","class","list-group-item px-0 d-flex align-items-center",4,"ngFor","ngForOf"],["href","javascript:;",1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"mb-0"],[1,"small","text-muted"],[1,"text-primary"],["href","javascript:;",1,"btn","btn-floating",3,"click"],[1,"ti-trash"],["for","title"],["type","text","formControlName","key","id","key","placeholder","Enter title",1,"form-control"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center","align-items-center","w-100","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],[1,"text-danger"],[1,"d-md-flex","justify-content-between","mb-3"],[1,"d-block"],["href","#"],["type","checkbox","name","secureByEmailOtp","formControlName","secureByEmailOtp","id","exampleCheck1",1,"form-check-input"],["type","checkbox","name","secureBySmsOtp","formControlName","secureBySmsOtp","id","exampleCheck1",1,"form-check-input"],["type","checkbox","name","secureByIp","formControlName","secureByIp","id","exampleCheck1",1,"form-check-input"],["class","card",4,"ngIf"],["type","checkbox","name","secureByGeoLocation","formControlName","secureByGeoLocation","id","exampleCheck1",1,"form-check-input",3,"change"],["type","checkbox","name","create_as_template","formControlName","create_as_template","id","create_as_template",1,"form-check-input"],["for","create_as_template",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3"],[1,"card"],[1,"card-body"],[1,"form-group","mb-2"],["for","ip_address"],["type","text","name","ip_address","value","ip_address","formControlName","ip_address",1,"form-control"],["type","button",1,"btn","mt-4","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],[1,"badge","border","bg-success-bright","text-primary","w-100","text-center","py-3","form-control","fs-6"],[2,"color","black","font-weight","100"],["type","text","formControlName","areaName",1,"card","form-control",3,"value"],["class","form-group",4,"ngFor","ngForOf"],["for",""],["type","text","formControlName","templateName","id","templateName","placeholder","Enter Template Name",1,"form-control"],["for","templateDescription"],["formControlName","templateDescription","id","templateDescription","placeholder","Enter Template Description",1,"form-control"],["type","button",1,"btn","btn-primary"],[2,"margin","16px 0px"],["for","accessType"],["name","accessType","formControlName","accessType","id","accessType",1,"form-control"],["value","individual"],["value","group"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-3",3,"click"],["type","text","formControlName","name","id","users_name","placeholder","Enter name",1,"form-control"],["for","users_email"],["type","email","formControlName","email","id","users_email","placeholder","Enter email",1,"form-control"],["for","phone"],["type","text","formControlName","phone","id","users_phone","placeholder","Enter phone number",1,"form-control"],["for","group_email"],["type","email","formControlName","groupEmail","id","group_email","placeholder","Enter group email",1,"form-control"]],template:function(n,r){n&1&&(d(0,"div"),L(1,d3,8,0,"div",3)(2,u3,8,0,"div",3)(3,h3,8,0,"div",3)(4,p3,8,0,"div",3)(5,m3,8,0,"div",3)(6,f3,8,0,"div",3)(7,g3,8,0,"div",3)(8,lD,12,7,"div",3),u()),n&2&&(g(),y("ngIf",r.handleModals.show=="new_user"),g(),y("ngIf",r.handleModals.show=="forms"),g(),y("ngIf",r.handleModals.show=="esignature"),g(),y("ngIf",r.handleModals.show=="otp"),g(),y("ngIf",r.handleModals.show=="qrcode"),g(),y("ngIf",r.handleModals.show=="authentication"),g(),y("ngIf",r.handleModals.show=="create_folder"),g(),y("ngIf",ft(8,c3).includes(r.handleModals.show)))},dependencies:[se,nt,ge,Ne,We,hr,pr,Oe,Wh,ur,Fe,$e,Et,Mt,rt,k1,Nd,A1,D1,L1,I1,O1,F1,R1,N1],styles:[".form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.ql-toolbar.ql-snow[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.ql-container.ql-snow[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;min-height:200px}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:150px;gap:20px}.btn-generate[_ngcontent-%COMP%], .btn-create[_ngcontent-%COMP%]{padding:20px 40px;font-size:24px;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease;width:300px;text-align:center}.btn-generate[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-generate[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-create[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-create[_ngcontent-%COMP%]:hover{background-color:#218838}.or-text[_ngcontent-%COMP%]{font-size:20px;color:#6c757d;margin:0}#folder[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}#folder[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#88888880;border-radius:6px}#folder[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(136,136,136,.5) transparent}#scroll-container[_ngcontent-%COMP%]{width:100%;height:10vh;overflow-y:scroll}#scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}#scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e0e0e0;border-radius:4px}#scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}#scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]})}}return i})();var z1=(()=>{class i{constructor(){this.prop=!1,this.handleClick=e=>{this.prop=!this.prop}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"layout-wrapper"],[3,"dataEmitter"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"app-header",1),I("dataEmitter",function(s){return r.handleClick(s)}),u(),_(2,"router-outlet")(3,"app-sidebarforms"),u())},dependencies:[Ac,$r,Dc,B1],encapsulation:2})}}return i})();var cD=()=>["/portal/dashboard"],dD=()=>["/portal/files"],uD=()=>["/login"],hD=()=>["/portal/activities"],pD=()=>["/portal/users"],mD=()=>["/portal/settings"];function fD(i,t){i&1&&(et(0),d(1,"li")(2,"a",5),_(3,"i",13),d(4,"span",7),m(5,"Activities"),u()()(),d(6,"li")(7,"a",5),_(8,"i",14),d(9,"span",7),m(10,"Users"),u()()(),d(11,"li")(12,"a",5),_(13,"i",15),d(14,"span",7),m(15,"Settings"),u()()(),tt()),i&2&&(g(2),y("routerLink",ft(3,hD)),g(5),y("routerLink",ft(4,pD)),g(5),y("routerLink",ft(5,mD)))}var xn=(()=>{class i{constructor(e){this.router=e,this.isAdmin="false"}ngOnInit(){this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false")}signOut(){localStorage.removeItem("isAdmin"),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||i)(M(Re))}}static{this.\u0275cmp=H({type:i,selectors:[["app-navigation"]],decls:23,vars:7,consts:[[1,"navigation"],[1,"logo"],["href","index.html"],["src","../../assets/media/image/logo.png","alt","logo",2,"width","100%","margin","16px 0px"],[2,"margin-top","40px"],[3,"routerLink"],[1,"nav-link-icon","ti-pie-chart"],[1,"nav-link-label"],[1,"badge","badge-danger","badge-small"],[1,"nav-link-icon","ti-file"],[4,"ngIf"],[3,"click","routerLink"],[1,"nav-link-icon","ti-power-off"],[1,"nav-link-icon","ti-pulse"],[1,"nav-link-icon","ti-user"],[1,"nav-link-icon","ti-settings"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"a",2),_(3,"img",3),u()(),d(4,"ul",4)(5,"li")(6,"a",5),_(7,"i",6),d(8,"span",7),m(9,"Dashboard"),u(),d(10,"span",8),m(11,"2"),u()()(),d(12,"li")(13,"a",5),_(14,"i",9),d(15,"span",7),m(16,"Files"),u()()(),L(17,fD,16,6,"ng-container",10),d(18,"li")(19,"a",11),I("click",function(){return r.signOut()}),_(20,"i",12),d(21,"span",7),m(22,"Log out"),u()()()()()),n&2&&(g(6),y("routerLink",ft(4,cD)),g(7),y("routerLink",ft(5,dD)),g(4),y("ngIf",r.isAdmin),g(2),y("routerLink",ft(6,uD)))},dependencies:[lr,se,ge],encapsulation:2})}}return i})();function gD(i,t){i&1&&(d(0,"div",39)(1,"div",3),_(2,"div",40),u()())}function vD(i,t){if(i&1&&(d(0,"div")(1,"div",43)(2,"div",44)(3,"div",45)(4,"figure",46)(5,"span",47),_(6,"i",48),u()()(),d(7,"div",49)(8,"p",50),m(9),u(),d(10,"span",51),m(11),u()(),_(12,"div"),u()()()),i&2){let e=t.$implicit;g(9),oe(e==null?null:e.MemFoldName),g(2),U("",e==null?null:e.total_file," Files")}}function xD(i,t){if(i&1&&(d(0,"div",12),_(1,"div",41),L(2,vD,13,2,"div",42),u()),i&2){let e=C();g(2),y("ngForOf",e.folder)}}var _n=(()=>{class i{constructor(e,n,r){this.HttpRequest=e,this.handleModal=n,this.folderService=r,this.folder=[],this.isLoading=!0}ngOnInit(){this.folderService.refreshFolder$.subscribe(e=>{e&&this.fetchFolders()})}openModal(){this.handleModal.showMother("create_memo")}fetchFolders(){this.HttpRequest?.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.folder=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-sidebar"]],decls:94,vars:2,consts:[[1,"sidebar-group","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],[1,"text-center"],["class","spinner-container",4,"ngIf"],["class","sidebar-content",4,"ngIf"],[1,"sidebar-footer"],[1,"btn","btn-lg","btn-block","btn-outline-primary",3,"click"],[1,"fa","fa-cloud-upload","mr-3"],["id","view-detail",1,"sidebar"],["href","#",1,"btn","btn-light","btn-floating","sidebar-close-btn"],[1,"ti-angle-right"],[1,"sidebar-content"],[1,"avatar","mb-4"],[1,"avatar-title","bg-info-bright","text-info","rounded-pill"],[1,"ti-file"],[1,"row","mb-3"],[1,"col-md-5"],[1,"col-md-7"],["href","#",1,"link-1"],[1,"col-md-7","text-success"],[1,"btn","btn-lg","btn-block","btn-primary"],[1,"ti-share","mr-3"],["id","settings",1,"sidebar"],[1,"list-group","list-group-flush"],[1,"list-group-item","pl-0","pr-0"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1","checked","",1,"custom-control-input"],["for","customSwitch1",1,"custom-control-label"],["type","checkbox","id","customSwitch2",1,"custom-control-input"],["for","customSwitch2",1,"custom-control-label"],["type","checkbox","id","customSwitch3","checked","",1,"custom-control-input"],["for","customSwitch3",1,"custom-control-label"],["type","checkbox","id","customSwitch4","checked","",1,"custom-control-input"],["for","customSwitch4",1,"custom-control-label"],["type","checkbox","id","customSwitch5",1,"custom-control-input"],["for","customSwitch5",1,"custom-control-label"],["type","checkbox","id","customSwitch6",1,"custom-control-input"],["for","customSwitch6",1,"custom-control-label"],[1,"spinner-container"],[1,"spinner"],["id","justgage_five",1,"mb-3"],[4,"ngFor","ngForOf"],[1,"list-group","list-group-flush","mb-3"],[1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"mb-0"],[1,"small","text-muted"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),m(4,"Folders"),u()(),L(5,gD,3,0,"div",4)(6,xD,3,1,"div",5),d(7,"div",6)(8,"button",7),I("click",function(){return r.openModal()}),_(9,"i",8),m(10," Create a Memo "),u()()(),d(11,"div",9)(12,"div",2)(13,"h4"),m(14,"View Detail"),u(),d(15,"a",10),_(16,"i",11),u()(),d(17,"div",12)(18,"figure",13)(19,"span",14),_(20,"i",15),u()(),d(21,"div",16)(22,"div",17),m(23,"File name:"),u(),d(24,"div",18)(25,"a",19),m(26,"Meeting-notes.doc"),u()()(),d(27,"div",16)(28,"div",17),m(29,"File type:"),u(),d(30,"div",18),m(31,"Word File"),u()(),d(32,"div",16)(33,"div",17),m(34,"File size:"),u(),d(35,"div",18),m(36,"22 KB"),u()(),d(37,"div",16)(38,"div",17),m(39,"Created:"),u(),d(40,"div",18),m(41,"Monday, July 02, 2020 9:34am"),u()(),d(42,"div",16)(43,"div",17),m(44,"Modified:"),u(),d(45,"div",20),m(46,"Monday, July 02, 2020 9:34am"),u()(),d(47,"div",16)(48,"div",17),m(49,"Accessed:"),u(),d(50,"div",18),m(51,"Monday, July 03, 2020 10:22am"),u()()(),d(52,"div",6)(53,"button",21),_(54,"i",22),m(55," Share "),u()()(),d(56,"div",23)(57,"div",2)(58,"h4"),m(59,"Settings"),u(),d(60,"a",10),_(61,"i",11),u()(),d(62,"div",12)(63,"ul",24)(64,"li",25)(65,"div",26),_(66,"input",27),d(67,"label",28),m(68,"Allow notifications."),u()()(),d(69,"li",25)(70,"div",26),_(71,"input",29),d(72,"label",30),m(73,"Hide user requests"),u()()(),d(74,"li",25)(75,"div",26),_(76,"input",31),d(77,"label",32),m(78,"Speed up demands"),u()()(),d(79,"li",25)(80,"div",26),_(81,"input",33),d(82,"label",34),m(83,"Hide menus"),u()()(),d(84,"li",25)(85,"div",26),_(86,"input",35),d(87,"label",36),m(88,"Remember next visits"),u()()(),d(89,"li",25)(90,"div",26),_(91,"input",37),d(92,"label",38),m(93,"Enable report generation."),u()()()()()()()),n&2&&(g(5),y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading))},dependencies:[se,nt,ge],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var _u=Nt(jt());var il=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},nl=class extends il{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},Em=class extends il{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Mm=class extends il{element;constructor(t){super(),this.element=t instanceof _t?t.nativeElement:t}},Am=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof nl)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Em)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Mm)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var zd=class extends Am{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,r,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(og,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=Gu(t.component,{elementInjector:t.injector||this._defaultInjector||Yt.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Hd="http://www.w3.org/1999/xhtml",Dm={svg:"http://www.w3.org/2000/svg",xhtml:Hd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gn(i){var t=i+="",e=t.indexOf(":");return e>=0&&(t=i.slice(0,e))!=="xmlns"&&(i=i.slice(e+1)),Dm.hasOwnProperty(t)?{space:Dm[t],local:i}:i}function _D(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Hd&&t.documentElement.namespaceURI===Hd?t.createElement(i):t.createElementNS(e,i)}}function yD(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function jd(i){var t=Gn(i);return(t.local?yD:_D)(t)}function bD(){}function go(i){return i==null?bD:function(){return this.querySelector(i)}}function H1(i){typeof i!="function"&&(i=go(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var o=t[r],s=o.length,a=n[r]=new Array(s),l,c,h=0;h<s;++h)(l=o[h])&&(c=i.call(l,l.__data__,h,o))&&("__data__"in l&&(c.__data__=l.__data__),a[h]=c);return new ut(n,this._parents)}function Lm(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function CD(){return[]}function rl(i){return i==null?CD:function(){return this.querySelectorAll(i)}}function wD(i){return function(){return Lm(i.apply(this,arguments))}}function j1(i){typeof i=="function"?i=wD(i):i=rl(i);for(var t=this._groups,e=t.length,n=[],r=[],o=0;o<e;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(i.call(l,l.__data__,c,s)),r.push(l));return new ut(n,r)}function ol(i){return function(){return this.matches(i)}}function $d(i){return function(t){return t.matches(i)}}var SD=Array.prototype.find;function TD(i){return function(){return SD.call(this.children,i)}}function kD(){return this.firstElementChild}function $1(i){return this.select(i==null?kD:TD(typeof i=="function"?i:$d(i)))}var ED=Array.prototype.filter;function MD(){return Array.from(this.children)}function AD(i){return function(){return ED.call(this.children,i)}}function G1(i){return this.selectAll(i==null?MD:AD(typeof i=="function"?i:$d(i)))}function q1(i){typeof i!="function"&&(i=ol(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var o=t[r],s=o.length,a=n[r]=[],l,c=0;c<s;++c)(l=o[c])&&i.call(l,l.__data__,c,o)&&a.push(l);return new ut(n,this._parents)}function Gd(i){return new Array(i.length)}function U1(){return new ut(this._enter||this._groups.map(Gd),this._parents)}function sl(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}sl.prototype={constructor:sl,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function W1(i){return function(){return i}}function DD(i,t,e,n,r,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):e[s]=new sl(i,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function LD(i,t,e,n,r,o,s){var a,l,c=new Map,h=t.length,p=o.length,f=new Array(h),v;for(a=0;a<h;++a)(l=t[a])&&(f[a]=v=s.call(l,l.__data__,a,t)+"",c.has(v)?r[a]=l:c.set(v,l));for(a=0;a<p;++a)v=s.call(i,o[a],a,o)+"",(l=c.get(v))?(n[a]=l,l.__data__=o[a],c.delete(v)):e[a]=new sl(i,o[a]);for(a=0;a<h;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function ID(i){return i.__data__}function X1(i,t){if(!arguments.length)return Array.from(this,ID);var e=t?LD:DD,n=this._parents,r=this._groups;typeof i!="function"&&(i=W1(i));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var h=n[c],p=r[c],f=p.length,v=OD(i.call(h,h&&h.__data__,c,n)),x=v.length,S=a[c]=new Array(x),T=s[c]=new Array(x),P=l[c]=new Array(f);e(h,p,S,T,P,v,t);for(var me=0,te=0,Qe,Pe;me<x;++me)if(Qe=S[me]){for(me>=te&&(te=me+1);!(Pe=T[te])&&++te<x;);Qe._next=Pe||null}}return s=new ut(s,n),s._enter=a,s._exit=l,s}function OD(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Y1(){return new ut(this._exit||this._groups.map(Gd),this._parents)}function Q1(i,t,e){var n=this.enter(),r=this,o=this.exit();return typeof i=="function"?(n=i(n),n&&(n=n.selection())):n=n.append(i+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?o.remove():e(o),n&&r?n.merge(r).order():r}function K1(i){for(var t=i.selection?i.selection():i,e=this._groups,n=t._groups,r=e.length,o=n.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c=e[l],h=n[l],p=c.length,f=a[l]=new Array(p),v,x=0;x<p;++x)(v=c[x]||h[x])&&(f[x]=v);for(;l<r;++l)a[l]=e[l];return new ut(a,this._parents)}function J1(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var n=i[t],r=n.length-1,o=n[r],s;--r>=0;)(s=n[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Z1(i){i||(i=FD);function t(p,f){return p&&f?i(p.__data__,f.__data__):!p-!f}for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o){for(var s=e[o],a=s.length,l=r[o]=new Array(a),c,h=0;h<a;++h)(c=s[h])&&(l[h]=c);l.sort(t)}return new ut(r,this._parents).order()}function FD(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function ey(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function ty(){return Array.from(this)}function iy(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,o=n.length;r<o;++r){var s=n[r];if(s)return s}return null}function ny(){let i=0;for(let t of this)++i;return i}function ry(){return!this.node()}function oy(i){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,s=r.length,a;o<s;++o)(a=r[o])&&i.call(a,a.__data__,o,r);return this}function ND(i){return function(){this.removeAttribute(i)}}function RD(i){return function(){this.removeAttributeNS(i.space,i.local)}}function PD(i,t){return function(){this.setAttribute(i,t)}}function VD(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function BD(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(i):this.setAttribute(i,e)}}function zD(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function sy(i,t){var e=Gn(i);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((t==null?e.local?RD:ND:typeof t=="function"?e.local?zD:BD:e.local?VD:PD)(e,t))}function qd(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function HD(i){return function(){this.style.removeProperty(i)}}function jD(i,t,e){return function(){this.style.setProperty(i,t,e)}}function $D(i,t,e){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(i):this.style.setProperty(i,n,e)}}function ay(i,t,e){return arguments.length>1?this.each((t==null?HD:typeof t=="function"?$D:jD)(i,t,e??"")):wr(this.node(),i)}function wr(i,t){return i.style.getPropertyValue(t)||qd(i).getComputedStyle(i,null).getPropertyValue(t)}function GD(i){return function(){delete this[i]}}function qD(i,t){return function(){this[i]=t}}function UD(i,t){return function(){var e=t.apply(this,arguments);e==null?delete this[i]:this[i]=e}}function ly(i,t){return arguments.length>1?this.each((t==null?GD:typeof t=="function"?UD:qD)(i,t)):this.node()[i]}function cy(i){return i.trim().split(/^|\s+/)}function Im(i){return i.classList||new dy(i)}function dy(i){this._node=i,this._names=cy(i.getAttribute("class")||"")}dy.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function uy(i,t){for(var e=Im(i),n=-1,r=t.length;++n<r;)e.add(t[n])}function hy(i,t){for(var e=Im(i),n=-1,r=t.length;++n<r;)e.remove(t[n])}function WD(i){return function(){uy(this,i)}}function XD(i){return function(){hy(this,i)}}function YD(i,t){return function(){(t.apply(this,arguments)?uy:hy)(this,i)}}function py(i,t){var e=cy(i+"");if(arguments.length<2){for(var n=Im(this.node()),r=-1,o=e.length;++r<o;)if(!n.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?YD:t?WD:XD)(e,t))}function QD(){this.textContent=""}function KD(i){return function(){this.textContent=i}}function JD(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function my(i){return arguments.length?this.each(i==null?QD:(typeof i=="function"?JD:KD)(i)):this.node().textContent}function ZD(){this.innerHTML=""}function eL(i){return function(){this.innerHTML=i}}function tL(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function fy(i){return arguments.length?this.each(i==null?ZD:(typeof i=="function"?tL:eL)(i)):this.node().innerHTML}function iL(){this.nextSibling&&this.parentNode.appendChild(this)}function gy(){return this.each(iL)}function nL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vy(){return this.each(nL)}function xy(i){var t=typeof i=="function"?i:jd(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rL(){return null}function _y(i,t){var e=typeof i=="function"?i:jd(i),n=t==null?rL:typeof t=="function"?t:go(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})}function oL(){var i=this.parentNode;i&&i.removeChild(this)}function yy(){return this.each(oL)}function sL(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function aL(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function by(i){return this.select(i?aL:sL)}function Cy(i){return arguments.length?this.property("__data__",i):this.node().__data__}function lL(i){return function(t){i.call(this,t,this.__data__)}}function cL(i){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function dL(i){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,o;e<r;++e)o=t[e],(!i.type||o.type===i.type)&&o.name===i.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function uL(i,t,e){return function(){var n=this.__on,r,o=lL(t);if(n){for(var s=0,a=n.length;s<a;++s)if((r=n[s]).type===i.type&&r.name===i.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=t;return}}this.addEventListener(i.type,o,e),r={type:i.type,name:i.name,value:t,listener:o,options:e},n?n.push(r):this.__on=[r]}}function wy(i,t,e){var n=cL(i+""),r,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,h;l<c;++l)for(r=0,h=a[l];r<o;++r)if((s=n[r]).type===h.type&&s.name===h.name)return h.value}return}for(a=t?uL:dL,r=0;r<o;++r)this.each(a(n[r],t,e));return this}function Sy(i,t,e){var n=qd(i),r=n.CustomEvent;typeof r=="function"?r=new r(t,e):(r=n.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),i.dispatchEvent(r)}function hL(i,t){return function(){return Sy(this,i,t)}}function pL(i,t){return function(){return Sy(this,i,t.apply(this,arguments))}}function Ty(i,t){return this.each((typeof t=="function"?pL:hL)(i,t))}function*ky(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,o=n.length,s;r<o;++r)(s=n[r])&&(yield s)}var Om=[null];function ut(i,t){this._groups=i,this._parents=t}function Ey(){return new ut([[document.documentElement]],Om)}function mL(){return this}ut.prototype=Ey.prototype={constructor:ut,select:H1,selectAll:j1,selectChild:$1,selectChildren:G1,filter:q1,data:X1,enter:U1,exit:Y1,join:Q1,merge:K1,selection:mL,order:J1,sort:Z1,call:ey,nodes:ty,node:iy,size:ny,empty:ry,each:oy,attr:sy,style:ay,property:ly,classed:py,text:my,html:fy,raise:gy,lower:vy,append:xy,insert:_y,remove:yy,clone:by,datum:Cy,on:wy,dispatch:Ty,[Symbol.iterator]:ky};var qn=Ey;function Fm(i){return typeof i=="string"?new ut([[document.querySelector(i)]],[document.documentElement]):new ut([[i]],Om)}var fL={value:()=>{}};function Ay(){for(var i=0,t=arguments.length,e={},n;i<t;++i){if(!(n=arguments[i]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new Ud(e)}function Ud(i){this._=i}function gL(i,t){return i.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Ud.prototype=Ay.prototype={constructor:Ud,on:function(i,t){var e=this._,n=gL(i+"",e),r,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((r=(i=n[o]).type)&&(r=vL(e[r],i.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(i=n[o]).type)e[r]=My(e[r],i.name,t);else if(t==null)for(r in e)e[r]=My(e[r],i.name,null);return this},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new Ud(i)},call:function(i,t){if((r=arguments.length-2)>0)for(var e=new Array(r),n=0,r,o;n<r;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(o=this._[i],n=0,r=o.length;n<r;++n)o[n].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],r=0,o=n.length;r<o;++r)n[r].value.apply(t,e)}};function vL(i,t){for(var e=0,n=i.length,r;e<n;++e)if((r=i[e]).name===t)return r.value}function My(i,t,e){for(var n=0,r=i.length;n<r;++n)if(i[n].name===t){i[n]=fL,i=i.slice(0,n).concat(i.slice(n+1));break}return e!=null&&i.push({name:t,value:e}),i}var Nm=Ay;function Wd(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function Rm(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function cl(){}var al=.7,Qd=1/al,ws="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xL=/^#([0-9a-f]{3,8})$/,_L=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),yL=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),bL=new RegExp(`^rgba\\(${ws},${ws},${ws},${ll}\\)$`),CL=new RegExp(`^rgba\\(${yn},${yn},${yn},${ll}\\)$`),wL=new RegExp(`^hsl\\(${ll},${yn},${yn}\\)$`),SL=new RegExp(`^hsla\\(${ll},${yn},${yn},${ll}\\)$`),Dy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wd(cl,Zi,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:Ly,formatHex:Ly,formatHex8:TL,formatHsl:kL,formatRgb:Iy,toString:Iy});function Ly(){return this.rgb().formatHex()}function TL(){return this.rgb().formatHex8()}function kL(){return Vy(this).formatHsl()}function Iy(){return this.rgb().formatRgb()}function Zi(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=xL.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?Oy(t):e===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_L.exec(i))?new Ci(t[1],t[2],t[3],1):(t=yL.exec(i))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bL.exec(i))?Xd(t[1],t[2],t[3],t[4]):(t=CL.exec(i))?Xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wL.exec(i))?Ry(t[1],t[2]/100,t[3]/100,1):(t=SL.exec(i))?Ry(t[1],t[2]/100,t[3]/100,t[4]):Dy.hasOwnProperty(i)?Oy(Dy[i]):i==="transparent"?new Ci(NaN,NaN,NaN,0):null}function Oy(i){return new Ci(i>>16&255,i>>8&255,i&255,1)}function Xd(i,t,e,n){return n<=0&&(i=t=e=NaN),new Ci(i,t,e,n)}function EL(i){return i instanceof cl||(i=Zi(i)),i?(i=i.rgb(),new Ci(i.r,i.g,i.b,i.opacity)):new Ci}function Ss(i,t,e,n){return arguments.length===1?EL(i):new Ci(i,t,e,n??1)}function Ci(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}Wd(Ci,Ss,Rm(cl,{brighter(i){return i=i==null?Qd:Math.pow(Qd,i),new Ci(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?al:Math.pow(al,i),new Ci(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Ci(xo(this.r),xo(this.g),xo(this.b),Kd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fy,formatHex:Fy,formatHex8:ML,formatRgb:Ny,toString:Ny}));function Fy(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function ML(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ny(){let i=Kd(this.opacity);return`${i===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${i===1?")":`, ${i})`}`}function Kd(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function xo(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function vo(i){return i=xo(i),(i<16?"0":"")+i.toString(16)}function Ry(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new Ji(i,t,e,n)}function Vy(i){if(i instanceof Ji)return new Ji(i.h,i.s,i.l,i.opacity);if(i instanceof cl||(i=Zi(i)),!i)return new Ji;if(i instanceof Ji)return i;i=i.rgb();var t=i.r/255,e=i.g/255,n=i.b/255,r=Math.min(t,e,n),o=Math.max(t,e,n),s=NaN,a=o-r,l=(o+r)/2;return a?(t===o?s=(e-n)/a+(e<n)*6:e===o?s=(n-t)/a+2:s=(t-e)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ji(s,a,l,i.opacity)}function By(i,t,e,n){return arguments.length===1?Vy(i):new Ji(i,t,e,n??1)}function Ji(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}Wd(Ji,By,Rm(cl,{brighter(i){return i=i==null?Qd:Math.pow(Qd,i),new Ji(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?al:Math.pow(al,i),new Ji(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,r=2*e-n;return new Ci(Pm(i>=240?i-240:i+120,r,n),Pm(i,r,n),Pm(i<120?i+240:i-120,r,n),this.opacity)},clamp(){return new Ji(Py(this.h),Yd(this.s),Yd(this.l),Kd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let i=Kd(this.opacity);return`${i===1?"hsl(":"hsla("}${Py(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${i===1?")":`, ${i})`}`}}));function Py(i){return i=(i||0)%360,i<0?i+360:i}function Yd(i){return Math.max(0,Math.min(1,i||0))}function Pm(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}function Vm(i,t,e,n,r){var o=i*i,s=o*i;return((1-3*i+3*o-s)*t+(4-6*o+3*s)*e+(1+3*i+3*o-3*s)*n+s*r)/6}function zy(i){var t=i.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=i[n],o=i[n+1],s=n>0?i[n-1]:2*r-o,a=n<t-1?i[n+2]:2*o-r;return Vm((e-n/t)*t,s,r,o,a)}}function Hy(i){var t=i.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*t),r=i[(n+t-1)%t],o=i[n%t],s=i[(n+1)%t],a=i[(n+2)%t];return Vm((e-n/t)*t,r,o,s,a)}}var dl=i=>()=>i;function AL(i,t){return function(e){return i+e*t}}function DL(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}function jy(i){return(i=+i)==1?Jd:function(t,e){return e-t?DL(t,e,i):dl(isNaN(t)?e:t)}}function Jd(i,t){var e=t-i;return e?AL(i,e):dl(isNaN(i)?t:i)}var _o=function i(t){var e=jy(t);function n(r,o){var s=e((r=Ss(r)).r,(o=Ss(o)).r),a=e(r.g,o.g),l=e(r.b,o.b),c=Jd(r.opacity,o.opacity);return function(h){return r.r=s(h),r.g=a(h),r.b=l(h),r.opacity=c(h),r+""}}return n.gamma=i,n}(1);function $y(i){return function(t){var e=t.length,n=new Array(e),r=new Array(e),o=new Array(e),s,a;for(s=0;s<e;++s)a=Ss(t[s]),n[s]=a.r||0,r[s]=a.g||0,o[s]=a.b||0;return n=i(n),r=i(r),o=i(o),a.opacity=1,function(l){return a.r=n(l),a.g=r(l),a.b=o(l),a+""}}}var LL=$y(zy),IL=$y(Hy);function Gy(i,t){t||(t=[]);var e=i?Math.min(t.length,i.length):0,n=t.slice(),r;return function(o){for(r=0;r<e;++r)n[r]=i[r]*(1-o)+t[r]*o;return n}}function qy(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Uy(i,t){var e=t?t.length:0,n=i?Math.min(e,i.length):0,r=new Array(n),o=new Array(e),s;for(s=0;s<n;++s)r[s]=yo(i[s],t[s]);for(;s<e;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=r[s](a);return o}}function Wy(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function $t(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function Xy(i,t){var e={},n={},r;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in i?e[r]=yo(i[r],t[r]):n[r]=t[r];return function(o){for(r in e)n[r]=e[r](o);return n}}var zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bm=new RegExp(zm.source,"g");function OL(i){return function(){return i}}function FL(i){return function(t){return i(t)+""}}function ul(i,t){var e=zm.lastIndex=Bm.lastIndex=0,n,r,o,s=-1,a=[],l=[];for(i=i+"",t=t+"";(n=zm.exec(i))&&(r=Bm.exec(t));)(o=r.index)>e&&(o=t.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:$t(n,r)})),e=Bm.lastIndex;return e<t.length&&(o=t.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?FL(l[0].x):OL(t):(t=l.length,function(c){for(var h=0,p;h<t;++h)a[(p=l[h]).i]=p.x(c);return a.join("")})}function yo(i,t){var e=typeof t,n;return t==null||e==="boolean"?dl(t):(e==="number"?$t:e==="string"?(n=Zi(t))?(t=n,_o):ul:t instanceof Zi?_o:t instanceof Date?Wy:qy(t)?Gy:Array.isArray(t)?Uy:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xy:$t)(i,t)}function Hm(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}var Yy=180/Math.PI,Zd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jm(i,t,e,n,r,o){var s,a,l;return(s=Math.sqrt(i*i+t*t))&&(i/=s,t/=s),(l=i*e+t*n)&&(e-=i*l,n-=t*l),(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a,l/=a),i*n<t*e&&(i=-i,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,i)*Yy,skewX:Math.atan(l)*Yy,scaleX:s,scaleY:a}}var eu;function Qy(i){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Zd:jm(t.a,t.b,t.c,t.d,t.e,t.f)}function Ky(i){return i==null?Zd:(eu||(eu=document.createElementNS("http://www.w3.org/2000/svg","g")),eu.setAttribute("transform",i),(i=eu.transform.baseVal.consolidate())?(i=i.matrix,jm(i.a,i.b,i.c,i.d,i.e,i.f)):Zd)}function Jy(i,t,e,n){function r(c){return c.length?c.pop()+" ":""}function o(c,h,p,f,v,x){if(c!==p||h!==f){var S=v.push("translate(",null,t,null,e);x.push({i:S-4,x:$t(c,p)},{i:S-2,x:$t(h,f)})}else(p||f)&&v.push("translate("+p+t+f+e)}function s(c,h,p,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:p.push(r(p)+"rotate(",null,n)-2,x:$t(c,h)})):h&&p.push(r(p)+"rotate("+h+n)}function a(c,h,p,f){c!==h?f.push({i:p.push(r(p)+"skewX(",null,n)-2,x:$t(c,h)}):h&&p.push(r(p)+"skewX("+h+n)}function l(c,h,p,f,v,x){if(c!==p||h!==f){var S=v.push(r(v)+"scale(",null,",",null,")");x.push({i:S-4,x:$t(c,p)},{i:S-2,x:$t(h,f)})}else(p!==1||f!==1)&&v.push(r(v)+"scale("+p+","+f+")")}return function(c,h){var p=[],f=[];return c=i(c),h=i(h),o(c.translateX,c.translateY,h.translateX,h.translateY,p,f),s(c.rotate,h.rotate,p,f),a(c.skewX,h.skewX,p,f),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,p,f),c=h=null,function(v){for(var x=-1,S=f.length,T;++x<S;)p[(T=f[x]).i]=T.x(v);return p.join("")}}}var $m=Jy(Qy,"px, ","px)","deg)"),Gm=Jy(Ky,", ",")",")");var Ts=0,pl=0,hl=0,eb=1e3,tu,ml,iu=0,bo=0,nu=0,fl=typeof performance=="object"&&performance.now?performance:Date,tb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function vl(){return bo||(tb(NL),bo=fl.now()+nu)}function NL(){bo=0}function gl(){this._call=this._time=this._next=null}gl.prototype=ru.prototype={constructor:gl,restart:function(i,t,e){if(typeof i!="function")throw new TypeError("callback is not a function");e=(e==null?vl():+e)+(t==null?0:+t),!this._next&&ml!==this&&(ml?ml._next=this:tu=this,ml=this),this._call=i,this._time=e,qm()},stop:function(){this._call&&(this._call=null,this._time=1/0,qm())}};function ru(i,t,e){var n=new gl;return n.restart(i,t,e),n}function ib(){vl(),++Ts;for(var i=tu,t;i;)(t=bo-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Ts}function Zy(){bo=(iu=fl.now())+nu,Ts=pl=0;try{ib()}finally{Ts=0,PL(),bo=0}}function RL(){var i=fl.now(),t=i-iu;t>eb&&(nu-=t,iu=i)}function PL(){for(var i,t=tu,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:tu=e);ml=i,qm(n)}function qm(i){if(!Ts){pl&&(pl=clearTimeout(pl));var t=i-bo;t>24?(i<1/0&&(pl=setTimeout(Zy,i-fl.now()-nu)),hl&&(hl=clearInterval(hl))):(hl||(iu=fl.now(),hl=setInterval(RL,eb)),Ts=1,tb(Zy))}}function ou(i,t,e){var n=new gl;return t=t==null?0:+t,n.restart(r=>{n.stop(),i(r+t)},t,e),n}var VL=Nm("start","end","cancel","interrupt"),BL=[],ob=0,nb=1,au=2,su=3,rb=4,lu=5,xl=6;function Sr(i,t,e,n,r,o){var s=i.__transition;if(!s)i.__transition={};else if(e in s)return;zL(i,e,{name:t,index:n,group:r,on:VL,tween:BL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ob})}function _l(i,t){var e=At(i,t);if(e.state>ob)throw new Error("too late; already scheduled");return e}function Gt(i,t){var e=At(i,t);if(e.state>su)throw new Error("too late; already running");return e}function At(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function zL(i,t,e){var n=i.__transition,r;n[t]=e,e.timer=ru(o,0,e.time);function o(c){e.state=nb,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var h,p,f,v;if(e.state!==nb)return l();for(h in n)if(v=n[h],v.name===e.name){if(v.state===su)return ou(s);v.state===rb?(v.state=xl,v.timer.stop(),v.on.call("interrupt",i,i.__data__,v.index,v.group),delete n[h]):+h<t&&(v.state=xl,v.timer.stop(),v.on.call("cancel",i,i.__data__,v.index,v.group),delete n[h])}if(ou(function(){e.state===su&&(e.state=rb,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=au,e.on.call("start",i,i.__data__,e.index,e.group),e.state===au){for(e.state=su,r=new Array(f=e.tween.length),h=0,p=-1;h<f;++h)(v=e.tween[h].value.call(i,i.__data__,e.index,e.group))&&(r[++p]=v);r.length=p+1}}function a(c){for(var h=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=lu,1),p=-1,f=r.length;++p<f;)r[p].call(i,h);e.state===lu&&(e.on.call("end",i,i.__data__,e.index,e.group),l())}function l(){e.state=xl,e.timer.stop(),delete n[t];for(var c in n)return;delete i.__transition}}function Um(i,t){var e=i.__transition,n,r,o=!0,s;if(e){t=t==null?null:t+"";for(s in e){if((n=e[s]).name!==t){o=!1;continue}r=n.state>au&&n.state<lu,n.state=xl,n.timer.stop(),n.on.call(r?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete e[s]}o&&delete i.__transition}}function sb(i){return this.each(function(){Um(this,i)})}function HL(i,t){var e,n;return function(){var r=Gt(this,i),o=r.tween;if(o!==e){n=e=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}r.tween=n}}function jL(i,t,e){var n,r;if(typeof e!="function")throw new Error;return function(){var o=Gt(this,i),s=o.tween;if(s!==n){r=(n=s).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function ab(i,t){var e=this._id;if(i+="",arguments.length<2){for(var n=At(this.node(),e).tween,r=0,o=n.length,s;r<o;++r)if((s=n[r]).name===i)return s.value;return null}return this.each((t==null?HL:jL)(e,i,t))}function ks(i,t,e){var n=i._id;return i.each(function(){var r=Gt(this,n);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return At(r,n).value[t]}}function cu(i,t){var e;return(typeof t=="number"?$t:t instanceof Zi?_o:(e=Zi(t))?(t=e,_o):ul)(i,t)}function $L(i){return function(){this.removeAttribute(i)}}function GL(i){return function(){this.removeAttributeNS(i.space,i.local)}}function qL(i,t,e){var n,r=e+"",o;return function(){var s=this.getAttribute(i);return s===r?null:s===n?o:o=t(n=s,e)}}function UL(i,t,e){var n,r=e+"",o;return function(){var s=this.getAttributeNS(i.space,i.local);return s===r?null:s===n?o:o=t(n=s,e)}}function WL(i,t,e){var n,r,o;return function(){var s,a=e(this),l;return a==null?void this.removeAttribute(i):(s=this.getAttribute(i),l=a+"",s===l?null:s===n&&l===r?o:(r=l,o=t(n=s,a)))}}function XL(i,t,e){var n,r,o;return function(){var s,a=e(this),l;return a==null?void this.removeAttributeNS(i.space,i.local):(s=this.getAttributeNS(i.space,i.local),l=a+"",s===l?null:s===n&&l===r?o:(r=l,o=t(n=s,a)))}}function lb(i,t){var e=Gn(i),n=e==="transform"?Gm:cu;return this.attrTween(i,typeof t=="function"?(e.local?XL:WL)(e,n,ks(this,"attr."+i,t)):t==null?(e.local?GL:$L)(e):(e.local?UL:qL)(e,n,t))}function YL(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function QL(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function KL(i,t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&QL(i,o)),e}return r._value=t,r}function JL(i,t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&YL(i,o)),e}return r._value=t,r}function cb(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var n=Gn(i);return this.tween(e,(n.local?KL:JL)(n,t))}function ZL(i,t){return function(){_l(this,i).delay=+t.apply(this,arguments)}}function eI(i,t){return t=+t,function(){_l(this,i).delay=t}}function db(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?ZL:eI)(t,i)):At(this.node(),t).delay}function tI(i,t){return function(){Gt(this,i).duration=+t.apply(this,arguments)}}function iI(i,t){return t=+t,function(){Gt(this,i).duration=t}}function ub(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?tI:iI)(t,i)):At(this.node(),t).duration}function nI(i,t){if(typeof t!="function")throw new Error;return function(){Gt(this,i).ease=t}}function hb(i){var t=this._id;return arguments.length?this.each(nI(t,i)):At(this.node(),t).ease}function rI(i,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Gt(this,i).ease=e}}function pb(i){if(typeof i!="function")throw new Error;return this.each(rI(this._id,i))}function mb(i){typeof i!="function"&&(i=ol(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var o=t[r],s=o.length,a=n[r]=[],l,c=0;c<s;++c)(l=o[c])&&i.call(l,l.__data__,c,o)&&a.push(l);return new ui(n,this._parents,this._name,this._id)}function fb(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,n=t.length,r=e.length,o=Math.min(n,r),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=e[a],h=l.length,p=s[a]=new Array(h),f,v=0;v<h;++v)(f=l[v]||c[v])&&(p[v]=f);for(;a<n;++a)s[a]=t[a];return new ui(s,this._parents,this._name,this._id)}function oI(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function sI(i,t,e){var n,r,o=oI(t)?_l:Gt;return function(){var s=o(this,i),a=s.on;a!==n&&(r=(n=a).copy()).on(t,e),s.on=r}}function gb(i,t){var e=this._id;return arguments.length<2?At(this.node(),e).on.on(i):this.each(sI(e,i,t))}function aI(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}function vb(){return this.on("end.remove",aI(this._id))}function xb(i){var t=this._name,e=this._id;typeof i!="function"&&(i=go(i));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var a=n[s],l=a.length,c=o[s]=new Array(l),h,p,f=0;f<l;++f)(h=a[f])&&(p=i.call(h,h.__data__,f,a))&&("__data__"in h&&(p.__data__=h.__data__),c[f]=p,Sr(c[f],t,e,f,c,At(h,e)));return new ui(o,this._parents,t,e)}function _b(i){var t=this._name,e=this._id;typeof i!="function"&&(i=rl(i));for(var n=this._groups,r=n.length,o=[],s=[],a=0;a<r;++a)for(var l=n[a],c=l.length,h,p=0;p<c;++p)if(h=l[p]){for(var f=i.call(h,h.__data__,p,l),v,x=At(h,e),S=0,T=f.length;S<T;++S)(v=f[S])&&Sr(v,t,e,S,f,x);o.push(f),s.push(h)}return new ui(o,s,t,e)}var lI=qn.prototype.constructor;function yb(){return new lI(this._groups,this._parents)}function cI(i,t){var e,n,r;return function(){var o=wr(this,i),s=(this.style.removeProperty(i),wr(this,i));return o===s?null:o===e&&s===n?r:r=t(e=o,n=s)}}function bb(i){return function(){this.style.removeProperty(i)}}function dI(i,t,e){var n,r=e+"",o;return function(){var s=wr(this,i);return s===r?null:s===n?o:o=t(n=s,e)}}function uI(i,t,e){var n,r,o;return function(){var s=wr(this,i),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(i),wr(this,i))),s===l?null:s===n&&l===r?o:(r=l,o=t(n=s,a))}}function hI(i,t){var e,n,r,o="style."+t,s="end."+o,a;return function(){var l=Gt(this,i),c=l.on,h=l.value[o]==null?a||(a=bb(t)):void 0;(c!==e||r!==h)&&(n=(e=c).copy()).on(s,r=h),l.on=n}}function Cb(i,t,e){var n=(i+="")=="transform"?$m:cu;return t==null?this.styleTween(i,cI(i,n)).on("end.style."+i,bb(i)):typeof t=="function"?this.styleTween(i,uI(i,n,ks(this,"style."+i,t))).each(hI(this._id,i)):this.styleTween(i,dI(i,n,t),e).on("end.style."+i,null)}function pI(i,t,e){return function(n){this.style.setProperty(i,t.call(this,n),e)}}function mI(i,t,e){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&pI(i,s,e)),n}return o._value=t,o}function wb(i,t,e){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,mI(i,t,e??""))}function fI(i){return function(){this.textContent=i}}function gI(i){return function(){var t=i(this);this.textContent=t??""}}function Sb(i){return this.tween("text",typeof i=="function"?gI(ks(this,"text",i)):fI(i==null?"":i+""))}function vI(i){return function(t){this.textContent=i.call(this,t)}}function xI(i){var t,e;function n(){var r=i.apply(this,arguments);return r!==e&&(t=(e=r)&&vI(r)),t}return n._value=i,n}function Tb(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,xI(i))}function kb(){for(var i=this._name,t=this._id,e=du(),n=this._groups,r=n.length,o=0;o<r;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var h=At(l,t);Sr(l,i,e,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(n,this._parents,i,e)}function Eb(){var i,t,e=this,n=e._id,r=e.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};e.each(function(){var c=Gt(this,n),h=c.on;h!==i&&(t=(i=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&o()})}var _I=0;function ui(i,t,e,n){this._groups=i,this._parents=t,this._name=e,this._id=n}function Mb(i){return qn().transition(i)}function du(){return++_I}var Un=qn.prototype;ui.prototype=Mb.prototype={constructor:ui,select:xb,selectAll:_b,selectChild:Un.selectChild,selectChildren:Un.selectChildren,filter:mb,merge:fb,selection:yb,transition:kb,call:Un.call,nodes:Un.nodes,node:Un.node,size:Un.size,empty:Un.empty,each:Un.each,on:gb,attr:lb,attrTween:cb,style:Cb,styleTween:wb,text:Sb,textTween:Tb,remove:vb,tween:ab,delay:db,duration:ub,ease:hb,easeVarying:pb,end:Eb,[Symbol.iterator]:Un[Symbol.iterator]};function uu(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var yI={time:null,delay:0,duration:250,ease:uu};function bI(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}function Ab(i){var t,e;i instanceof ui?(t=i._id,i=i._name):(t=du(),(e=yI).time=vl(),i=i==null?null:i+"");for(var n=this._groups,r=n.length,o=0;o<r;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Sr(l,i,t,c,s,e||bI(l,t));return new ui(n,this._parents,i,t)}qn.prototype.interrupt=sb;qn.prototype.transition=Ab;var{abs:Az,max:Dz,min:Lz}=Math;function Db(i){return[+i[0],+i[1]]}function CI(i){return[Db(i[0]),Db(i[1])]}var Iz={name:"x",handles:["w","e"].map(Wm),input:function(i,t){return i==null?null:[[+i[0],t[0][1]],[+i[1],t[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},Oz={name:"y",handles:["n","s"].map(Wm),input:function(i,t){return i==null?null:[[t[0][0],+i[0]],[t[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},Fz={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wm),input:function(i){return i==null?null:CI(i)},output:function(i){return i}};function Wm(i){return{type:i}}function bn(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Xm(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function hu(i){let t,e,n;i.length!==2?(t=bn,e=(a,l)=>bn(i(a),l),n=(a,l)=>i(a)-l):(t=i===bn||i===Xm?i:SI,e=i,n=i);function r(a,l,c=0,h=a.length){if(c<h){if(t(l,l)!==0)return h;do{let p=c+h>>>1;e(a[p],l)<0?c=p+1:h=p}while(c<h)}return c}function o(a,l,c=0,h=a.length){if(c<h){if(t(l,l)!==0)return h;do{let p=c+h>>>1;e(a[p],l)<=0?c=p+1:h=p}while(c<h)}return c}function s(a,l,c=0,h=a.length){let p=r(a,l,c,h-1);return p>c&&n(a[p-1],l)>-n(a[p],l)?p-1:p}return{left:r,center:s,right:o}}function SI(){return 0}function yl(i){return i===null?NaN:+i}var Lb=hu(bn),Ib=Lb.right,TI=Lb.left,kI=hu(yl).center,bl=Ib;var Es=class extends Map{constructor(t,e=AI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(let[n,r]of t)this.set(n,r)}get(t){return super.get(Ob(this,t))}has(t){return super.has(Ob(this,t))}set(t,e){return super.set(EI(this,t),e)}delete(t){return super.delete(MI(this,t))}};function Ob({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):e}function EI({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):(i.set(n,e),e)}function MI({_intern:i,_key:t},e){let n=t(e);return i.has(n)&&(e=i.get(n),i.delete(n)),e}function AI(i){return i!==null&&typeof i=="object"?i.valueOf():i}var DI=Math.sqrt(50),LI=Math.sqrt(10),II=Math.sqrt(2);function pu(i,t,e){let n=(t-i)/Math.max(0,e),r=Math.floor(Math.log10(n)),o=n/Math.pow(10,r),s=o>=DI?10:o>=LI?5:o>=II?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/s,a=Math.round(i*c),l=Math.round(t*c),a/c<i&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,a=Math.round(i/c),l=Math.round(t/c),a*c<i&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?pu(i,t,e*2):[a,l,c]}function mu(i,t,e){if(t=+t,i=+i,e=+e,!(e>0))return[];if(i===t)return[i];let n=t<i,[r,o,s]=n?pu(t,i,e):pu(i,t,e);if(!(o>=r))return[];let a=o-r+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(r+c)/-s;else for(let c=0;c<a;++c)l[c]=(r+c)*s;return l}function Cl(i,t,e){return t=+t,i=+i,e=+e,pu(i,t,e)[2]}function Ym(i,t,e){t=+t,i=+i,e=+e;let n=t<i,r=n?Cl(t,i,e):Cl(i,t,e);return(n?-1:1)*(r<0?1/-r:r)}function Qm(i,t,e=yl){if(!(!(n=i.length)||isNaN(t=+t))){if(t<=0||n<2)return+e(i[0],0,i);if(t>=1)return+e(i[n-1],n-1,i);var n,r=(n-1)*t,o=Math.floor(r),s=+e(i[o],o,i),a=+e(i[o+1],o+1,i);return s+(a-s)*(r-o)}}function Ms(i,t,e){i=+i,t=+t,e=(r=arguments.length)<2?(t=i,i=0,1):r<3?1:+e;for(var n=-1,r=Math.max(0,Math.ceil((t-i)/e))|0,o=new Array(r);++n<r;)o[n]=i+n*e;return o}function Tr(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}var Km=Symbol("implicit");function Co(){var i=new Es,t=[],e=[],n=Km;function r(o){let s=i.get(o);if(s===void 0){if(n!==Km)return n;i.set(o,s=t.push(o)-1)}return e[s%e.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],i=new Es;for(let s of o)i.has(s)||i.set(s,t.push(s)-1);return r},r.range=function(o){return arguments.length?(e=Array.from(o),r):e.slice()},r.unknown=function(o){return arguments.length?(n=o,r):n},r.copy=function(){return Co(t,e).unknown(n)},Tr.apply(r,arguments),r}function As(){var i=Co().unknown(void 0),t=i.domain,e=i.range,n=0,r=1,o,s,a=!1,l=0,c=0,h=.5;delete i.unknown;function p(){var f=t().length,v=r<n,x=v?r:n,S=v?n:r;o=(S-x)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),x+=(S-x-o*(f-l))*h,s=o*(1-l),a&&(x=Math.round(x),s=Math.round(s));var T=Ms(f).map(function(P){return x+o*P});return e(v?T.reverse():T)}return i.domain=function(f){return arguments.length?(t(f),p()):t()},i.range=function(f){return arguments.length?([n,r]=f,n=+n,r=+r,p()):[n,r]},i.rangeRound=function(f){return[n,r]=f,n=+n,r=+r,a=!0,p()},i.bandwidth=function(){return s},i.step=function(){return o},i.round=function(f){return arguments.length?(a=!!f,p()):a},i.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),p()):l},i.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),p()):l},i.paddingOuter=function(f){return arguments.length?(c=+f,p()):c},i.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),p()):h},i.copy=function(){return As(t(),[n,r]).round(a).paddingInner(l).paddingOuter(c).align(h)},Tr.apply(p(),arguments)}function Jm(i){return function(){return i}}function Zm(i){return+i}var Fb=[0,1];function Ds(i){return i}function ef(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:Jm(isNaN(t)?NaN:.5)}function FI(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}function NI(i,t,e){var n=i[0],r=i[1],o=t[0],s=t[1];return r<n?(n=ef(r,n),o=e(s,o)):(n=ef(n,r),o=e(o,s)),function(a){return o(n(a))}}function RI(i,t,e){var n=Math.min(i.length,t.length)-1,r=new Array(n),o=new Array(n),s=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++s<n;)r[s]=ef(i[s],i[s+1]),o[s]=e(t[s],t[s+1]);return function(a){var l=bl(i,a,1,n)-1;return o[l](r[l](a))}}function Nb(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function PI(){var i=Fb,t=Fb,e=yo,n,r,o,s=Ds,a,l,c;function h(){var f=Math.min(i.length,t.length);return s!==Ds&&(s=FI(i[0],i[f-1])),a=f>2?RI:NI,l=c=null,p}function p(f){return f==null||isNaN(f=+f)?o:(l||(l=a(i.map(n),t,e)))(n(s(f)))}return p.invert=function(f){return s(r((c||(c=a(t,i.map(n),$t)))(f)))},p.domain=function(f){return arguments.length?(i=Array.from(f,Zm),h()):i.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),e=Hm,h()},p.clamp=function(f){return arguments.length?(s=f?!0:Ds,h()):s!==Ds},p.interpolate=function(f){return arguments.length?(e=f,h()):e},p.unknown=function(f){return arguments.length?(o=f,p):o},function(f,v){return n=f,r=v,h()}}function tf(){return PI()(Ds,Ds)}function Rb(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function wo(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function Cn(i){return i=wo(Math.abs(i)),i?i[1]:NaN}function Pb(i,t){return function(e,n){for(var r=e.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>n));)a=i[s=(s+1)%i.length];return o.reverse().join(t)}}function Vb(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}var VI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kr(i){if(!(t=VI.exec(i)))throw new Error("invalid format: "+i);var t;return new fu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kr.prototype=fu.prototype;function fu(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}fu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bb(i){e:for(var t=i.length,e=1,n=-1,r;e<t;++e)switch(i[e]){case".":n=r=e;break;case"0":n===0&&(n=e),r=e;break;default:if(!+i[e])break e;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(r+1):i}var nf;function zb(i,t){var e=wo(i,t);if(!e)return i+"";var n=e[0],r=e[1],o=r-(nf=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+wo(i,Math.max(0,t+o-1))[0]}function rf(i,t){var e=wo(i,t);if(!e)return i+"";var n=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}var of={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:Rb,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>rf(i*100,t),r:rf,s:zb,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function sf(i){return i}var Hb=Array.prototype.map,jb=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function $b(i){var t=i.grouping===void 0||i.thousands===void 0?sf:Pb(Hb.call(i.grouping,Number),i.thousands+""),e=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",r=i.decimal===void 0?".":i.decimal+"",o=i.numerals===void 0?sf:Vb(Hb.call(i.numerals,String)),s=i.percent===void 0?"%":i.percent+"",a=i.minus===void 0?"\u2212":i.minus+"",l=i.nan===void 0?"NaN":i.nan+"";function c(p){p=kr(p);var f=p.fill,v=p.align,x=p.sign,S=p.symbol,T=p.zero,P=p.width,me=p.comma,te=p.precision,Qe=p.trim,Pe=p.type;Pe==="n"?(me=!0,Pe="g"):of[Pe]||(te===void 0&&(te=12),Qe=!0,Pe="g"),(T||f==="0"&&v==="=")&&(T=!0,f="0",v="=");var Ke=S==="$"?e:S==="#"&&/[boxX]/.test(Pe)?"0"+Pe.toLowerCase():"",Ut=S==="$"?n:/[%p]/.test(Pe)?s:"",vt=of[Pe],Te=/[defgprs%]/.test(Pe);te=te===void 0?6:/[gprs]/.test(Pe)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function xt(de){var Wt=Ke,fe=Ut,Ct,ot,Be;if(Pe==="c")fe=vt(de)+fe,de="";else{de=+de;var Ce=de<0||1/de<0;if(de=isNaN(de)?l:vt(Math.abs(de),te),Qe&&(de=Bb(de)),Ce&&+de==0&&x!=="+"&&(Ce=!1),Wt=(Ce?x==="("?x:a:x==="-"||x==="("?"":x)+Wt,fe=(Pe==="s"?jb[8+nf/3]:"")+fe+(Ce&&x==="("?")":""),Te){for(Ct=-1,ot=de.length;++Ct<ot;)if(Be=de.charCodeAt(Ct),48>Be||Be>57){fe=(Be===46?r+de.slice(Ct+1):de.slice(Ct))+fe,de=de.slice(0,Ct);break}}}me&&!T&&(de=t(de,1/0));var N=Wt.length+de.length+fe.length,z=N<P?new Array(P-N+1).join(f):"";switch(me&&T&&(de=t(z+de,z.length?P-fe.length:1/0),z=""),v){case"<":de=Wt+de+fe+z;break;case"=":de=Wt+z+de+fe;break;case"^":de=z.slice(0,N=z.length>>1)+Wt+de+fe+z.slice(N);break;default:de=z+Wt+de+fe;break}return o(de)}return xt.toString=function(){return p+""},xt}function h(p,f){var v=c((p=kr(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Cn(f)/3)))*3,S=Math.pow(10,-x),T=jb[8+x/3];return function(P){return v(S*P)+T}}return{format:c,formatPrefix:h}}var gu,vu,xu;af({thousands:",",grouping:[3],currency:["$",""]});function af(i){return gu=$b(i),vu=gu.format,xu=gu.formatPrefix,gu}function lf(i){return Math.max(0,-Cn(Math.abs(i)))}function cf(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cn(t)/3)))*3-Cn(Math.abs(i)))}function df(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Cn(t)-Cn(i))+1}function uf(i,t,e,n){var r=Ym(i,t,e),o;switch(n=kr(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(i),Math.abs(t));return n.precision==null&&!isNaN(o=cf(r,s))&&(n.precision=o),xu(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=df(r,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=lf(r))&&(n.precision=o-(n.type==="%")*2);break}}return vu(n)}function BI(i){var t=i.domain;return i.ticks=function(e){var n=t();return mu(n[0],n[n.length-1],e??10)},i.tickFormat=function(e,n){var r=t();return uf(r[0],r[r.length-1],e??10,n)},i.nice=function(e){e==null&&(e=10);var n=t(),r=0,o=n.length-1,s=n[r],a=n[o],l,c,h=10;for(a<s&&(c=s,s=a,a=c,c=r,r=o,o=c);h-- >0;){if(c=Cl(s,a,e),c===l)return n[r]=s,n[o]=a,t(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return i},i}function Er(){var i=tf();return i.copy=function(){return Nb(i,Er())},Tr.apply(i,arguments),BI(i)}function wl(){var i=[],t=[],e=[],n;function r(){var s=0,a=Math.max(1,t.length);for(e=new Array(a-1);++s<a;)e[s-1]=Qm(i,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[bl(e,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?e[a-1]:i[0],a<e.length?e[a]:i[i.length-1]]},o.domain=function(s){if(!arguments.length)return i.slice();i=[];for(let a of s)a!=null&&!isNaN(a=+a)&&i.push(a);return i.sort(bn),r()},o.range=function(s){return arguments.length?(t=Array.from(s),r()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return e.slice()},o.copy=function(){return wl().domain(i).range(t).unknown(n)},Tr.apply(o,arguments)}var qI=["caretElm"],UI=i=>({model:i});function WI(i,t){}function XI(i,t){if(i&1&&(d(0,"span"),L(1,WI,0,0,"ng-template",5),u()),i&2){let e=C();g(),y("ngTemplateOutlet",e.template)("ngTemplateOutletContext",oi(2,UI,e.context))}}function YI(i,t){if(i&1&&_(0,"span",6),i&2){let e=C();y("innerHTML",e.title,tr)}}function QI(i,t){if(i&1&&(d(0,"header",4)(1,"span",5),m(2),u()()),i&2){let e=C();g(2),oe(e.title)}}function KI(i,t){if(i&1){let e=J();d(0,"li",6)(1,"ngx-charts-legend-entry",7),I("select",function(r){V(e);let o=C();return B(o.labelClick.emit(r))})("activate",function(r){V(e);let o=C();return B(o.activate(r))})("deactivate",function(r){V(e);let o=C();return B(o.deactivate(r))}),u()()}if(i&2){let e=t.$implicit,n=C();g(),y("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}var JI=["*"];function ZI(i,t){if(i&1&&_(0,"ngx-charts-scale-legend",4),i&2){let e=C();y("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function eO(i,t){if(i&1){let e=J();d(0,"ngx-charts-legend",5),I("labelClick",function(r){V(e);let o=C();return B(o.legendLabelClick.emit(r))})("labelActivate",function(r){V(e);let o=C();return B(o.legendLabelActivate.emit(r))})("labelDeactivate",function(r){V(e);let o=C();return B(o.legendLabelDeactivate.emit(r))}),u()}if(i&2){let e=C();y("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}var tO=["ngx-charts-axis-label",""],Zb=["ticksel"],iO=["ngx-charts-x-axis-ticks",""];function nO(i,t){i&1&&(he(),Xl(0))}function rO(i,t){if(i&1&&(he(),d(0,"tspan",10),m(1),u()),i&2){let e=t.$implicit,n=t.index;Ve("y",n*12),g(),U(" ",e," ")}}function oO(i,t){if(i&1&&(he(),et(0),L(1,rO,2,2,"tspan",9),tt()),i&2){let e=t.ngIf;g(),y("ngForOf",e)}}function sO(i,t){if(i&1&&L(0,oO,2,1,"ng-container",6),i&2){let e=C(2).$implicit,n=C();y("ngIf",n.tickChunks(e))}}function aO(i,t){if(i&1&&m(0),i&2){let e=C().ngIf,n=C(2);U(" ",n.tickTrim(e)," ")}}function lO(i,t){if(i&1&&(he(),et(0),d(1,"title"),m(2),u(),d(3,"text",7),L(4,nO,1,0,"ng-container",8),u(),L(5,sO,1,1,"ng-template",null,1,nr)(7,aO,1,1,"ng-template",null,2,nr),tt()),i&2){let e=t.ngIf,n=sn(6),r=sn(8),o=C(2);g(2),oe(e),g(),Ve("text-anchor",o.textAnchor)("transform",o.textTransform),g(),y("ngIf",o.isWrapTicksSupported)("ngIfThen",n)("ngIfElse",r)}}function cO(i,t){if(i&1&&(he(),d(0,"g",5),L(1,lO,9,6,"ng-container",6),u()),i&2){let e=t.$implicit,n=C();Ve("transform",n.tickTransform(e)),g(),y("ngIf",n.tickFormat(e))}}function dO(i,t){if(i&1&&(he(),d(0,"g"),_(1,"line",11),u()),i&2){let e=C(2);Ve("transform",e.gridLineTransform()),g(),Ve("y1",-e.gridLineHeight)}}function uO(i,t){if(i&1&&(he(),d(0,"g"),L(1,dO,2,2,"g",6),u()),i&2){let e=t.$implicit,n=C();Ve("transform",n.tickTransform(e)),g(),y("ngIf",n.showGridLines)}}var hO=["ngx-charts-x-axis",""];function pO(i,t){if(i&1){let e=J();he(),d(0,"g",2),I("dimensionsChanged",function(r){V(e);let o=C();return B(o.emitTicksHeight(r))}),u()}if(i&2){let e=C();y("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function mO(i,t){if(i&1&&(he(),_(0,"g",3)),i&2){let e=C();y("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}var fO=["ngx-charts-y-axis-ticks",""];function gO(i,t){i&1&&(he(),Xl(0))}function vO(i,t){if(i&1&&(he(),d(0,"tspan",12),m(1),u()),i&2){let e=t.$implicit,n=t.index,r=C(6);Ve("y",n*(8+r.tickSpacing)),g(),U(" ",e," ")}}function xO(i,t){if(i&1&&(he(),et(0),L(1,vO,2,2,"tspan",11),tt()),i&2){let e=C().ngIf;g(),y("ngForOf",e)}}function _O(i,t){if(i&1&&(he(),et(0),L(1,xO,2,1,"ng-container",10),tt()),i&2){let e=t.ngIf;C(2);let n=sn(8);g(),y("ngIf",e.length>1)("ngIfElse",n)}}function yO(i,t){if(i&1&&L(0,_O,2,2,"ng-container",7),i&2){let e=C(2).$implicit,n=C();y("ngIf",n.tickChunks(e))}}function bO(i,t){if(i&1&&m(0),i&2){let e=C().ngIf,n=C(2);U(" ",n.tickTrim(e)," ")}}function CO(i,t){if(i&1&&(he(),et(0),d(1,"title"),m(2),u(),d(3,"text",8),L(4,gO,1,0,"ng-container",9),u(),L(5,yO,1,1,"ng-template",null,1,nr)(7,bO,1,1,"ng-template",null,2,nr),tt()),i&2){let e=t.ngIf,n=sn(6),r=sn(8),o=C(2);g(2),oe(e),g(),on("font-size","12px"),Ve("dy",o.dy)("x",o.x1)("y",o.y1)("text-anchor",o.textAnchor),g(),y("ngIf",o.wrapTicks)("ngIfThen",n)("ngIfElse",r)}}function wO(i,t){if(i&1&&(he(),d(0,"g",6),L(1,CO,9,10,"ng-container",7),u()),i&2){let e=t.$implicit,n=C();Ve("transform",n.transform(e)),g(),y("ngIf",n.tickFormat(e))}}function SO(i,t){if(i&1&&(he(),_(0,"path",13)),i&2){let e=C();Ve("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function TO(i,t){if(i&1&&(he(),_(0,"line",15)),i&2){let e=C(3);Ve("x2",e.gridLineWidth)}}function kO(i,t){if(i&1&&(he(),_(0,"line",15)),i&2){let e=C(3);Ve("x2",-e.gridLineWidth)}}function EO(i,t){if(i&1&&(he(),d(0,"g"),L(1,TO,1,1,"line",14)(2,kO,1,1,"line",14),u()),i&2){let e=C(2);Ve("transform",e.gridLineTransform()),g(),y("ngIf",e.orient===e.Orientation.Left),g(),y("ngIf",e.orient===e.Orientation.Right)}}function MO(i,t){if(i&1&&(he(),d(0,"g"),L(1,EO,3,3,"g",7),u()),i&2){let e=t.$implicit,n=C();Ve("transform",n.transform(e)),g(),y("ngIf",n.showGridLines)}}function AO(i,t){if(i&1&&(he(),d(0,"g")(1,"title"),m(2),u(),d(3,"text",17),m(4),u()()),i&2){let e=C(2).$implicit,n=C();g(2),oe(n.tickTrim(n.tickFormat(e.value))),g(),Ve("dy",n.dy)("y",-6)("x",n.gridLineWidth)("text-anchor",n.textAnchor),g(),U(" ",e.name," ")}}function DO(i,t){if(i&1&&(he(),d(0,"g"),_(1,"line",16),L(2,AO,5,6,"g",7),u()),i&2){let e=C().$implicit,n=C();Ve("transform",n.transform(e.value)),g(),Ve("x2",n.gridLineWidth)("transform",n.gridLineTransform()),g(),y("ngIf",n.showRefLabels)}}function LO(i,t){if(i&1&&(he(),d(0,"g"),L(1,DO,3,4,"g",7),u()),i&2){let e=C();g(),y("ngIf",e.showRefLines)}}var IO=["ngx-charts-y-axis",""];function OO(i,t){if(i&1){let e=J();he(),d(0,"g",2),I("dimensionsChanged",function(r){V(e);let o=C();return B(o.emitTicksWidth(r))}),u()}if(i&2){let e=C();y("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function FO(i,t){if(i&1&&(he(),_(0,"g",3)),i&2){let e=C();y("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}var NO=["ngx-charts-svg-linear-gradient",""];function RO(i,t){if(i&1&&(he(),_(0,"stop")),i&2){let e=t.$implicit;on("stop-color",e.color)("stop-opacity",e.opacity),Ve("offset",e.offset+"%")}}var PO=["tooltipTemplate"];var VO=(i,t)=>[i,t];var BO=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var zO=["ngx-charts-bar",""];function HO(i,t){if(i&1&&(he(),d(0,"defs"),_(1,"g",2),u()),i&2){let e=C();g(),y("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}var jO=["ngx-charts-bar-label",""];var $O=["ngx-charts-series-vertical",""];function GO(i,t){if(i&1){let e=J();he(),d(0,"g",2),I("select",function(r){V(e);let o=C(2);return B(o.onClick(r))})("activate",function(r){V(e);let o=C(2);return B(o.activate.emit(r))})("deactivate",function(r){V(e);let o=C(2);return B(o.deactivate.emit(r))}),u()}if(i&2){let e=t.$implicit,n=C(2);y("@animationState","active")("@.disabled",!n.animations)("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",n.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function qO(i,t){if(i&1&&(he(),d(0,"g"),L(1,GO,1,22,"g",1),u()),i&2){let e=C();g(),y("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function UO(i,t){if(i&1){let e=J();he(),d(0,"g",2),I("select",function(r){V(e);let o=C(2);return B(o.onClick(r))})("activate",function(r){V(e);let o=C(2);return B(o.activate.emit(r))})("deactivate",function(r){V(e);let o=C(2);return B(o.deactivate.emit(r))}),u()}if(i&2){let e=t.$implicit,n=C(2);y("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",n.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function WO(i,t){if(i&1&&(he(),d(0,"g"),L(1,UO,1,20,"g",1),u()),i&2){let e=C();g(),y("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function XO(i,t){if(i&1){let e=J();he(),d(0,"g",4),I("dimensionsChanged",function(r){let o=V(e).index,s=C(2);return B(s.dataLabelHeightChanged.emit({size:r,index:o}))}),u()}if(i&2){let e=t.$implicit,n=C(2);y("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation",n.barOrientation.Vertical)}}function YO(i,t){if(i&1&&(he(),d(0,"g"),L(1,XO,1,7,"g",3),u()),i&2){let e=C();g(),y("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function QO(i,t){if(i&1){let e=J();he(),d(0,"g",5),I("dimensionsChanged",function(r){V(e);let o=C();return B(o.updateXAxisHeight(r))}),u()}if(i&2){let e=C();y("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)("wrapTicks",e.wrapTicks)}}function KO(i,t){if(i&1){let e=J();he(),d(0,"g",6),I("dimensionsChanged",function(r){V(e);let o=C();return B(o.updateYAxisWidth(r))}),u()}if(i&2){let e=C();y("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("wrapTicks",e.wrapTicks)}}function JO(i,t,e){e=e||{};let n,r,o,s=null,a=0;function l(){a=e.leading===!1?0:+new Date,s=null,o=i.apply(n,r)}return function(){let c=+new Date;!a&&e.leading===!1&&(a=c);let h=t-(c-a);return n=this,r=arguments,h<=0?(clearTimeout(s),s=null,a=c,o=i.apply(n,r)):!s&&e.trailing!==!1&&(s=setTimeout(l,h)),o}}function ZO(i,t){return function(n,r,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:o.enumerable,value:JO(o.value,i,t)}),this[r]}}}}var De=function(i){return i.Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",i.Center="center",i}(De||{}),Dr=7;function Gb(i,t,e){if(e===De.Top)return i.top-Dr;if(e===De.Bottom)return i.top+i.height-t.height+Dr;if(e===De.Center)return i.top+i.height/2-t.height/2}function qb(i,t,e){if(e===De.Left)return i.left-Dr;if(e===De.Right)return i.left+i.width-t.width+Dr;if(e===De.Center)return i.left+i.width/2-t.width/2}var Tl=class i{static calculateVerticalAlignment(t,e,n){let r=Gb(t,e,n);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,n,r){let o;r===De.Top&&(o=t.height/2-n.height/2+Dr),r===De.Bottom&&(o=e.height-t.height/2-n.height/2-Dr),r===De.Center&&(o=e.height/2-n.height/2);let s=Gb(t,e,r);return s+e.height>window.innerHeight&&(o+=s+e.height-window.innerHeight),o}static calculateHorizontalAlignment(t,e,n){let r=qb(t,e,n);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,n,r){let o;r===De.Left&&(o=t.width/2-n.width/2+Dr),r===De.Right&&(o=e.width-t.width/2-n.width/2-Dr),r===De.Center&&(o=e.width/2-n.width/2);let s=qb(t,e,r);return s+e.width>window.innerWidth&&(o+=s+e.width-window.innerWidth),o}static shouldFlip(t,e,n,r){let o=!1;return n===De.Right&&t.left+t.width+e.width+r>window.innerWidth&&(o=!0),n===De.Left&&t.left-e.width-r<0&&(o=!0),n===De.Top&&t.top-e.height-r<0&&(o=!0),n===De.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(o=!0),o}static positionCaret(t,e,n,r,o){let s=0,a=0;return t===De.Right?(a=-7,s=i.calculateVerticalCaret(n,e,r,o)):t===De.Left?(a=e.width,s=i.calculateVerticalCaret(n,e,r,o)):t===De.Top?(s=e.height,a=i.calculateHorizontalCaret(n,e,r,o)):t===De.Bottom&&(s=-7,a=i.calculateHorizontalCaret(n,e,r,o)),{top:s,left:a}}static positionContent(t,e,n,r,o){let s=0,a=0;return t===De.Right?(a=n.left+n.width+r,s=i.calculateVerticalAlignment(n,e,o)):t===De.Left?(a=n.left-e.width-r,s=i.calculateVerticalAlignment(n,e,o)):t===De.Top?(s=n.top-e.height-r,a=i.calculateHorizontalAlignment(n,e,o)):t===De.Bottom&&(s=n.top+n.height+r,a=i.calculateHorizontalAlignment(n,e,o)),{top:s,left:a}}static determinePlacement(t,e,n,r){if(i.shouldFlip(n,e,t,r)){if(t===De.Right)return De.Left;if(t===De.Left)return De.Right;if(t===De.Top)return De.Bottom;if(t===De.Bottom)return De.Top}return t}},e4=(()=>{class i{get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}constructor(e,n,r){this.element=e,this.renderer=n,this.platformId=r}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Br(this.platformId))return;let e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;let r=e.getBoundingClientRect();this.checkFlip(n,r),this.positionContent(e,n,r),this.showCaret&&this.positionCaret(n,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,n,r){let{top:o,left:s}=Tl.positionContent(this.placement,r,n,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${o}px`),this.renderer.setStyle(e,"left",`${s}px`)}positionCaret(e,n){let r=this.caretElm.nativeElement,o=r.getBoundingClientRect(),{top:s,left:a}=Tl.positionCaret(this.placement,n,e,o,this.alignment);this.renderer.setStyle(r,"top",`${s}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,n){this.placement=Tl.determinePlacement(this.placement,n,e,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(n){return new(n||i)(M(_t),M(vi),M(ni))}}static{this.\u0275cmp=H({type:i,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,r){if(n&1&&Mn(qI,5),n&2){let o;Wi(o=Xi())&&(r.caretElm=o.first)}},hostVars:2,hostBindings:function(n,r){n&1&&I("resize",function(){return r.onWindowResize()},!1,ng),n&2&&Ws(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,r){n&1&&(d(0,"div"),_(1,"span",1,0),d(3,"div",2),L(4,XI,2,4,"span",3)(5,YI,1,1,"span",4),u()()),n&2&&(g(),Bo("tooltip-caret position-",r.placement,""),y("hidden",!r.showCaret),g(3),y("ngIf",!r.title),g(),y("ngIf",r.title))},dependencies:[ge,yg],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return Lf([ZO(100)],i.prototype,"onWindowResize",null),i})(),hf=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);let n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){let e=this.components.get(t.componentType);if(e&&e.length){let n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let e=this.components.get(t);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){let e=R({},this.defaults.inputs),n=R({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs=R(R({},e),t.inputs)),n&&(t.outputs=R(R({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}};function t4(i){return i.element}var eC=(()=>{class i{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(e){i.globalRootViewContainer=e}constructor(e,n,r){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=r}getRootViewContainer(){if(this._container)return this._container;if(i.globalRootViewContainer)return i.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return t4(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(n.inputs!==void 0){let r=Object.getOwnPropertyNames(n.inputs);for(let o of r)e.instance[o]=n.inputs[o]}if(n.outputs!==void 0){let r=Object.getOwnPropertyNames(n.outputs);for(let o of r)e.instance[o]=n.outputs[o]}}return e}appendComponent(e,n={},r){r||(r=this.getRootViewContainer());let o=this.getComponentRootNode(r),s=new zd(o,this.componentFactoryResolver,this.applicationRef,this.injector),a=new nl(e),l=s.attach(a);return this.projectComponentBindings(l,n),l}static{this.\u0275fac=function(n){return new(n||i)(re(rn),re(rg),re(Yt))}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac})}}return i})(),ff=(()=>{class i extends hf{constructor(e){super(e),this.type=e4}static{this.\u0275fac=function(n){return new(n||i)(re(eC))}}static{this.\u0275prov=ne({token:i,factory:i.\u0275fac})}}return i})(),So=function(i){return i.Right="right",i.Below="below",i}(So||{}),Sl=function(i){return i.ScaleLegend="scaleLegend",i.Legend="legend",i}(Sl||{}),Ye=function(i){return i.Time="time",i.Linear="linear",i.Ordinal="ordinal",i.Quantile="quantile",i}(Ye||{});function gf(i){return i instanceof Date?i=i.toLocaleDateString():i=i.toLocaleString(),i}function i4(i){return i.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var n4=(()=>{class i{constructor(){this.isActive=!1,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.toggle=new ae}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,r){n&1&&I("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,r){n&1&&(d(0,"span",0),I("click",function(){return r.select.emit(r.formattedLabel)}),d(1,"span",1),I("click",function(){return r.toggle.emit(r.formattedLabel)}),u(),d(2,"span",2),m(3),u()()),n&2&&(En("active",r.isActive),y("title",r.formattedLabel),g(),on("background-color",r.color),g(2),U(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return i})(),r4=(()=>{class i{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new ae,this.labelActivate=new ae,this.labelDeactivate=new ae,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let e=[];for(let n of this.data){let r=gf(n);e.findIndex(s=>s.label===r)===-1&&e.push({label:n,formattedLabel:r,color:this.colors.getColor(n)})}return e}isActive(e){return this.activeEntries?this.activeEntries.find(r=>e.label===r.name)!==void 0:!1}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,n){return n.label}static{this.\u0275fac=function(n){return new(n||i)(M(ln))}}static{this.\u0275cmp=H({type:i,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[Ze],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,r){n&1&&(d(0,"div"),L(1,QI,3,1,"header",0),d(2,"div",1)(3,"ul",2),L(4,KI,2,4,"li",3),u()()()),n&2&&(on("width",r.width,"px"),g(),y("ngIf",(r.title==null?null:r.title.length)>0),g(2),on("max-height",r.height-45,"px"),En("horizontal-legend",r.horizontal),g(),y("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[nt,ge,n4],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return i})(),o4=(()=>{class i{constructor(){this.horizontal=!1}ngOnChanges(e){let n=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${n})`}gradientString(e,n){n.push(1);let r=[];return e.reverse().forEach((o,s)=>{r.push(`${o} ${Math.round(n[s]*100)}%`)}),r.join(", ")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[Ze],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"span"),m(3),u()(),_(4,"div",2),d(5,"div",1)(6,"span"),m(7),u()()()),n&2&&(on("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),En("horizontal-legend",r.horizontal),g(3),oe(r.valueRange[1].toLocaleString()),g(),on("background",r.gradient),g(3),oe(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return i})(),s4=(()=>{class i{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ae,this.legendLabelActivate=new ae,this.legendLabelDeactivate=new ae,this.LegendPosition=So,this.LegendType=Sl}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===So.Right)&&(this.legendType===Sl.ScaleLegend?e=1:e=2));let n=12-e;this.chartWidth=Math.floor(this.view[0]*n/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===So.Right?Math.floor(this.view[0]*e/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===Ye.Linear?Sl.ScaleLegend:Sl.Legend}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[ri([ff]),Ze],ngContentSelectors:JI,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,r){n&1&&(Xs(),d(0,"div",0),he(),d(1,"svg",1),Nr(2),u(),L(3,ZI,1,5,"ngx-charts-scale-legend",2)(4,eO,1,7,"ngx-charts-legend",3),u()),n&2&&(on("width",r.view[0],"px")("height",r.view[1],"px"),g(),Ve("width",r.chartWidth)("height",r.view[1]),g(2),y("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),g(),y("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[ge,r4,o4],encapsulation:2,changeDetection:0})}}return i})(),a4=(()=>{class i{constructor(e,n){this.element=e,this.zone=n,this.visible=new ae,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:r}=this.element.nativeElement;n&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}static{this.\u0275fac=function(n){return new(n||i)(M(_t),M(lt))}}static{this.\u0275dir=Je({type:i,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}}return i})();function Ub(i){return toString.call(i)==="[object Date]"}var l4=(()=>{class i{constructor(e,n,r,o){this.chartElement=e,this.zone=n,this.cd=r,this.platformId=o,this.scheme="cool",this.schemeType=Ye.Ordinal,this.animations=!0,this.select=new ae}ngOnInit(){rr(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new a4(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,n,r=this.chartElement.nativeElement;if(Br(this.platformId)&&r.parentNode!==null){let o=r.parentNode.getBoundingClientRect();e=o.width,n=o.height}return e&&n?{width:e,height:n}:null}formatDates(){for(let e=0;e<this.results.length;e++){let n=this.results[e];if(n.label=n.name,Ub(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let r=0;r<n.series.length;r++){let o=n.series[r];o.label=o.name,Ub(o.label)&&(o.label=o.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Br(this.platformId))return;let n=Si(window,"resize").pipe(Bs(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(e){let n=[];for(let r of e){let o={};if(r.name!==void 0&&(o.name=r.name),r.value!==void 0&&(o.value=r.value),r.series!==void 0){o.series=[];for(let s of r.series){let a=Object.assign({},s);o.series.push(a)}}r.extra!==void 0&&(o.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(o.source=r.source),r.target!==void 0&&(o.target=r.target),n.push(o)}return n}static{this.\u0275fac=function(n){return new(n||i)(M(_t),M(lt),M(ln),M(ni))}}static{this.\u0275cmp=H({type:i,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[Ze],decls:1,vars:0,template:function(n,r){n&1&&_(0,"div")},encapsulation:2})}}return i})(),qt=function(i){return i.Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",i}(qt||{}),tC=(()=>{class i{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case qt.Top:this.y=this.offset,this.x=this.width/2;break;case qt.Bottom:this.y=this.offset,this.x=this.width/2;break;case qt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case qt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}static{this.\u0275fac=function(n){return new(n||i)(M(_t))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[Ze],attrs:tO,decls:2,vars:6,template:function(n,r){n&1&&(he(),d(0,"text"),m(1),u()),n&2&&(Ve("stroke-width",r.strokeWidth)("x",r.x)("y",r.y)("text-anchor",r.textAnchor)("transform",r.transform),g(),U(" ",r.label," "))},encapsulation:2,changeDetection:0})}}return i})();function iC(i,t=16){return typeof i!="string"?typeof i=="number"?i+"":"":(i=i.trim(),i.length<=t?i:`${i.slice(0,t)}...`)}function nC(i,t){if(i.length>t){let e=[],n=Math.floor(i.length/t);for(let r=0;r<i.length;r++)r%n===0&&e.push(i[r]);i=e}return i}function rC(i,t,e){let n=(i||"").toString(),r=[];if(/\s/.test(n))r=n.split(/\s+/).reduce((o,s)=>{let a=(o.pop()||"")+" ";return a.length+s.length>t?[...o,a.trim(),s.trim()]:[...o,a+s]},[]);else{let o=0;for(;o<n.length;)r.push(n.substring(o,o+t)),o+=t}return r.length>e&&(r=r.splice(0,e),r[r.length-1]+="..."),r}var Wn=function(i){return i.Start="start",i.Middle="middle",i.End="end",i}(Wn||{}),Wb=(()=>{class i{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Wn.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Br(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let e=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",n&&n!==0?(this.textTransform=`rotate(${n})`,this.textAnchor=Wn.End,this.verticalSpacing=10):this.textAnchor=Wn.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let n=0;this.maxTicksLength=0;for(let p=0;p<e.length;p++){let f=this.tickFormat(e[p]).toString(),v=f.length;this.trimTicks&&(v=this.tickTrim(f).length),v>this.maxTicksLength&&(this.maxTicksLength=v)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),o=7,s=r*o,a=s,l=Math.floor(this.width/e.length);for(;a>l&&n>-90;)n-=30,a=Math.cos(n*(Math.PI/180))*s;let c=14;if(this.isWrapTicksSupported){let p=this.ticks.reduce((v,x)=>x.length>v.length?x:v,"");c=14*(this.tickChunks(p).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(p)}let h=n!==0?Math.max(Math.abs(Math.sin(n*Math.PI/180))*this.maxTickLength*o,10):c;return this.approxHeight=Math.min(h,200),n}getTicks(){let e,n=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=nC(e,n)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?iC(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),o=e.slice(0,r);return Math.max(o.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(e)];let o=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Br(this.platformId)||(o=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),rC(e,o,r<1?1:r)}return[this.tickTrim(e)]}static{this.\u0275fac=function(n){return new(n||i)(M(ni))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&Mn(Zb,5),n&2){let o;Wi(o=Xi())&&(r.ticksElement=o.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ze],attrs:iO,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,r){n&1&&(he(),d(0,"g",null,0),L(2,cO,2,2,"g",3),u(),L(3,uO,2,2,"g",4)),n&2&&(g(2),y("ngForOf",r.ticks),g(),y("ngForOf",r.ticks))},dependencies:[nt,ge],encapsulation:2,changeDetection:0})}}return i})(),c4=(()=>{class i{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=qt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=qt}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){let n=e+25+5;n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,r){if(n&1&&Mn(Wb,5),n&2){let o;Wi(o=Xi())&&(r.ticksComponent=o.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ze],attrs:hO,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(he(),d(0,"g"),L(1,pO,1,13,"g",0)(2,mO,1,5,"g",1),u()),n&2&&(Ve("class",r.xAxisClassName)("transform",r.transform),g(),y("ngIf",r.xScale),g(),y("ngIf",r.showLabel))},dependencies:[ge,tC,Wb],encapsulation:2,changeDetection:0})}}return i})();function Mr(i,t,e,n,r,[o,s,a,l]){let c="";return e=Math.floor(e),n=Math.floor(n),e=e===0?1:e,n=n===0?1:n,c=`M${[i+r,t]}`,c+=`h${e-2*r}`,s?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${n-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-e}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-n}`,o?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var Xb=(()=>{class i{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Wn.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=qt}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Br(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e=this.scale,n=this.orient===qt.Top||this.orient===qt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=e.bandwidth?r=>{let o=e(r)+e.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let s=this.tickChunks(r).length;if(s===1)return o;let a=e.bandwidth(),l=s*8,c=a*.5-l*.5;return e(r)+c}return o}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case qt.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Wn.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case qt.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Wn.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case qt.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Wn.End,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case qt.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Wn.Start,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Mr(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e,n=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=nC(e,n)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?iC(e,this.maxTickLength):e}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let n=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(e)]:rC(e,n,Math.min(r,5))}return[this.tickFormat(e)]}static{this.\u0275fac=function(n){return new(n||i)(M(ni))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&Mn(Zb,5),n&2){let o;Wi(o=Xi())&&(r.ticksElement=o.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ze],attrs:fO,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,r){n&1&&(he(),d(0,"g",null,0),L(2,wO,2,2,"g",3),u(),L(3,SO,1,2,"path",4)(4,MO,2,2,"g",5)(5,LO,2,1,"g",5)),n&2&&(g(2),y("ngForOf",r.ticks),g(),y("ngIf",r.referenceLineLength>1&&r.refMax&&r.refMin&&r.showRefLines),g(),y("ngForOf",r.ticks),g(),y("ngForOf",r.referenceLines))},dependencies:[nt,ge],encapsulation:2,changeDetection:0})}}return i})(),d4=(()=>{class i{constructor(){this.showGridLines=!1,this.yOrient=qt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===qt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===qt.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,r){if(n&1&&Mn(Xb,5),n&2){let o;Wi(o=Xi())&&(r.ticksComponent=o.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ze],attrs:IO,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(he(),d(0,"g"),L(1,OO,1,15,"g",0)(2,FO,1,5,"g",1),u()),n&2&&(Ve("class",r.yAxisClassName)("transform",r.transform),g(),y("ngIf",r.yScale),g(),y("ngIf",r.showLabel))},dependencies:[ge,tC,Xb],encapsulation:2,changeDetection:0})}}return i})(),Yb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[se]})}}return i})(),vf=function(i){return i.popover="popover",i.tooltip="tooltip",i}(vf||{}),Ls=function(i){return i[i.all="all"]="all",i[i.focus="focus"]="focus",i[i.mouseover="mouseover"]="mouseover",i}(Ls||{}),u4=(()=>{class i{get listensForFocus(){return this.tooltipShowEvent===Ls.all||this.tooltipShowEvent===Ls.focus}get listensForHover(){return this.tooltipShowEvent===Ls.all||this.tooltipShowEvent===Ls.mouseover}constructor(e,n,r){this.tooltipService=e,this.viewContainerRef=n,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=De.Top,this.tooltipAlignment=De.Center,this.tooltipType=vf.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Ls.all,this.tooltipImmediateExit=!1,this.show=new ae,this.hide=new ae}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;let n=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{e.contains(n.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;let n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(n){return new(n||i)(M(ff),M(qs),M(vi))}}static{this.\u0275dir=Je({type:i,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,r){n&1&&I("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(s){return r.onMouseLeave(s.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1})}}return i})(),Qb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({providers:[eC,ff],imports:[se]})}}return i})(),Kb={};function oC(){let i=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return i=`a${i}`,Kb[i]?oC():(Kb[i]=!0,i)}var hi=function(i){return i.Vertical="vertical",i.Horizontal="horizontal",i}(hi||{});var h4=(()=>{class i{constructor(){this.orientation=hi.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===hi.Horizontal?this.x2="100%":this.orientation===hi.Vertical&&(this.y1="100%")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[Ze],attrs:NO,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(he(),d(0,"linearGradient",0),L(1,RO,1,5,"stop",1),u()),n&2&&(y("id",r.name),Ve("x1",r.x1)("y1",r.y1)("x2",r.x2)("y2",r.y2),g(),y("ngForOf",r.stops))},dependencies:[nt],encapsulation:2,changeDetection:0})}}return i})();var pf;typeof window<"u"?pf=window:typeof global<"u"&&(pf=global);var x$=pf.MouseEvent;var Fi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[se,Yb,Qb,se,Yb,Qb]})}}return i})();function p4({width:i,height:t,margins:e,showXAxis:n=!1,showYAxis:r=!1,xAxisHeight:o=0,yAxisWidth:s=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:h=Ye.Ordinal,legendPosition:p=So.Right,columns:f=12}){let v=e[3],x=i,S=t-e[0]-e[2];return c&&p===So.Right&&(h===Ye.Ordinal?f-=2:f-=1),x=x*f/12,x=x-e[1]-e[3],n&&(S-=5,S-=o,a&&(S-=30)),r&&(x-=5,x-=s,v+=s,v+=10,l&&(x-=30,v+=30)),x=Math.max(0,x),S=Math.max(0,S),{width:Math.floor(x),height:Math.floor(S),xOffset:Math.floor(v)}}var Jb=[{name:"vivid",selectable:!0,group:Ye.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:Ye.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:Ye.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:Ye.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:Ye.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:Ye.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:Ye.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:Ye.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:Ye.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:Ye.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:Ye.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:Ye.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:Ye.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:Ye.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:Ye.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],mf=class{constructor(t,e,n,r){typeof t=="string"&&(t=Jb.find(o=>o.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){typeof t=="string"&&(t=Jb.find(o=>o.name===t));let r;switch(e){case Ye.Quantile:r=wl().range(t.domain).domain(n);break;case Ye.Ordinal:r=Co().range(t.domain).domain(n);break;case Ye.Linear:{let o=[...t.domain];o.length===1&&(o.push(o[0]),this.colorDomain=o);let s=Ms(0,1,1/o.length);r=Er().range(o).domain(s)}break;default:break}return r}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===Ye.Linear){let e=Er().domain(this.domain).range([0,1]);return this.scale(e(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let e=t.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(r=>r.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){e===void 0&&(e=this.domain[0]);let n=Er().domain(this.domain).range([0,1]),r=As().domain(this.colorDomain).range([0,1]),o=this.getColor(t),s=n(e),a=this.getColor(e),l=n(t),c=1,h=s,p=[];for(p.push({color:a,offset:s,originalOffset:s,opacity:1});h<l&&c<this.colorDomain.length;){let f=this.colorDomain[c],v=r(f);if(v<=s){c++;continue}if(v.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;p.push({color:f,offset:v,opacity:1}),h=v,c++}if(p[p.length-1].offset<100&&p.push({color:o,offset:l,opacity:1}),l===s)p[0].offset=0,p[1].offset=100;else if(p[p.length-1].offset!==100)for(let f of p)f.offset=(f.offset-s)/(l-s)*100;return p}};var m4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})(),f4=(()=>{class i{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+oC().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let e=Fm(this.element).select(".bar"),n=this.getPath();this.animations?e.transition().duration(500).attr("d",n):e.attr("d",n)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let e=this.getRadius(),n;return this.roundEdges?this.orientation===hi.Vertical?(e=Math.min(this.height,e),n=Mr(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===hi.Horizontal&&(e=Math.min(this.width,e),n=Mr(this.x,this.y,1,this.height,0,this.edges)):this.orientation===hi.Vertical?n=Mr(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===hi.Horizontal&&(n=Mr(this.x,this.y,1,this.height,0,this.edges)),n}getPath(){let e=this.getRadius(),n;return this.roundEdges?this.orientation===hi.Vertical?(e=Math.min(this.height,e),n=Mr(this.x,this.y,this.width,this.height,e,this.edges)):this.orientation===hi.Horizontal&&(e=Math.min(this.width,e),n=Mr(this.x,this.y,this.width,this.height,e,this.edges)):n=Mr(this.x,this.y,this.width,this.height,e,this.edges),n}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===hi.Vertical?this.data.value>0?e=[!0,!0,!1,!1]:e=[!1,!1,!0,!0]:this.orientation===hi.Horizontal&&(this.data.value>0?e=[!1,!0,!1,!0]:e=[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===hi.Vertical&&this.height===0||this.orientation===hi.Horizontal&&this.width===0)}static{this.\u0275fac=function(n){return new(n||i)(M(_t))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(n,r){n&1&&I("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Ze],attrs:zO,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,r){n&1&&(L(0,HO,2,3,"defs",0),he(),d(1,"path",1),I("click",function(){return r.select.emit(r.data)}),u()),n&2&&(y("ngIf",r.hasGradient),g(),En("active",r.isActive)("hidden",r.hideBar),Ve("d",r.path)("aria-label",r.ariaLabel)("fill",r.hasGradient?r.gradientFill:r.fill))},dependencies:[ge,h4],encapsulation:2,changeDetection:0})}}return i})(),Ar=function(i){return i.Standard="standard",i.Normalized="normalized",i.Stacked="stacked",i}(Ar||{}),Is=function(i){return i.positive="positive",i.negative="negative",i}(Is||{}),g4=(()=>{class i{constructor(e){this.dimensionsChanged=new ae,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){let e=this.element.getBoundingClientRect().height,n=this.element.getBoundingClientRect().width;return{height:e,width:n,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=gf(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}static{this.\u0275fac=function(n){return new(n||i)(M(_t))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ze],attrs:jO,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(n,r){n&1&&(he(),d(0,"text",0),m(1),u()),n&2&&(Ve("text-anchor",r.textAnchor)("transform",r.transform)("x",r.x)("y",r.y),g(),U(" ",r.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0})}}return i})();var v4=(()=>{class i{constructor(e){this.platformId=e,this.type=Ar.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.dataLabelHeightChanged=new ae,this.barsForDataLabels=[],this.barOrientation=hi,this.isSSR=!1}ngOnInit(){rr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();let e;this.series.length&&(e=this.xScale.bandwidth()),e=Math.round(e);let n=Math.max(this.yScale.domain()[0],0),r={[Is.positive]:0,[Is.negative]:0},o=Is.positive,s;this.type===Ar.Normalized&&(s=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,h=this.getLabel(a),p=gf(h),f=this.roundEdges;o=c>0?Is.positive:Is.negative;let v={value:c,label:h,roundEdges:f,data:a,width:e,formattedLabel:p,height:0,x:0,y:0};if(this.type===Ar.Standard)v.height=Math.abs(this.yScale(c)-this.yScale(n)),v.x=this.xScale(h),c<0?v.y=this.yScale(0):v.y=this.yScale(c);else if(this.type===Ar.Stacked){let S=r[o],T=S+c;r[o]+=c,v.height=this.yScale(S)-this.yScale(T),v.x=0,v.y=this.yScale(T),v.offset0=S,v.offset1=T}else if(this.type===Ar.Normalized){let S=r[o],T=S+c;r[o]+=c,s>0?(S=S*100/s,T=T*100/s):(S=0,T=0),v.height=this.yScale(S)-this.yScale(T),v.x=0,v.y=this.yScale(T),v.offset0=S,v.offset1=T,c=(T-S).toFixed(2)+"%"}this.colors.scaleType===Ye.Ordinal?v.color=this.colors.getColor(h):this.type===Ar.Standard?(v.color=this.colors.getColor(c),v.gradientStops=this.colors.getLinearGradientStops(c)):(v.color=this.colors.getColor(v.offset1),v.gradientStops=this.colors.getLinearGradientStops(v.offset1,v.offset0));let x=p;return v.ariaLabel=p+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(x=`${this.seriesName} \u2022 ${p}`,v.data.series=this.seriesName,v.ariaLabel=this.seriesName+" "+v.ariaLabel),v.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${i4(x)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,v}),this.updateDataLabels()}updateDataLabels(){if(this.type===Ar.Stacked){this.barsForDataLabels=[];let e={};e.series=this.seriesName;let n=this.series.map(o=>o.value).reduce((o,s)=>s>0?o+s:o,0),r=this.series.map(o=>o.value).reduce((o,s)=>s<0?o+s:o,0);e.total=n+r,e.x=0,e.y=0,e.total>0?e.height=this.yScale(n):e.height=this.yScale(r),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{let n={};return n.series=this.seriesName??e.label,n.total=e.value,n.x=this.xScale(e.label),n.y=this.yScale(0),n.height=this.yScale(n.total)-this.yScale(0),n.width=this.xScale.bandwidth(),n})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:De.Top,this.tooltipType=this.tooltipDisabled?void 0:vf.tooltip}isActive(e){return this.activeEntries?this.activeEntries.find(r=>e.name===r.name&&e.value===r.value)!==void 0:!1}onClick(e){this.select.emit(e)}getLabel(e){return e.label?e.label:e.name}trackBy(e,n){return n.label}trackDataLabelBy(e,n){return e+"#"+n.series+"#"+n.total}static{this.\u0275fac=function(n){return new(n||i)(M(ni))}}static{this.\u0275cmp=H({type:i,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},standalone:!1,features:[Ze],attrs:$O,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(n,r){n&1&&L(0,qO,2,2,"g",0)(1,WO,2,2,"g",0)(2,YO,2,2,"g",0),n&2&&(y("ngIf",!r.isSSR),g(),y("ngIf",r.isSSR),g(),y("ngIf",r.showDataLabel))},dependencies:[nt,ge,u4,f4,g4],encapsulation:2,data:{animation:[kg("animationState",[Mg(":leave",[Uu({opacity:1}),Eg(500,Uu({opacity:0}))])])]},changeDetection:0})}}return i})(),sC=(()=>{class i extends l4{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=So.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new ae,this.deactivate=new ae,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=p4({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();let e=this.xDomain.length/(this.dims.width/this.barPadding+1);return As().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let e=Er().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}getXDomain(){return this.results.map(e=>e.label)}getYDomain(){let e=this.results.map(o=>o.value),n=this.yScaleMin?Math.min(this.yScaleMin,...e):Math.min(0,...e);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.min(n,...this.yAxisTicks));let r=this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(r=Math.max(r,...this.yAxisTicks)),[n,r]}onClick(e){this.select.emit(e)}setColors(){let e;this.schemeType===Ye.Ordinal?e=this.xDomain:e=this.yDomain,this.colors=new mf(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){let e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===Ye.Ordinal?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxHeightChanged(e){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,n=!1){e=this.results.find(o=>n?o.label===e.name:o.name===e.name),!(this.activeEntries.findIndex(o=>o.name===e.name&&o.value===e.value&&o.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,n=!1){e=this.results.find(o=>n?o.label===e.name:o.name===e.name);let r=this.activeEntries.findIndex(o=>o.name===e.name&&o.value===e.value&&o.series===e.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(i)))(r||i)}})()}static{this.\u0275cmp=H({type:i,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(n,r,o){if(n&1&&Hu(o,PO,5),n&2){let s;Wi(s=Xi())&&(r.tooltipTemplate=s.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Rt],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"]],template:function(n,r){n&1&&(d(0,"ngx-charts-chart",0),I("legendLabelClick",function(s){return r.onClick(s)})("legendLabelActivate",function(s){return r.onActivate(s,!0)})("legendLabelDeactivate",function(s){return r.onDeactivate(s,!0)}),he(),d(1,"g",1),L(2,QO,1,12,"g",2)(3,KO,1,10,"g",3),d(4,"g",4),I("activate",function(s){return r.onActivate(s)})("deactivate",function(s){return r.onDeactivate(s)})("select",function(s){return r.onClick(s)})("dataLabelHeightChanged",function(s){return r.onDataLabelMaxHeightChanged(s)}),u()()()),n&2&&(y("view",ju(22,VO,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),g(),Ve("transform",r.transform),g(),y("ngIf",r.xAxis),g(),y("ngIf",r.yAxis),g(),y("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("series",r.results)("dims",r.dims)("gradient",r.gradient)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("showDataLabel",r.showDataLabel)("dataLabelFormatting",r.dataLabelFormatting)("activeEntries",r.activeEntries)("roundEdges",r.roundEdges)("animations",r.animations)("noBarWhenZero",r.noBarWhenZero))},dependencies:[ge,c4,d4,s4,v4],styles:[BO],encapsulation:2,changeDetection:0})}}return i})();var aC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var x4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var _4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var y4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var lC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var _$=2*Math.PI;var xf=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})(),b4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi,xf,lC]})}}return i})();var C4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var w4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})();var S4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi,xf,aC]})}}return i})();function T4(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var k4=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi]})}}return i})(),cC=(()=>{class i{constructor(){T4()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ie({type:i})}static{this.\u0275inj=Le({imports:[Fi,m4,aC,x4,_4,y4,k4,lC,b4,C4,xf,w4,S4]})}}return i})();var M4=()=>[700,400],_f=()=>["/portal/files"];function A4(i,t){i&1&&(d(0,"div",29),_(1,"div",30),u())}function D4(i,t){if(i&1&&(d(0,"div",32)(1,"div",8)(2,"div",33)(3,"div",34)(4,"div"),_(5,"i",35),u(),_(6,"div"),u(),d(7,"div",36)(8,"h5"),m(9),u(),d(10,"div",37)(11,"a",38),_(12,"i",39),u(),d(13,"div",40)(14,"a",41),m(15,"Pending...."),u()()()(),d(16,"p",42),m(17),u()()()()),i&2){let e=t.$implicit;g(9),oe(e.MemFoldName),g(8),U("",e.total_file," Files")}}function L4(i,t){if(i&1&&(d(0,"div",4),L(1,D4,18,2,"div",31),u()),i&2){let e=C();g(),y("ngForOf",e.data)}}function I4(i,t){i&1&&(d(0,"div",29),_(1,"div",30),u())}function O4(i,t){if(i&1){let e=J();et(0),d(1,"div",40)(2,"span",53),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.qrCode(r==null?null:r.MemUniqueId))}),m(3,"Attach Qr Code"),u(),d(4,"span",54),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.approve(r.Id,"approve"))}),m(5,"Approve"),u(),d(6,"span",55),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.approve(r.Id,"reject"))}),m(7,"Reject"),u()(),tt()}}function F4(i,t){if(i&1){let e=J();d(0,"div",40)(1,"span",56),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.editFiles(r==null?null:r.MemUniqueId))}),m(2),u()()}if(i&2){let e=C(4);g(2),oe(e.isEditLoader?"Loading...":"Edit")}}function N4(i,t){if(i&1&&(d(0,"div",37)(1,"a",38),_(2,"i",39),u(),L(3,O4,8,0,"ng-container",28),et(4),L(5,F4,3,1,"div",52),tt(),u()),i&2){let e=C().$implicit,n=C(2);g(3),y("ngIf",n.isAdmin),g(2),y("ngIf",!n.isAdmin&&e.IsPublished==0)}}function R4(i,t){if(i&1&&(d(0,"tbody")(1,"tr")(2,"td")(3,"a",46)(4,"figure",47)(5,"span",48),_(6,"i",49),u()(),m(7),u()(),d(8,"td"),m(9),an(10,"date"),u(),d(11,"td"),m(12),u(),d(13,"td")(14,"span"),m(15),u()(),d(16,"td",50),L(17,N4,6,2,"div",51),u()()()),i&2){let e,n=t.$implicit,r=C(2);g(7),U(" ",n==null?null:n.MemTitle," "),g(2),oe(ir(10,8,n==null?null:n.CreatedAt,"dd/MM/YYYY")),g(3),U(" ",n==null?null:n.MemFoldName," "),g(2),Bo("badge badge-pill ",r.statusClasses[n==null?null:n.IsPublished],""),g(),U(" ",(e=r.status[n==null?null:n.IsPublished])!==null&&e!==void 0?e:"Pending"," "),g(2),y("ngIf",(n==null?null:n.IsPublished)==0||(n==null?null:n.IsPublished)==1)}}function P4(i,t){if(i&1&&(d(0,"div",43)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),m(5,"Name"),u(),d(6,"th"),m(7,"Date Created"),u(),d(8,"th"),m(9,"Folder Name"),u(),d(10,"th"),m(11,"Status"),u(),d(12,"th"),m(13,"Action"),u()()(),L(14,R4,18,11,"tbody",45),u()()),i&2){let e=C();g(14),y("ngForOf",e.recentFiles)}}function V4(i,t){i&1&&(d(0,"div",29),_(1,"div",30),u())}function B4(i,t){if(i&1&&(d(0,"div",62)(1,"div")(2,"figure",63),_(3,"img",64),u()(),d(4,"div")(5,"h6",65)(6,"span",66)(7,"a",67)(8,"p"),m(9),an(10,"date"),an(11,"date"),u()()()(),_(12,"a",46),u()()),i&2){let e=t.$implicit;g(9),Yl("",e==null?null:e.ViewEmail," from ",e==null?null:e.ViewLoc," viewed this memo on ",ir(10,4,e==null?null:e.CreatedAt,"YYYY/MM/dd")," at approximately ",ir(11,7,e==null?null:e.CreatedAt,"hh:mm a"),".")}}function z4(i,t){if(i&1&&(d(0,"div",58)(1,"div",59)(2,"div",60),L(3,B4,13,10,"div",61),u()()()),i&2){let e=C(2);g(3),y("ngForOf",e.activities)}}function H4(i,t){if(i&1&&(et(0),d(1,"div",15)(2,"h4"),m(3,"Last Activities"),u()(),L(4,V4,2,0,"div",17)(5,z4,4,1,"div",57),tt()),i&2){let e=C();g(4),y("ngIf",e.isLoading),g(),y("ngIf",!e.isLoading)}}var dC=(()=>{class i{toggleSidebar(){this.sidebarVisible=!this.sidebarVisible}constructor(e,n,r,o,s){this.httpRequest=e,this.handleModal=n,this.userData=r,this.router=o,this.fileService=s,this.isSuperAdmin=!1,this.data=[],this.monthOnMonthGraph=[],this.recentFiles=[],this.isLoading=!0,this.isEditLoader=!1,this.sidebarVisible=!1,this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false"),this.status=[],this.statusClasses=["bg-secondary","bg-warning text-dark","bg-success","bg-danger"],this.barChartData=[]}ngOnInit(){this.status=this.userData.status,this.fileService.refreshFile$.subscribe(e=>{e&&(this.fetchRecentFiles(),this.fetchChartData())}),this.isLoading=!0,this.httpRequest.makeGetRequest("/memo/memo_activities").subscribe(e=>{this.activities=e.data,this.isLoading=!1},e=>{this.isLoading=!1,e.error.message&&((0,_u.default)({text:"Token Expired!",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),localStorage.removeItem("token"),this.router.navigate(["/login"]))}),this.httpRequest?.makeGetRequest("/dashboard/folder/recent").subscribe(e=>{this.data=e.data,this.isLoading=!1},e=>{this.isLoading=!1,(0,_u.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}fetchChartData(){this.httpRequest?.makeGetRequest("/dashboard/month_on_month_graph?year=2025").subscribe(e=>{this.barChartData=e.data.map(n=>({name:n.month,value:n.count})),this.isLoading=!1},e=>{this.isLoading=!1})}fetchRecentFiles(){this.isLoading=!0,this.httpRequest?.makeGetRequest("/dashboard/files/recent").subscribe(e=>{this.recentFiles=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}openModal(){this.handleModal.showMother("create_memo"),this.handleModal.toggleCheck("hello")}qrCode(e){this.handleModal.setPublishMemId({memId:e}),this.handleModal.showMother("qrcode")}viewFiles(e){this.httpRequest?.makeGetRequest("/memo/single?id="+e.MemUniqueId).subscribe(n=>{this.handleModal.showMother("forms"),this.userData.setUserData(n.data)})}editFiles(e){this.isEditLoader=!0,this.httpRequest?.makeGetRequest("/memo/single?id="+e).subscribe(n=>{this.isEditLoader=!1,this.handleModal.setEditMemo(n.data),this.handleModal.showMother("edit_files")},n=>{this.isEditLoader=!1,(0,_u.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}approve(e,n){this.handleModal.showMother("otp"),this.handleModal.setPublishMemId({memId:e,status:n})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce),M(Re),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-dashboard"]],decls:52,vars:17,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"card","bg-primary-bright","border-0"],[1,"row"],[1,"col-md-8"],["yAxisLabel","Memo Created Count",3,"view","results","yAxis","legend","showYAxisLabel"],[1,"col-md-4","mt-5"],[1,"card"],[1,"card-body","text-center"],[1,"row","mb-4"],[1,"col-md-8","offset-md-2"],["src","../../assets/media/svg/report.svg","alt","report",1,"img-fluid"],[1,"my-3"],[1,"btn","btn-outline-primary","btn-lg2",3,"click"],[1,"content-title","d-flex","justify-content-between"],[1,"view-all-link",3,"routerLink"],["class","spinner-container",4,"ngIf"],["class","row",4,"ngIf"],[3,"routerLink"],[1,"col-md-2","text-center"],[1,"card","mb-3"],[1,"card-body","cursor-pointer"],[1,"avatar","avatar-lg",3,"click"],[1,"avatar-title","rounded-pill"],[1,"ti-plus"],[1,"mb-4"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"spinner-container"],[1,"spinner"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card-body"],[1,"d-flex","justify-content-between","mb-4"],[1,"font-size-22","ti-folder"],[1,"d-flex","justify-content-between"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"small","text-muted","mb-0"],[1,"table-responsive"],[1,"table","table-borderless","table-hover","mb-0"],[4,"ngFor","ngForOf"],["href","#"],[1,"avatar","avatar-sm","mr-2"],[1,"avatar-title","bg-warning","text-black-50","rounded-pill"],[1,"ti-folder"],[1,""],["class","dropdown",4,"ngIf"],["class","dropdown-menu dropdown-menu-right",4,"ngIf"],[1,"dropdown-item","cursor-pointer","bg-primary","hover-text-dark",3,"click"],[1,"dropdown-item","cursor-pointer","bg-success","hover-bg-success-light","hover-text-dark","mt-2",3,"click"],[1,"dropdown-item","cursor-pointer","bg-danger","hover-bg-danger-light","hover-text-dark","mt-2",3,"click"],["data-sidebar-target","#view-file",1,"dropdown-item","cursor-pointer",3,"click"],["class","row mb-5",4,"ngIf"],[1,"row","mb-5"],[1,"col-md-12"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"avatar","mr-3"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[1,"d-md-flex","justify-content-between","mt-3",2,"margin-top","50ppx"],[1,"d-block"],[1,"link-1"]],template:function(n,r){n&1&&(d(0,"div")(1,"div",0),_(2,"app-navigation"),d(3,"div",1)(4,"div",2),_(5,"div",3),d(6,"div",4)(7,"div",5)(8,"h4"),m(9,"Daily Usage"),u(),_(10,"ngx-charts-bar-vertical",6),u(),d(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),_(16,"img",12),u()(),d(17,"h4",13),m(18,"Create Memo"),u(),d(19,"button",14),I("click",function(){return r.openModal()}),m(20,"Create Memo"),u()()()()(),d(21,"div",15)(22,"h4"),m(23,"Favorite Folders"),u(),d(24,"a",16),m(25,"View All"),u()(),L(26,A4,2,0,"div",17)(27,L4,2,1,"div",18),d(28,"div",15)(29,"h4"),m(30,"Quick Access"),u(),d(31,"a",19),m(32,"View All"),u()(),d(33,"div",10)(34,"div",20)(35,"div",21)(36,"div",22)(37,"div",23),I("click",function(){return r.openModal()}),d(38,"span",24),_(39,"i",25),u()()()(),d(40,"h6"),m(41,"Add"),u()()(),d(42,"div",15)(43,"h4"),m(44,"Recent Memo"),u(),d(45,"a",19),m(46,"View All"),u()(),L(47,I4,2,0,"div",17),d(48,"div",26),L(49,P4,15,1,"div",27),u(),L(50,H4,6,2,"ng-container",28),u()(),_(51,"app-sidebar"),u()()),n&2&&(g(10),y("view",ft(13,M4))("results",r.barChartData)("yAxis",!0)("legend",!0)("showYAxisLabel",!0),g(14),y("routerLink",ft(14,_f)),g(2),y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading),g(4),y("routerLink",ft(15,_f)),g(14),y("routerLink",ft(16,_f)),g(2),y("ngIf",r.isLoading),g(2),y("ngIf",!r.isLoading),g(),y("ngIf",r.isAdmin))},dependencies:[se,nt,ge,zo,xn,_n,lr,cC,sC],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .8em;border-radius:.5rem;margin-right:.5em}.view-all-link[_ngcontent-%COMP%]:hover{color:#00f}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var Os=Nt(jt());var uC=i=>({"is-invalid":i}),j4=()=>["/forgotpassword"];function $4(i,t){i&1&&(d(0,"small"),m(1,"Identity is required."),u())}function G4(i,t){i&1&&(d(0,"small"),m(1,"Please enter a valid email."),u())}function q4(i,t){if(i&1&&(d(0,"div",20),L(1,$4,2,0,"small",21)(2,G4,2,0,"small",21),u()),i&2){let e=C();g(),y("ngIf",e.loginForm.get("identity").errors.required),g(),y("ngIf",e.loginForm.get("identity").errors.email)}}function U4(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),u())}function W4(i,t){i&1&&(d(0,"small"),m(1,"Password must be at least 6 characters long."),u())}function X4(i,t){if(i&1&&(d(0,"div",20),L(1,U4,2,0,"small",21)(2,W4,2,0,"small",21),u()),i&2){let e=C();g(),y("ngIf",e.loginForm.get("password").errors.required),g(),y("ngIf",e.loginForm.get("password").errors.minlength)}}var hC=(()=>{class i{ngOnInit(){this.route.queryParams.subscribe(e=>{this.mac_address=e.mac,this.mac_address||((0,Os.default)({text:"You are not allowed to view this page",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),setTimeout(()=>{this.router.navigate(["/errorpage"])},2e3))})}constructor(e,n,r,o,s,a){this.fb=e,this.router=n,this.local=r,this.HttpRequest=o,this.userDetail=s,this.route=a,this.isLoading=!1,this.mac_address=null,this.loginForm=this.fb.group({identity:["",je.required],password:["",je.required]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let e=be(R({},this.loginForm.value),{mac_address:this.mac_address});this.HttpRequest.makePostRequest("/auth/login",e).subscribe({next:n=>{this.userDetail.setUserDetail(n),this.isLoading=!1,n.status&&((0,Os.default)({text:`${n.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"green"}).showToast(),this.local.write("data",n.token),this.local.write("isAdmin",n.isAdmin),this.router.navigate(["/auth"]))},error:n=>{if(this.isLoading=!1,n?.status===0){(0,Os.default)({text:"Something went wrong, please try again later",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}if(n?.status===404){(0,Os.default)({text:"Something went wrong, please try again later",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}let r=n?.error?.message??n.message;(0,Os.default)({text:r,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()}})}}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(Re),M(si),M(Me),M(ce),M(xi))}}static{this.\u0275cmp=H({type:i,selectors:[["app-login"]],decls:57,vars:13,consts:[[1,"login-page"],[1,"left-panel"],[1,"features-grid"],[1,"row"],[1,"col-3","feature-item"],[1,"fa","fa-lock"],["href","tel:+23414721521"],["href","tel:+23412790421"],["href","mailto:cpd@ncaa.gov.ng"],["href","https://www.ncaa.gov.ng"],[1,"right-panel"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","identity","placeholder","Identity (Username or Email)","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control",3,"ngClass"],[1,"form-group","d-flex","justify-content-between"],[1,"cursor-pointer",3,"routerLink"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),m(4,"IMSET-AI 4.2"),u(),d(5,"h1"),m(6,"INTEGRATED MEMO SECURITY TERMINAL"),u(),d(7,"p"),m(8,"A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information"),u(),d(9,"div",2)(10,"div",3)(11,"div",4),_(12,"i",5),d(13,"p"),m(14,"Security"),u()(),d(15,"div",4),_(16,"i",5),d(17,"p"),m(18,"Confidentiality"),u()(),d(19,"div",4),_(20,"i",5),d(21,"p"),m(22,"integrity"),u()(),d(23,"div",4),_(24,"i",5),d(25,"p"),m(26,"availability"),u()()()()(),d(27,"address"),m(28," Aviation House P.M.B. 21029 Ikeja Murtala Mohammed Airport Ikeja Lagos"),_(29,"br"),d(30,"a",6),m(31,"+234-1-472-1521"),u(),m(32,", "),d(33,"a",7),m(34,"+234-1-279-0421"),u(),_(35,"br"),d(36,"a",8),m(37,"cpd.gov.ng"),u(),_(38,"br"),d(39,"a",9),m(40,"www.ncaa.gov.ng"),u()()(),d(41,"div",10)(42,"div",11)(43,"h2"),m(44,"Login"),u(),d(45,"form",12),I("ngSubmit",function(){return r.onSubmit()}),d(46,"div",13),_(47,"input",14),L(48,q4,3,2,"div",15),u(),d(49,"div",13),_(50,"input",16),L(51,X4,3,2,"div",15),u(),d(52,"div",17)(53,"span",18),m(54,"Forgot password"),u()(),d(55,"button",19),m(56),u()()()()()),n&2&&(g(45),y("formGroup",r.loginForm),g(2),y("ngClass",oi(8,uC,r.loginForm.get("identity").invalid&&r.loginForm.get("identity").touched)),g(),y("ngIf",r.loginForm.get("identity").invalid&&r.loginForm.get("identity").touched),g(2),y("ngClass",oi(10,uC,r.loginForm.get("password").invalid&&r.loginForm.get("password").touched)),g(),y("ngIf",r.loginForm.get("password").invalid&&r.loginForm.get("password").touched),g(2),y("routerLink",ft(12,j4)),g(2),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Logging in...":"Login"," "))},dependencies:[se,Yi,ge,Ne,We,Oe,Fe,$e,ai,Et,Mt,lr],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;overflow:hidden}.login-page[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-panel[_ngcontent-%COMP%]{width:60%;background-color:#111c44;color:#fff;padding:2.5rem 4rem;display:flex;flex-direction:column;justify-content:space-between}.left-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1rem}.left-panel[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:3rem}.features-grid[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:2rem;margin:2rem 0;margin-top:100px}.feature-item[_ngcontent-%COMP%]{text-align:center}.feature-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:1rem;filter:invert(1)}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:#fffc}address[_ngcontent-%COMP%]{font-style:normal;font-size:.9rem;line-height:1.8}address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.right-panel[_ngcontent-%COMP%]{width:40%;background-color:#f8f9fa;padding:2rem;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:2rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.forgot-password[_ngcontent-%COMP%]{color:#3182ce;text-decoration:none;font-size:.9rem;display:block;margin-bottom:1.5rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#2563eb;border:none;border-radius:8px;color:#fff;font-weight:500;text-align:center;display:flex;justify-content:center}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1d4ea8}"]})}}return i})();var kl=Nt(jt());function Y4(i,t){if(i&1){let e=J();d(0,"div",120)(1,"ul",121)(2,"li",122)(3,"a",123),I("click",function(){let r=V(e).$implicit,o=C(2);return B(o.foldName(r.Id))}),_(4,"i",124),d(5,"span",125),m(6),u()()()()()}if(i&2){let e=t.$implicit;g(6),U(" ",(e==null?null:e.MemFoldName)==="0"||!(e!=null&&e.MemFoldName)?"No folder name available":e==null?null:e.MemFoldName," ")}}function Q4(i,t){if(i&1){let e=J();d(0,"div",114)(1,"div",115)(2,"h6",116),m(3,"My Folders"),u(),d(4,"span",117)(5,"button",118),I("click",function(){V(e);let r=C();return B(r.createFolders())}),m(6," Create Folder "),u()(),L(7,Y4,7,1,"div",119),an(8,"async"),u()()}if(i&2){let e=C();g(7),y("ngForOf",$u(8,1,e.allFolder$))}}function K4(i,t){i&1&&_(0,"span",134)}function J4(i,t){i&1&&_(0,"span",134)}function Z4(i,t){if(i&1){let e=J();d(0,"div",126)(1,"div")(2,"span",117)(3,"button",127),I("click",function(){V(e);let r=C();return B(r.previous())}),L(4,K4,1,0,"span",128),m(5),u()(),d(6,"span",117)(7,"button",127),I("click",function(){V(e);let r=C();return B(r.next())}),L(8,J4,1,0,"span",128),m(9),u()()(),d(10,"ul",129)(11,"div",130)(12,"input",131),Tt("ngModelChange",function(r){V(e);let o=C();return St(o.searchTerm,r)||(o.searchTerm=r),B(r)}),u()(),d(13,"li",132)(14,"button",133),I("click",function(){V(e);let r=C();return B(r.setFilterStatus(""))}),m(15,"All Memo"),u()(),d(16,"li",132)(17,"button",118),I("click",function(){V(e);let r=C();return B(r.setFilterStatus("approved"))}),m(18,"Approved"),u()(),d(19,"li",132)(20,"button",118),I("click",function(){V(e);let r=C();return B(r.setFilterStatus("pending"))}),m(21,"Pending"),u()()()()}if(i&2){let e=C();g(3),y("disabled",e.isLoadingNext),g(),y("ngIf",e.isLoadingPrevious),g(),U(" ",e.isLoadingPrevious?"":"Previous"," "),g(2),y("disabled",e.isLoadingPrevious),g(),y("ngIf",e.isLoadingNext),g(),U(" ",e.isLoadingNext?"":"Next"," "),g(3),wt("ngModel",e.searchTerm)}}function eF(i,t){i&1&&(d(0,"div",135),_(1,"div",136),u())}function tF(i,t){i&1&&(d(0,"tr")(1,"td",141)(2,"h3",142),m(3,"No files found"),u()()())}function iF(i,t){if(i&1){let e=J();d(0,"button",151),I("click",function(){V(e);let r=C().$implicit,o=C(2);return B(o.copyToClipboard(r.MemFullLink))}),_(1,"i",152),u()}}function nF(i,t){if(i&1&&(d(0,"td"),_(1,"img",153),u()),i&2){let e=C().$implicit;g(),Ui("src",e==null?null:e.MemQuickResponse,Qt)}}function rF(i,t){i&1&&_(0,"td")}function oF(i,t){if(i&1){let e=J();et(0),d(1,"div",157)(2,"span",158),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.qrCode(r==null?null:r.MemUniqueId))}),m(3,"Attach Qr Code"),u(),d(4,"span",159),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.approve(r==null?null:r.Id,"approve"))}),m(5,"Approve"),u(),d(6,"span",160),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.approve(r==null?null:r.Id,"reject"))}),m(7,"Reject"),u()(),tt()}}function sF(i,t){if(i&1){let e=J();et(0),d(1,"div",157)(2,"span",158),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.qrCode(r==null?null:r.MemUniqueId))}),m(3,"Attach Qr Code"),u(),d(4,"span",161),I("click",function(){V(e);let r=C(2).$implicit,o=C(2);return B(o.editFiles(r==null?null:r.MemUniqueId))}),m(5),u()(),tt()}if(i&2){let e=C(4);g(5),U(" ",e.isEditLoader?"Loading...":"Edit"," ")}}function aF(i,t){if(i&1&&(d(0,"div",154)(1,"a",155),_(2,"i",156),u(),L(3,oF,8,0,"ng-container",139)(4,sF,6,1,"ng-container",139),u()),i&2){let e=C().$implicit,n=C(2);g(3),y("ngIf",n.isAdmin),g(),y("ngIf",!n.isAdmin&&e.IsPublished===0)}}function lF(i,t){if(i&1&&(d(0,"tr"),_(1,"td"),d(2,"td")(3,"span",143)(4,"figure",144)(5,"span",145),_(6,"i",93),u()(),d(7,"span",146)(8,"span"),m(9),u()()()(),d(10,"td"),m(11),an(12,"date"),u(),d(13,"td"),m(14),u(),d(15,"td")(16,"span"),m(17),u()(),d(18,"td",147),L(19,iF,2,0,"button",148),u(),L(20,nF,2,1,"td",139)(21,rF,1,0,"td",139),d(22,"td",149),L(23,aF,5,2,"div",150),u()()),i&2){let e,n=t.$implicit,r=C(2);g(9),oe(n.MemTitle),g(2),oe(ir(12,11,n.CreatedAt,"dd/MM/yyyy")),g(3),oe(n.MemFoldName),g(2),Bo("badge badge-pill ",r.statusClasses[n==null?null:n.IsPublished],""),g(),U(" ",(e=r.status[n==null?null:n.IsPublished])!==null&&e!==void 0?e:"Pending"," "),g(2),y("ngIf",n==null?null:n.MemFullLink),g(),y("ngIf",n==null?null:n.MemQuickResponse),g(),y("ngIf",!(n!=null&&n.MemQuickResponse)),g(2),y("ngIf",(n==null?null:n.IsPublished)===0||(n==null?null:n.IsPublished)===1)}}function cF(i,t){if(i&1&&(d(0,"div",137)(1,"table",138)(2,"thead")(3,"tr"),_(4,"th"),d(5,"th"),m(6,"Name"),u(),d(7,"th"),m(8,"Date"),u(),d(9,"th"),m(10,"Folder Name"),u(),d(11,"th"),m(12,"Status"),u(),d(13,"th"),m(14,"Link"),u(),d(15,"th"),m(16,"QrCode"),u(),d(17,"th"),m(18,"Action"),u()()(),d(19,"tbody"),L(20,tF,4,0,"tr",139)(21,lF,24,14,"tr",140),u()()()),i&2){let e=C();g(20),y("ngIf",e.filteredFiles().length===0),g(),y("ngForOf",e.filteredFiles())}}var pC=(()=>{class i{constructor(e,n,r,o,s,a){this.httpRequest=e,this.handleModal=n,this.editMemo=r,this.folderService=o,this.fileService=s,this.qrCodeService=a,this.folderSubject=new ht([]),this.allFolder$=this.folderSubject.asObservable(),this.isLoadingPrevious=!1,this.isLoadingNext=!1,this.foldId=void 0,this.page=1,this.allFile=[],this.allFolder=[],this.isLoading=!0,this.isEditLoader=!1,this.searchTerm="",this.filterStatus="",this.status=[],this.statusClasses=["bg-secondary","bg-warning text-dark","bg-success","bg-danger"],this.isAdmin=JSON.parse(localStorage.getItem("isAdmin")??"false")}ngOnInit(){this.status=this.handleModal.status,this.folderService.refreshFolder$.subscribe(e=>{e&&this.loadFolders()}),this.fileService.refreshFile$.subscribe(e=>{e&&this.loadFiles()}),this.qrCodeService.refreshQrCode$.subscribe(e=>{e&&this.loadFiles()})}loadFiles(){this.httpRequest.makeGetRequest("/dashboard/files/all").subscribe(e=>{this.allFile=e.data,this.isLoading=!1},e=>{(0,kl.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}loadFolders(){this.httpRequest.makeGetRequest("/dashboard/folder/all").subscribe(e=>{this.folderSubject.next(e.data)},e=>{(0,kl.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}previous(){this.isLoadingPrevious=!0,this.page-=1,this.page>0&&this.httpRequest.makeGetRequest(`/dashboard/files/all?page=${this.page}&foldId=${this.foldId}`).subscribe(e=>{this.allFile=e.data,this.isLoadingPrevious=!1},e=>{console.log(e),this.isLoadingPrevious=!1})}next(){this.isLoadingNext=!0,this.page+=1,this.httpRequest.makeGetRequest(`/dashboard/files/all?page=${this.page}&foldId=${this.foldId}`).subscribe(e=>{this.allFile=e.data,this.isLoadingNext=!1},e=>{this.isLoadingNext=!1})}editFiles(e){this.isEditLoader=!0,this.httpRequest?.makeGetRequest("/memo/single?id="+e).subscribe(n=>{this.handleModal.setEditMemo(n.data),this.handleModal.showMother("edit_files"),this.isEditLoader=!1},n=>{this.isLoading=!1,(0,kl.default)({text:"Error fetching data",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}foldName(e){this.isLoading=!0,this.foldId=e,this.page=1,this.httpRequest.makeGetRequest("/dashboard/files/all?page=1&foldId="+e).subscribe(n=>{this.allFile=n.data,console.log(this.allFile),this.isLoading=!1})}approve(e,n){this.handleModal.showMother("otp"),this.handleModal.setPublishMemId({memId:e,status:n})}qrCode(e){this.handleModal.setPublishMemId({memId:e}),this.handleModal.showMother("qrcode")}setFilterStatus(e){this.filterStatus=e}filteredFiles(){return this.allFile.filter(e=>{let n=e?.MemTitle?.toLowerCase().includes(this.searchTerm.toLowerCase()),r=this.filterStatus===""||this.filterStatus==="approved"&&e.IsPublished===2||this.filterStatus==="pending"&&e.IsPublished===1;return n&&r})}createFolders(){this.handleModal.showMother("create_folder")}copyToClipboard(e){let n=document.createElement("textarea");n.style.position="fixed",n.style.opacity="0",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),(0,kl.default)({text:"Link copied to clipboard!",duration:"3000",position:"right",gravity:"top",backgroundColor:"blue"}).showToast()}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(ce),M(ce),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-files"]],decls:364,vars:4,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header","d-flex","justify-content-between"],["href","#",1,"files-toggler"],[1,"ti-menu"],[1,"row"],["class","col-xl-3 files-sidebar",4,"ngIf"],[1,"col-xl-9"],[1,"content-title","mt-0"],["class","mb-4",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","newTaskModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"ti-close"],[1,"modal-body"],["autocomplete","off"],[1,"form-group","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text",1,"form-control"],["multiple","",1,"js-example-basic-single"],["value","Theme Support"],["value","Freelance"],["selected","","value","Social"],["selected","","value","Friends"],["value","Coding"],[1,"form-group","row","row-sm"],[1,"col-sm-5"],["type","text","placeholder","Date",1,"form-control","create-event-datepicker"],[1,"col-sm-4"],["type","text","placeholder","Time",1,"form-control","create-event-demo"],[1,"avatar-group"],[1,"avatar","avatar-sm"],["src","../../assets/media/image/user/women_avatar3.jpg","alt","image",1,"rounded-circle"],[1,"avatar-title","bg-danger","rounded-circle"],["src","../../assets/media/image/user/women_avatar5.jpg","alt","image",1,"rounded-circle"],["type","button","title","Add User","data-toggle","dropdown",1,"btn","btn-outline-light","btn-sm","btn-floating"],[1,"ti-plus"],[1,"dropdown-menu","p-0"],[1,"p-3"],[1,"text-uppercase","font-size-11","mb-3"],[1,"input-group","input-group-sm"],["type","text","placeholder","Search User","aria-describedby","button-addon2",1,"form-control"],[1,"input-group-append"],["type","button","id","button-addon2",1,"btn","btn-outline-light"],[1,"ti-search"],[1,"list-group","list-group-flush","mt-2"],[1,"list-group-item","d-flex","align-items-center","pl-0","pr-0"],[1,"mr-2"],[1,"avatar-title","bg-primary","rounded-circle"],[1,"mb-0"],[1,"dropdown","ml-auto"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","btn-sm"],["data-feather","plus"],["src","../../assets/media/image/user/women_avatar2.jpg","alt","image",1,"rounded-circle"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","btn-sm","ml-3"],["src","../../assets/media/image/user/man_avatar2.jpg","alt","image",1,"rounded-circle"],["rows","6",1,"form-control"],[1,"col-sm-3"],["type","submit",1,"btn","btn-primary"],["id","editTaskModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["type","text","placeholder","Title","value","Draw design and presentation for customers.",1,"form-control"],["selected","","value","Theme Support"],["value","Social"],["value","Friends"],["type","text","placeholder","Date","value","10/31/2019",1,"form-control","create-event-datepicker"],["type","text","value","11:57","placeholder","Time",1,"form-control","create-event-demo"],["type","text","placeholder","Search User","aria-describedby","button-addon3",1,"form-control"],["type","button","id","button-addon3",1,"btn","btn-outline-light"],["type","submit",1,"btn","btn-success"],["data-feather","check",1,"mr-2"],[1,"sidebar-group","d-print-none"],["id","storage",1,"sidebar","primary-sidebar","show"],[1,"sidebar-header"],[1,"sidebar-content"],["id","justgage_five",1,"mb-3"],[1,"list-group","list-group-flush","mb-3"],["href","#",1,"list-group-item","px-0","d-flex","align-items-center"],[1,"mr-3"],[1,"avatar"],[1,"avatar-title","bg-primary-bright","text-primary","rounded"],[1,"ti-image"],[1,"flex-grow-1"],[1,"small","text-muted"],[1,"text-primary"],[1,"ti-control-play"],[1,"ti-files"],[1,"ti-file"],[1,"card","border","shadow-none"],[1,"card-body","text-center"],["src","../../assets/media/svg/upgrade.svg","alt","upgrade",1,"img-fluid","mb-3"],[1,"text-muted"],[1,"btn","btn-primary"],[1,"sidebar-footer"],[1,"btn","btn-lg","btn-block","btn-outline-primary"],[1,"fa","fa-cloud-upload","mr-3"],["id","view-detail",1,"sidebar"],["href","#",1,"btn","btn-light","btn-floating","sidebar-close-btn"],[1,"ti-angle-right"],[1,"avatar","mb-4"],[1,"avatar-title","bg-info-bright","text-info","rounded-pill"],[1,"row","mb-3"],[1,"col-md-5"],[1,"col-md-7"],["href","#",1,"link-1"],[1,"col-md-7","text-success"],[1,"btn","btn-lg","btn-block","btn-primary"],[1,"ti-share","mr-3"],[1,"col-xl-3","files-sidebar"],["id","folder",1,"card","border-0"],[1,"card-title"],[1,"list-inline-item","mb-0"],[1,"btn","btn-primary",3,"click"],["id","files","class","jstree jstree-1 jstree-default","role","tree","aria-multiselectable","true","tabindex","0","aria-activedescendant","j1_1","aria-busy","false",4,"ngFor","ngForOf"],["id","files","role","tree","aria-multiselectable","true","tabindex","0","aria-activedescendant","j1_1","aria-busy","false",1,"jstree","jstree-1","jstree-default"],["role","group",1,"jstree-container-ul","jstree-children","jstree-no-dots"],["role","treeitem","aria-selected","false","aria-level","1","aria-labelledby","j1_1_anchor","aria-expanded","false","id","j1_1",1,"jstree-node","jstree-closed"],["tabindex","-1","id","j1_1_anchor",1,"jstree-anchor","cursor-pointer","ms-5",3,"click"],["role","presentation",1,"jstree-icon","jstree-themeicon","ti-folder","text-warning","jstree-themeicon-custom"],[2,"margin-left","10px"],[1,"mb-4"],[1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","file-filter",1,"list-inline","mt-3"],[1,"form-group","mb-3"],["type","text","placeholder","Enter title to search",1,"form-control",3,"ngModelChange","ngModel"],[1,"list-inline-item"],[1,"btn","btn-secondary",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"spinner-container"],[1,"spinner"],[1,"table-responsive"],["id","table-files",1,"table","table-borderless","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-center"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"avatar","avatar-sm","mr-3"],[1,"avatar-title","rounded-pill"],[1,"d-flex","flex-column"],[1,"text-primary","cursor-pointer"],["title","Copy to clipboard","class","btn btn-icon",3,"click",4,"ngIf"],[1,"text-right"],["class","dropdown",4,"ngIf"],["title","Copy to clipboard",1,"btn","btn-icon",3,"click"],[1,"ti-clipboard"],["alt","",2,"width","60px","height","60px",3,"src"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","cursor-pointer","bg-primary","hover-bg-success-light","hover-text-dark",3,"click"],[1,"dropdown-item","cursor-pointer","bg-success","hover-bg-success-light","hover-text-dark","mt-2",3,"click"],[1,"dropdown-item","cursor-pointer","bg-danger","hover-bg-danger-light","hover-text-dark","mt-2",3,"click"],["data-sidebar-target","#view-file",1,"dropdown-item","cursor-pointer",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0),_(1,"app-navigation"),d(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2"),m(6,"Files"),u(),d(7,"a",4),_(8,"i",5),u()(),d(9,"div",6),L(10,Q4,9,3,"div",7),d(11,"div",8)(12,"div",9)(13,"h4"),m(14,"Documents"),u()(),L(15,Z4,22,7,"div",10)(16,eF,2,0,"div",11)(17,cF,22,2,"div",12),u()(),d(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"h5",17),m(23,"New Task"),u(),d(24,"button",18),_(25,"i",19),u()(),d(26,"div",20)(27,"form",21)(28,"div",22)(29,"label",23),m(30,"Task title"),u(),d(31,"div",24),_(32,"input",25),u()(),d(33,"div",22)(34,"label",23),m(35,"Tags"),u(),d(36,"div",24)(37,"select",26)(38,"option",27),m(39,"Theme Support"),u(),d(40,"option",28),m(41,"Freelance"),u(),d(42,"option",29),m(43,"Social"),u(),d(44,"option",30),m(45,"Friends"),u(),d(46,"option",31),m(47,"Coding"),u()()()(),d(48,"div",32)(49,"label",23),m(50,"Deadline"),u(),d(51,"div",33),_(52,"input",34),u(),d(53,"div",35),_(54,"input",36),u()(),d(55,"div",22)(56,"label",23),m(57,"Participate"),u(),d(58,"div",24)(59,"div",37)(60,"figure",38),_(61,"img",39),u(),d(62,"figure",38)(63,"span",40),m(64,"S"),u()(),d(65,"figure",38),_(66,"img",41),u()(),d(67,"button",42),_(68,"i",43),u(),d(69,"div",44)(70,"div",45)(71,"h6",46),m(72,"Add User"),u(),d(73,"div",47),_(74,"input",48),d(75,"div",49)(76,"button",50),_(77,"i",51),u()()(),d(78,"ul",52)(79,"li",53)(80,"div",54)(81,"figure",38)(82,"span",55),m(83,"V"),u()()(),d(84,"div")(85,"h6",56),m(86,"Valentine Maton"),u()(),d(87,"div",57)(88,"a",58),_(89,"i",59),u()()(),d(90,"li",53)(91,"div",54)(92,"figure",38),_(93,"img",39),u()(),d(94,"div")(95,"h6",56),m(96,"Valentine Maton"),u()(),d(97,"div",57)(98,"a",58),_(99,"i",59),u()()(),d(100,"li",53)(101,"div",54)(102,"figure",38),_(103,"img",60),u()(),d(104,"div")(105,"h6",56),m(106,"Valentine Maton"),u()(),d(107,"div",57)(108,"a",61),_(109,"i",59),u()()(),d(110,"li",53)(111,"div",54)(112,"figure",38),_(113,"img",62),u()(),d(114,"div")(115,"h6",56),m(116,"Valentine Maton"),u()(),d(117,"div",57)(118,"a",61),_(119,"i",59),u()()()()()()()(),d(120,"div",22)(121,"label",23),m(122,"Description"),u(),d(123,"div",24),_(124,"textarea",63),u()(),d(125,"div",22),_(126,"label",64),d(127,"div",24)(128,"button",65),m(129,"Create"),u()()()()()()()(),d(130,"div",66)(131,"div",14)(132,"div",15)(133,"div",16)(134,"h5",17),m(135,"Edit Task"),u(),d(136,"button",18),_(137,"i",19),u()(),d(138,"div",20)(139,"form",21)(140,"div",22)(141,"label",23),m(142,"Task title"),u(),d(143,"div",24),_(144,"input",67),u()(),d(145,"div",22)(146,"label",23),m(147,"Tags"),u(),d(148,"div",24)(149,"select",26)(150,"option",68),m(151,"Theme Support"),u(),d(152,"option",28),m(153,"Freelance"),u(),d(154,"option",69),m(155,"Social"),u(),d(156,"option",70),m(157,"Friends"),u(),d(158,"option",31),m(159,"Coding"),u()()()(),d(160,"div",32)(161,"label",23),m(162,"Deadline"),u(),d(163,"div",33),_(164,"input",71),u(),d(165,"div",35),_(166,"input",72),u()(),d(167,"div",22)(168,"label",23),m(169,"Participate"),u(),d(170,"div",24)(171,"div",37)(172,"figure",38),_(173,"img",39),u(),d(174,"figure",38)(175,"span",40),m(176,"S"),u()(),d(177,"figure",38),_(178,"img",41),u()(),d(179,"button",42),_(180,"i",43),u(),d(181,"div",44)(182,"div",45)(183,"h6",46),m(184,"Add User"),u(),d(185,"div",47),_(186,"input",73),d(187,"div",49)(188,"button",74),_(189,"i",51),u()()(),d(190,"ul",52)(191,"li",53)(192,"div",54)(193,"figure",38)(194,"span",55),m(195,"V"),u()()(),d(196,"div")(197,"h6",56),m(198,"Valentine Maton"),u()(),d(199,"div",57)(200,"a",58),_(201,"i",59),u()()(),d(202,"li",53)(203,"div",54)(204,"figure",38),_(205,"img",39),u()(),d(206,"div")(207,"h6",56),m(208,"Valentine Maton"),u()(),d(209,"div",57)(210,"a",58),_(211,"i",59),u()()(),d(212,"li",53)(213,"div",54)(214,"figure",38),_(215,"img",60),u()(),d(216,"div")(217,"h6",56),m(218,"Valentine Maton"),u()(),d(219,"div",57)(220,"a",61),_(221,"i",59),u()()(),d(222,"li",53)(223,"div",54)(224,"figure",38),_(225,"img",62),u()(),d(226,"div")(227,"h6",56),m(228,"Valentine Maton"),u()(),d(229,"div",57)(230,"a",61),_(231,"i",59),u()()()()()()()(),d(232,"div",22)(233,"label",23),m(234,"Description"),u(),d(235,"div",24)(236,"textarea",63),m(237,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur corporis incidunt labore modi numquam omnis pariatur possimus suscipit vitae voluptas?"),u()()(),d(238,"div",22),_(239,"label",64),d(240,"div",24)(241,"button",75),_(242,"i",76),m(243," Save "),u()()()()()()()()()(),d(244,"div",77)(245,"div",78)(246,"div",79)(247,"h4"),m(248,"Storage Overview"),u()(),d(249,"div",80),_(250,"div",81),d(251,"div")(252,"div",82)(253,"a",83)(254,"div",84)(255,"figure",85)(256,"span",86),_(257,"i",87),u()()(),d(258,"div",88)(259,"p",56),m(260,"Images"),u(),d(261,"span",89),m(262,"259 Files"),u()(),d(263,"div")(264,"h5",90),m(265,"15.7 GB"),u()()(),d(266,"a",83)(267,"div",84)(268,"figure",85)(269,"span",86),_(270,"i",91),u()()(),d(271,"div",88)(272,"p",56),m(273,"Videos"),u(),d(274,"span",89),m(275,"8 Files"),u()(),d(276,"div")(277,"h5",90),m(278,"20 GB"),u()()(),d(279,"a",83)(280,"div",84)(281,"figure",85)(282,"span",86),_(283,"i",92),u()()(),d(284,"div",88)(285,"p",56),m(286,"Documents"),u(),d(287,"span",89),m(288,"46 Files"),u()(),d(289,"div")(290,"h5",90),m(291,"10.5 GB"),u()()(),d(292,"a",83)(293,"div",84)(294,"figure",85)(295,"span",86),_(296,"i",93),u()()(),d(297,"div",88)(298,"p",56),m(299,"Other Files"),u(),d(300,"span",89),m(301,"50 Files"),u()(),d(302,"div")(303,"h5",90),m(304,"2.8 GB"),u()()()()(),d(305,"div",94)(306,"div",95),_(307,"img",96),d(308,"h5"),m(309,"Get an Upgrade"),u(),d(310,"p",97),m(311,"Get additional 500 GB space for your documents and files. Unlock now for more space."),u(),d(312,"button",98),m(313,"Upgrade"),u()()()(),d(314,"div",99)(315,"button",100),_(316,"i",101),m(317," Upload "),u()()(),d(318,"div",102)(319,"div",79)(320,"h4"),m(321,"View Detail"),u(),d(322,"a",103),_(323,"i",104),u()(),d(324,"div",80)(325,"figure",105)(326,"span",106),_(327,"i",93),u()(),d(328,"div",107)(329,"div",108),m(330,"File name:"),u(),d(331,"div",109)(332,"a",110),m(333,"Meeting-notes.doc"),u()()(),d(334,"div",107)(335,"div",108),m(336,"File type:"),u(),d(337,"div",109),m(338,"Word File"),u()(),d(339,"div",107)(340,"div",108),m(341,"File size:"),u(),d(342,"div",109),m(343,"22 KB"),u()(),d(344,"div",107)(345,"div",108),m(346,"Created:"),u(),d(347,"div",109),m(348,"Monday, July 02, 2020 9:34am"),u()(),d(349,"div",107)(350,"div",108),m(351,"Modified:"),u(),d(352,"div",111),m(353,"Monday, July 02, 2020 9:34am"),u()(),d(354,"div",107)(355,"div",108),m(356,"Accessed:"),u(),d(357,"div",109),m(358,"Monday, July 03, 2020 10:22am"),u()()(),d(359,"div",99)(360,"button",112),_(361,"i",113),m(362," Share "),u()()(),_(363,"app-sidebar"),u()()),n&2&&(g(10),y("ngIf",!r.isLoading),g(5),y("ngIf",!r.isLoading),g(),y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading))},dependencies:[xn,_n,Ne,We,hr,pr,Oe,Fe,$e,rt,Pt,Di,se,nt,ge,bg,zo],styles:["#folder[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}#file-filter[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#folder[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#folder[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#88888880;border-radius:6px}#folder[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(136,136,136,.5) transparent}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.qrcode1[_ngcontent-%COMP%]{border:2px solid blue;height:10px;width:10px}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:0;margin-left:3px;margin-top:-4px;cursor:pointer;color:#007bff}.btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-icon[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#00f}"]})}}return i})();function dF(i,t){i&1&&(d(0,"div",9),_(1,"div",10),u())}function uF(i,t){if(i&1&&(d(0,"div",15)(1,"div")(2,"figure",16),_(3,"img",17),u()(),d(4,"div")(5,"h6",18)(6,"span",19)(7,"a",20)(8,"p"),m(9),u()()()(),_(10,"a",21),u()()),i&2){let e=t.$implicit,n=C(2);g(9),Yl("",e==null?null:e.ViewEmail," from ",e==null?null:e.ViewLoc," viewed this memo on ",n.format(e==null?null:e.CreatedAt)," at approximately ",n.formatTime(e==null?null:e.CreatedAt),".")}}function hF(i,t){if(i&1&&(d(0,"div",11)(1,"div",12)(2,"div",13),L(3,uF,11,4,"div",14),u()()()),i&2){let e=C();g(3),y("ngForOf",e.activities)}}var mC=(()=>{class i{constructor(e,n){this.service=e,this.httpRequest=n,this.isLoading=!1,this.format=r=>{let o=new Date(r),s=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),l=String(o.getDate()).padStart(2,"0");return`${s}-${a}-${l}`}}ngOnInit(){this.memoAcitivities()}memoAcitivities(){this.isLoading=!0,this.httpRequest.makeGetRequest("/memo/memo_activities").subscribe(e=>{this.activities=e.data,this.isLoading=!1},e=>{console.log(e),this.isLoading=!1})}formatTime(e){let n=new Date(e),r=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0"),s=String(n.getSeconds()).padStart(2,"0");return`${r}:${o}:${s}`}static{this.\u0275fac=function(n){return new(n||i)(M(ce),M(Me))}}static{this.\u0275cmp=H({type:i,selectors:[["app-activities"]],decls:14,vars:2,consts:[[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header","d-md-flex","justify-content-between"],[1,"nav","justify-content-end","mt-4","mt-md-0"],[1,"nav-item"],["href","#",1,"nav-link","active"],["class","spinner-container",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[1,"row","mb-5"],[1,"col-md-12"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"avatar","mr-3"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[1,"d-md-flex","justify-content-between","mt-3",2,"margin-top","50ppx"],[1,"d-block"],[1,"link-1"],["href","#"]],template:function(n,r){n&1&&(d(0,"div",0),_(1,"app-navigation"),d(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2"),m(6,"Activities"),u(),d(7,"ul",4)(8,"li",5)(9,"a",6),m(10,"Memo"),u()()()(),L(11,dF,2,0,"div",7)(12,hF,4,1,"div",8),u()(),_(13,"app-sidebar"),u()),n&2&&(g(11),y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading))},dependencies:[xn,_n,se,nt,ge,Ne],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var yf=Nt(jt());var pF=()=>({standalone:!0});function mF(i,t){i&1&&(d(0,"div",7)(1,"div",8),_(2,"div",9),u()())}function fF(i,t){if(i&1&&(d(0,"option",26),m(1),u()),i&2){let e=t.$implicit;y("value",e.id),g(),oe(e.RoleName)}}function gF(i,t){if(i&1){let e=J();d(0,"tr")(1,"td")(2,"a",30)(3,"figure",31),_(4,"img",32),u(),m(5),u()(),d(6,"td")(7,"a",33),m(8),u()(),d(9,"td"),m(10),u(),d(11,"td")(12,"span"),m(13),u()(),d(14,"td")(15,"div",34)(16,"a",35),_(17,"i",36),u(),d(18,"div",37)(19,"button",38),I("click",function(){let r=V(e).$implicit,o=C(3);return B(o.suspendUserMethod(r.id,o.suspendUser?"unsuspend":"suspend"))}),m(20),u(),d(21,"button",38),I("click",function(){let r=V(e).$implicit,o=C(3);return B(o.authentication(r.id))}),m(22,"Authentication"),u()(),_(23,"div",37),u()()()}if(i&2){let e=t.$implicit;g(5),U(" ",e==null?null:e.full_name," "),g(2),cg("href","mailto:",e==null?null:e.email,"",Qt),g(),oe(e==null?null:e.email),g(2),oe(e==null?null:e["UserRole.RoleName"]),g(2),Ws(e.is_locked_out?"bg-danger-bright text-danger badge":"badge bg-success-bright text-success"),g(),oe(e.is_locked_out?"Block":"Active"),g(7),U(" ",e.is_locked_out?"Unsuspend":"Suspend"," ")}}function vF(i,t){if(i&1&&(d(0,"div",27)(1,"table",28)(2,"thead")(3,"tr")(4,"th"),m(5,"Name"),u(),d(6,"th"),m(7,"Email"),u(),d(8,"th"),m(9,"Role"),u(),d(10,"th"),m(11,"Status"),u(),d(12,"th"),m(13,"Action"),u()()(),d(14,"tbody"),L(15,gF,24,9,"tr",29),u()()()),i&2){let e=C(2);g(15),y("ngForOf",e.makeFilter())}}function xF(i,t){if(i&1){let e=J();d(0,"div",10)(1,"div",11)(2,"h2"),m(3,"Users"),u(),d(4,"ul",12)(5,"li",13)(6,"a",14),_(7,"i",15),u(),d(8,"div",16)(9,"form")(10,"div",17)(11,"label"),m(12,"Role"),u(),d(13,"select",18),Tt("ngModelChange",function(r){V(e);let o=C();return St(o.selectedValue,r)||(o.selectedValue=r),B(r)}),d(14,"option",19),m(15,"Select a role"),u(),L(16,fF,2,2,"option",20),u()()()()(),d(17,"li",21)(18,"div",22),I("click",function(){V(e);let r=C();return B(r.createUser())}),_(19,"i",23),u()()()(),d(20,"div",24),L(21,vF,16,1,"div",25),u()()}if(i&2){let e=C();g(13),wt("ngModel",e.selectedValue),y("ngModelOptions",ft(5,pF)),g(),y("value",void 0),g(2),y("ngForOf",e.userRoles),g(5),y("ngIf",!e.isLoading)}}var fC=(()=>{class i{constructor(e,n,r,o,s,a,l){this.httpRequest=e,this.authData=n,this.local=o,this.handleModal=s,this.userServive=a,this.suspendUnsuspendUser=l,this.user=[],this.users=[],this.userRoles=[],this.userRoleRights=[],this.userProfile=[],this.selectedValue=void 0,this.isLoading=!0,this.makeFilter=()=>isNaN(this.selectedValue)?this.users:this.users.filter(c=>c.role_id==this.selectedValue)}ngOnInit(){this.userServive.refreshUser$.subscribe(e=>{e&&this.fetchUsers()}),this.suspendUnsuspendUser.suspendUser$.subscribe(e=>{e&&this.fetchUsers()}),this.httpRequest?.makeGetRequest("/users_management/user_roles/all").subscribe(e=>{if(this.userRoles=e.data,this.local.write("userRoles",this.userRoles),this.userRoles&&this.userRoles.length>0){let n=this.userRoles[0].Id;this.local.write("role_id",n),this.httpRequest?.makeGetRequest(`/users_management/user_role/right?roleId=${n}`).subscribe(r=>{this.userRoleRights=r.data},r=>{})}},e=>{})}fetchUsers(){this.httpRequest?.makeGetRequest("/users_management/users/all").subscribe(e=>{this.users=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}suspendUserMethod(e,n){this.httpRequest.makePatchRequest("/users_management/suspend_user_and_unsuspend_user",{identity:e}).subscribe(r=>{this.suspendUnsuspendUser.triggerSuspendUserRefresh(),(0,yf.default)({text:r.message,duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.suspendUser=n==="suspend"},r=>{(0,yf.default)({text:`${r.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast()})}createUser(){this.handleModal.showMother("new_user")}authentication(e){this.httpRequest.makePostRequest("/users_management/create_authenticator_secret",{identity:e}).subscribe(n=>{this.handleModal.showMother("authentication"),this.authData.setAuthData(n)},n=>{})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce),M(Re),M(si),M(ce),M(ce),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-users"]],decls:10,vars:2,consts:[[1,"layout-wrapper"],[1,"content-wrapper"],[1,"content-body"],[1,"row"],[1,"content"],["class","spinner-container",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"spinner-container"],[1,"text-center"],[1,"spinner"],[1,"col-md-12"],[1,"page-header","d-flex","justify-content-between"],[1,"nav"],[1,"nav-item","dropdown"],["href","#","title","Filter","data-toggle","dropdown",1,"nav-link"],[1,"ti-filter"],[1,"dropdown-menu","dropdown-menu-big","p-4","dropdown-menu-right"],[1,"form-group"],["id","roleSelect",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"nav-item","cursor-pointer"],["title","create user",1,"nav-link",3,"click"],[1,"ti-view-grid"],[1,"card","border-0"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["id","user-list",1,"table","table-borderless","table-hover"],[4,"ngFor","ngForOf"],["href","#"],[1,"avatar","avatar-sm","mr-2"],["src","../../assets/media/image/user/avatar2.jpg","alt","image",1,"rounded-circle"],[3,"href"],[1,"dropdown"],["href","#","data-toggle","dropdown",1,"btn","btn-floating"],[1,"ti-more-alt"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1),_(2,"app-header")(3,"app-navigation"),d(4,"div",2)(5,"div",3)(6,"div",4),L(7,mF,3,0,"div",5)(8,xF,22,6,"div",6),u()()(),_(9,"app-sidebar"),u()()),n&2&&(g(7),y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading))},dependencies:[se,nt,ge,xn,Dc,_n,rt,We,hr,pr,ur,Fe,$e,Pt,Di],styles:[".example-container[_ngcontent-%COMP%]{width:500px;height:300px;border:1px solid rgba(0,0,0,.5)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();var yu=Nt(jt());function _F(i,t){i&1&&(d(0,"thead")(1,"tr")(2,"th"),m(3,"Title"),u(),d(4,"th"),m(5,"Date"),u(),d(6,"th"),m(7,"Image"),u()()())}function yF(i,t){if(i&1&&(d(0,"tr")(1,"td"),m(2),u(),d(3,"td"),m(4),an(5,"date"),u(),d(6,"td"),_(7,"img",34),u()()),i&2){let e=t.$implicit;g(2),oe(e.Title),g(2),oe(ir(5,3,e.CreatedAt,"medium")),g(3),y("src",e.ESignFile,Qt)}}var gC=(()=>{class i{ngOnInit(){this.checkForExistingRecord();let e=this.http.makeGetRequest("/auth/user").subscribe(n=>{this.user=n.data},n=>{console.log(n)})}constructor(e,n){this.http=e,this.handleModal=n,this.imageSrc="../../assets/media/image/user/women_avatar1.jpg",this.base64Image=null,this.memoImage=null,this.data=void 0,this.user={},this.isLoading=!1,this.isLoadingImage=!1,this.esignature={title:"",image:""},this.recordExists=!1}onFileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=()=>{this.base64Image=r.result,this.imageSrc=this.base64Image},r.readAsDataURL(n)}}uploadImage(){if(this.isLoadingImage=!0,this.base64Image){let e={image:this.base64Image};this.http.makePatchRequest("/users_management/admin/change_profile_picture",e).subscribe(n=>{this.isLoadingImage=!1},n=>{console.error(n),this.isLoadingImage=!1})}else console.warn("No file selected. Please select an image before uploading.")}returnData(){return this.data||[]}handleImageChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=()=>{this.memoImage=r.result},r.readAsDataURL(n)}}eSignatures(){this.handleModal.showMother("esignature")}checkForExistingRecord(){this.isLoading=!0,this.http.makeGetRequest("/memo/mem_e_signature/all").subscribe(e=>{console.log(e),this.isLoading=!1,this.data=Array.isArray(e.data)?e.data:[],this.data.length>0&&(this.esignature=this.data[0],this.recordExists=!0),this.isLoading=!1},e=>{console.log(e),this.isLoading=!1})}fileChange(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=o=>{this.esignature.image=o.target.result},r.readAsDataURL(n)}}addESignature(){if(console.log(this.esignature),console.log(this.data[0].Id),!this.esignature.title||!this.esignature.image||!this.data[0].Id){(0,yu.default)({text:"Please fill in all required fields!",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}this.isLoading=!0,(this.data&&this.data.length>0?this.http.makePatchRequest("/memo/mem_e_signature/update/",be(R({},this.esignature),{identity:this.data[0].Id})):this.http.makePostRequest("/memo/mem_e_signature/create",this.esignature)).subscribe(n=>{(0,yu.default)({text:this.data.length>0?"E-Signature Updated Successfully!":"E-Signature Added Successfully!",duration:3e3,gravity:"top",position:"right",backgroundColor:"green"}).showToast(),this.data[0]=n.data,this.isLoading=!1},n=>{console.error(n),(0,yu.default)({text:"An error occurred. Please try again.",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast(),this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-settings"]],decls:89,vars:8,consts:[[1,"layout-wrapper"],[1,"content-wrapper"],[1,"content-body"],[1,"content"],[1,"page-header"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","nav-pills","mb-4"],["id","v-pills-home-tab","data-toggle","pill","href","#v-pills-home","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-item","nav-link","active"],["id","v-pills-messages-tab","data-toggle","pill","href","#v-pills-messages","role","tab","aria-controls","v-pills-messages","aria-selected","false",1,"nav-item","nav-link"],["id","v-pills-signature-tab","data-toggle","pill","href","#v-pills-signature","role","tab","aria-controls","v-pills-signature","aria-selected","false",1,"nav-item","nav-link"],["id","v-pills-tabContent",1,"tab-content"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","show","active"],[1,"content-title"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[1,"row","my-4"],[1,"form-group"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-primary","mb-5"],["id","v-pills-messages","role","tabpanel","aria-labelledby","v-pills-messages-tab",1,"tab-pane","fade"],["type","password",1,"form-control"],["id","v-pills-signature","role","tabpanel","aria-labelledby","v-pills-signature-tab",1,"tab-pane","fade"],[1,"esignatures-container"],["enctype","multipart/form-data",3,"ngSubmit"],["for","title"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary","my-5",3,"disabled"],[1,"card","border-0"],[1,"table-responsive"],["id","user-list",1,"table","table-borderless","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","E-Signature","width","100",1,"signature-image",3,"src"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1),_(2,"app-navigation"),d(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),m(7,"Settings"),u()(),d(8,"div",5)(9,"a",6),m(10,"Account"),u(),d(11,"a",7),m(12,"Security"),u(),d(13,"a",8),m(14,"E-Signature"),u()(),d(15,"div",9)(16,"div",10)(17,"div",11)(18,"h4"),m(19,"Account"),u()(),d(20,"div",12)(21,"div",13)(22,"div",14),_(23,"div")(24,"div"),u(),d(25,"form")(26,"div",15)(27,"div",13)(28,"div",16)(29,"label"),m(30,"Name"),u(),_(31,"input",17),u(),d(32,"div",16)(33,"label"),m(34,"Email"),u(),_(35,"input",17),u(),d(36,"div",16)(37,"label"),m(38,"Phone"),u(),_(39,"input",17),u()()(),d(40,"button",18),m(41,"Save Changes"),u()()()()(),d(42,"div",19)(43,"div",11)(44,"h4"),m(45,"Security"),u()(),d(46,"div",12)(47,"div",13)(48,"form")(49,"div",12)(50,"div",13)(51,"div",16)(52,"label"),m(53,"Old Password"),u(),_(54,"input",20),u(),d(55,"div",16)(56,"label"),m(57,"New Password"),u(),_(58,"input",20),u(),d(59,"div",16)(60,"label"),m(61,"New Password Repeat"),u(),_(62,"input",20),u()()(),d(63,"button",18),m(64,"Save Changes"),u()()()()(),d(65,"div",21)(66,"div",22)(67,"div",11)(68,"h4"),m(69,"E-Signatures Management"),u()(),d(70,"form",23),I("ngSubmit",function(){return r.addESignature()}),d(71,"div",12)(72,"div",13)(73,"div",16)(74,"label",24),m(75,"Title:"),u(),d(76,"input",25),Tt("ngModelChange",function(s){return St(r.esignature.title,s)||(r.esignature.title=s),s}),u()(),d(77,"label",26),m(78,"Upload Image:"),u(),d(79,"input",27),I("change",function(s){return r.fileChange(s)}),u(),d(80,"button",28),m(81),u()()()(),d(82,"div",29)(83,"div",30)(84,"table",31),L(85,_F,8,0,"thead",32),d(86,"tbody"),L(87,yF,8,6,"tr",33),u()()()()()()()()(),_(88,"app-sidebar"),u()()),n&2&&(g(31),Ui("value",r.user==null?null:r.user.last_name),g(4),Ui("value",r.user==null?null:r.user.email),g(4),Ui("value",r.user==null?null:r.user.phone),g(37),wt("ngModel",r.esignature.title),g(4),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Loading.....":r.data&&r.data.length>0?"Update E-Signature":"Add E-Signature"," "),g(4),y("ngIf",r.returnData()&&r.returnData().length>0),g(2),y("ngForOf",r.returnData()))},dependencies:[xn,_n,rt,We,Oe,Fe,$e,ai,Pt,Di,se,nt,ge,zo],encapsulation:2})}}return i})();var bu=Nt(jt());var bF=i=>({"is-invalid":i});function CF(i,t){i&1&&(d(0,"small"),m(1,"OTP is required."),u())}function wF(i,t){i&1&&(d(0,"small"),m(1,"OTP must be at least 6 characters long."),u())}function SF(i,t){if(i&1&&(d(0,"div",9),L(1,CF,2,0,"small",10)(2,wF,2,0,"small",10),u()),i&2){let e=C();g(),y("ngIf",e.authForm.get("otp").errors.required),g(),y("ngIf",e.authForm.get("otp").errors.minlength)}}var vC=(()=>{class i{constructor(e,n,r,o,s){this.fb=e,this.router=n,this.local=r,this.httpRequest=o,this.handleModal=s,this.isLoading=!1,this.isSuccess=!0,this.message="",this.authForm=this.fb.group({otp:["",je.required]})}onSubmit(){if(!this.authForm.valid)(0,bu.default)({text:"Please fill all the fields",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();else{this.isLoading=!0;let e=this.authForm.value;this.httpRequest.makePostRequest("/auth/validate_two_fact_auth",e).subscribe({next:n=>{this.isLoading=!1,(0,bu.default)({text:"Authentication successful!",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.router.navigate(["/portal/dashboard"])},error:n=>{this.isLoading=!1,(0,bu.default)({text:`Authentication failed! ${n.error.message}`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()}})}}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(Re),M(si),M(Me),M(ce))}}static{this.\u0275cmp=H({type:i,selectors:[["app-twofactorauth"]],decls:13,vars:7,consts:[[1,"form-membership",2,"background-attachment","fixed !important","background-size","cover !important","background","url(../../assets/media/image/woman-hold-laptop-with-virtual-global-with-cyber-security-login-user-identification-informati.jpg)"],[1,"form-wrapper","animate_animated","animate_fadeIn"],["id","logo"],["src","../../assets/media/image/logo.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","otp","formControlName","otp","placeholder","number","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","mt-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),u(),d(4,"h5"),m(5,"Two Factor Authentication"),u(),d(6,"form",4),I("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),_(8,"input",6),L(9,SF,3,2,"div",7),u(),d(10,"button",8),m(11),u(),_(12,"hr"),u()()()),n&2&&(g(6),y("formGroup",r.authForm),g(2),y("ngClass",oi(5,bF,r.authForm.get("otp").invalid&&r.authForm.get("otp").touched)),g(),y("ngIf",r.authForm.get("otp").invalid&&r.authForm.get("otp").touched),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[se,Yi,ge,Ne,We,Oe,Fe,$e,ai,Et,Mt],styles:[".alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border-radius:5px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}"]})}}return i})();var xC=(i,t)=>{let e=G(Re);return G(si).read("data")||e.navigate(["/login"]),!0},_C=(i,t)=>{let e=G(Re);return G(si).read("isAdmin")||e.navigate(["/portal/dashboard"]),!0};function TF(i,t){i&1&&(d(0,"div",2),m(1,` Loading...
`),u())}function kF(i,t){if(i&1){let e=J();d(0,"div")(1,"label",5),m(2,"Enter your phone number:"),u(),d(3,"input",6),Tt("ngModelChange",function(r){V(e);let o=C(2);return St(o.phoneNumber,r)||(o.phoneNumber=r),B(r)}),u(),d(4,"button",7),I("click",function(){V(e);let r=C(2);return B(r.sendSmsOtp())}),m(5,"Send OTP"),u()()}if(i&2){let e=C(2);g(3),wt("ngModel",e.phoneNumber)}}function EF(i,t){if(i&1){let e=J();d(0,"div")(1,"label",8),m(2,"Enter your email:"),u(),d(3,"input",9),Tt("ngModelChange",function(r){V(e);let o=C(2);return St(o.email,r)||(o.email=r),B(r)}),u(),d(4,"button",10),I("click",function(){V(e);let r=C(2);return B(r.sendEmailOtp())}),m(5,"Send OTP"),u()()}if(i&2){let e=C(2);g(3),wt("ngModel",e.email)}}function MF(i,t){if(i&1){let e=J();d(0,"div")(1,"label",11),m(2,"Enter OTP:"),u(),d(3,"input",12),Tt("ngModelChange",function(r){V(e);let o=C(2);return St(o.otp,r)||(o.otp=r),B(r)}),u(),d(4,"button",10),I("click",function(){V(e);let r=C(2);return B(r.verifyOtp())}),m(5,"Verify OTP"),u()()}if(i&2){let e=C(2);g(3),wt("ngModel",e.otp)}}function AF(i,t){if(i&1&&(d(0,"div"),m(1),u()),i&2){let e=C(2);g(),oe(e.message)}}function DF(i,t){if(i&1&&(d(0,"div")(1,"h2"),m(2,"Your current location is:"),u(),d(3,"p"),m(4),u(),d(5,"p"),m(6),u()()),i&2){let e=C(2);g(4),U("Latitude: ",e.latitude,""),g(2),U("Longitude: ",e.longitude,"")}}function LF(i,t){if(i&1&&(d(0,"div")(1,"p"),m(2),u()()),i&2){let e=C(2);g(2),U("Error: ",e.errorMessage,"")}}function IF(i,t){if(i&1&&(d(0,"div",3),L(1,kF,6,1,"div",4)(2,EF,6,1,"div",4)(3,MF,6,1,"div",4)(4,AF,2,1,"div",4)(5,DF,7,2,"div",4)(6,LF,3,1,"div",4),u()),i&2){let e=C();g(),y("ngIf",e.showPhoneOtpInput),g(),y("ngIf",e.showEmailOtpInput),g(),y("ngIf",e.showOtpVerification),g(),y("ngIf",e.message),g(),y("ngIf",e.latitude&&e.longitude),g(),y("ngIf",e.errorMessage)}}var yC=(()=>{class i{constructor(e){this.httpRequest=e,this.isLoading=!0,this.showPhoneOtpInput=!1,this.showEmailOtpInput=!1,this.showOtpVerification=!1,this.phoneNumber="",this.email="",this.otp="",this.message=""}ngOnInit(){this.performSecurityChecks(),this.getUserLocation()}performSecurityChecks(){this.checkIpSecurity().subscribe(e=>{if(!e){this.message="Access denied: IP address not allowed.",this.isLoading=!1;return}this.checkLocationSecurity().then(n=>{if(!n){this.message="Access denied: Location not allowed.",this.isLoading=!1;return}this.checkOtpSecurity()})})}checkIpSecurity(){return this.httpRequest.makeGetRequest("/api/check-ip-security")}checkLocationSecurity(){return new Promise(e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{let r={latitude:n.coords.latitude,longitude:n.coords.longitude};this.httpRequest.makePostRequest("/api/check-location-security",r).subscribe(e)},()=>e(!1)):e(!1)})}checkOtpSecurity(){this.httpRequest.makeGetRequest("/api/check-otp-security").subscribe(e=>{console.log(e)})}sendSmsOtp(){this.httpRequest.makePostRequest("/api/send-sms-otp",{phone:this.phoneNumber}).subscribe(e=>{this.showPhoneOtpInput=!1,this.showOtpVerification=!0})}sendEmailOtp(){this.httpRequest.makePostRequest("/api/send-email-otp",{email:this.email}).subscribe(e=>{this.showEmailOtpInput=!1,this.showOtpVerification=!0})}verifyOtp(){this.httpRequest.makePostRequest("/api/verify-otp",{otp:this.otp}).subscribe(e=>{e?this.message="Access granted: OTP verified successfully.":this.message="Access denied: Invalid OTP.",this.isLoading=!1})}getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.latitude=e.coords.latitude,this.longitude=e.coords.longitude},e=>{switch(e.code){case e.PERMISSION_DENIED:this.errorMessage="User denied the request for Geolocation.";break;case e.POSITION_UNAVAILABLE:this.errorMessage="Location information is unavailable.";break;case e.TIMEOUT:this.errorMessage="The request to get user location timed out.";break}}):this.errorMessage="Geolocation is not supported by this browser."}static{this.\u0275fac=function(n){return new(n||i)(M(Me))}}static{this.\u0275cmp=H({type:i,selectors:[["app-security-check"]],decls:2,vars:2,consts:[["class","loading-spinner",4,"ngIf"],["class","col-6 mx-auto",4,"ngIf"],[1,"loading-spinner"],[1,"col-6","mx-auto"],[4,"ngIf"],["for","phone"],["id","phone","type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700","my-2",3,"click"],["for","email"],["id","email","type","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"click"],["for","otp"],["id","otp","type","text",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&L(0,TF,2,0,"div",0)(1,IF,7,6,"div",1),n&2&&(y("ngIf",r.isLoading),g(),y("ngIf",!r.isLoading))},dependencies:[rt,Oe,Fe,Pt,Ne,se,ge],encapsulation:2})}}return i})();var Cu=Nt(jt());function OF(i,t){if(i&1&&(d(0,"tbody")(1,"tr")(2,"td"),m(3),u(),d(4,"td"),m(5),u()()()),i&2){let e=t.$implicit;g(3),oe(e==null?null:e.key),g(2),oe(e==null?null:e.value)}}function FF(i,t){if(i&1&&(d(0,"div")(1,"table",15),L(2,OF,6,2,"tbody",16),u()()),i&2){let e=C(2);g(2),y("ngForOf",e.data.MemMetadata)}}function NF(i,t){if(i&1&&(d(0,"div",17)(1,"p",18),m(2,"Signature"),u(),_(3,"img",19),u()),i&2){let e=C(2);g(3),Ui("src",e.data==null?null:e.data.signature.ESignFile,Qt)}}function RF(i,t){if(i&1&&(et(0),d(1,"div",6)(2,"div",7)(3,"div",8),_(4,"img",9)(5,"img",10),u(),_(6,"div"),d(7,"h1",11),m(8),u(),_(9,"hr")(10,"div",12),L(11,FF,3,1,"div",1),d(12,"div",13),L(13,NF,4,1,"div",14),u()()(),tt()),i&2){let e=C();g(5),Ui("src",e.data==null?null:e.data.MemQuickResponse,Qt),g(3),oe(e.data==null?null:e.data.MemTitle),g(2),y("innerHTML",e.data==null?null:e.data.MemContents,tr),g(),y("ngIf",e.data.MemMetadata),g(2),y("ngIf",e.data==null?null:e.data.IncludeSignature)}}function PF(i,t){if(i&1&&(d(0,"div",20),m(1),u()),i&2){let e=C();g(),U(" ",e.message," ")}}function VF(i,t){if(i&1&&(d(0,"div",21),m(1),u()),i&2){let e=C();g(),U(" ",e.message," ")}}function BF(i,t){i&1&&(d(0,"div",22),_(1,"div",23),u())}function zF(i,t){if(i&1){let e=J();d(0,"div",24)(1,"h3",25),m(2,"This is a restricted document"),u(),d(3,"p",26),m(4,"Please enter your email or phone number to receive an OTP:"),u(),d(5,"input",27),Tt("ngModelChange",function(r){V(e);let o=C();return St(o.identity,r)||(o.identity=r),B(r)}),u(),d(6,"button",28),I("click",function(){V(e);let r=C();return B(r.sendIdentityOtp())}),m(7),u()()}if(i&2){let e=C();g(5),wt("ngModel",e.identity),g(),y("disabled",e.isLoader),g(),U(" ",e.isLoader?"Loading ...":"Send OTP"," ")}}var bC=(()=>{class i{constructor(e,n){this.http=e,this.route=n,this.itemId=null,this.status="isLoading",this.message="",this.data=void 0,this.isLoader=!1,this.identity="",this.identityOtp="",this.identityOtpSent=!1,this.isVerified=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.itemId=e.get("id"),this.getData()})}getData(){navigator.geolocation.getCurrentPosition(e=>{let n=e.coords.latitude,r=e.coords.longitude;if(!n||!r){this.status="error",this.message="Unable to retrieve your location coordinates.";return}this.status="isLoading",this.http.makeGetRequest(`/memo/get_mem_by_memuniqueid/?id=${this.itemId}&lat=${n}&long=${r}`).subscribe(o=>{o.data?(this.status="data",this.data=o.data,this.data.MemMetadata&&(this.data.MemMetadata=JSON.parse(this.data.MemMetadata))):o.requireAccess?this.status="requireAccess":(this.status="message",this.message=o.message)},o=>{this.status="error",this.message=o.error.message})},e=>{this.status="error",this.message="This page requires your location to fetch the data"},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}sendIdentityOtp(){if(!this.identity){(0,Cu.default)({text:"input cannot be empty",duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast();return}this.isLoader=!0;let e={identity:this.identity,memId:this.itemId};this.http.makePostRequest("/memo/verify_viewer_identity/",e).subscribe(n=>{this.status="Next_token",(0,Cu.default)({text:"success",duration:3e3,gravity:"top",position:"right",backgroundColor:"blue"}).showToast(),this.isLoader=!1},n=>{this.isLoader=!1,this.message=n.error.message,(0,Cu.default)({text:`${n.error.message};`,duration:3e3,gravity:"top",position:"right",backgroundColor:"red"}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(M(Me),M(xi))}}static{this.\u0275cmp=H({type:i,selectors:[["app-external-viewer"]],decls:6,vars:5,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","py-5","bg-light"],[4,"ngIf"],["class","alert alert-danger text-center mt-4",4,"ngIf"],["class","alert alert-info text-center mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["id","verification","class","card shadow-sm p-4 mt-4 bg-white rounded","style","max-width: 400px; width: 100%;",4,"ngIf"],[1,"card","shadow-sm","p-4","mb-5","bg-white","rounded","memo-content"],[1,"card-body","text-start"],[1,"logo","w-25","mx-auto"],["src","../../assets/media/image/logo.png","alt","logo",2,"width","100%","margin","16px 0px"],["alt","Image",1,"img-fluid",2,"width","150px","margin-left","185%","margin-top","-200%",3,"src"],[1,"card-title","text-dark","mb-3","text-center",2,"font-size","30px","font-weight","bold"],[1,"card-text","fs-6",3,"innerHTML"],[1,"d-flex","align-items-center","justify-content-end","mt-4"],["class","text-center",4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-muted","mb-1","small"],["alt","Signature",1,"img-fluid",2,"width","80px",3,"src"],[1,"alert","alert-danger","text-center","mt-4"],[1,"alert","alert-info","text-center","mt-4"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],["id","verification",1,"card","shadow-sm","p-4","mt-4","bg-white","rounded",2,"max-width","400px","width","100%"],[1,"text-center","mb-3"],[1,"text-muted","text-center","mb-4"],["type","text","placeholder","Enter email or phone number",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click","disabled"]],template:function(n,r){n&1&&(d(0,"div",0),L(1,RF,14,5,"ng-container",1)(2,PF,2,1,"div",2)(3,VF,2,1,"div",3)(4,BF,2,0,"div",4)(5,zF,8,3,"div",5),u()),n&2&&(g(),y("ngIf",r.status==="data"),g(),y("ngIf",r.status==="error"),g(),y("ngIf",r.status==="message"),g(),y("ngIf",r.status==="isLoading"),g(),y("ngIf",r.status==="requireAccess"))},dependencies:[se,nt,ge,Ne,Oe,Fe,rt,Pt],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#verification[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px;padding:20px}.memo-content[_ngcontent-%COMP%]{max-width:60%}"]})}}return i})();var HF=()=>["/"],CC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-pagenotfound"]],decls:7,vars:2,consts:[[1,"page-not-found","cursor-pointer"],[1,"cursor-pointer",3,"routerLink"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"h1"),m(2,"404"),u(),d(3,"p"),m(4,"The page you are looking for does not exist."),u(),d(5,"a",1),m(6,"Go back to Home"),u()()),n&2&&(g(5),y("routerLink",ft(1,HF)))},dependencies:[lr],styles:[".page-not-found[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.page-not-found[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:72px;margin-bottom:20px}.page-not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;margin-bottom:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.page-not-found[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#007bff;text-decoration:none}.page-not-found[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return i})();var bf=Nt(jt());var jF=i=>({"is-invalid":i});function $F(i,t){i&1&&(d(0,"small"),m(1,"Identity is required."),u())}function GF(i,t){i&1&&(d(0,"small"),m(1,"Please enter a valid email."),u())}function qF(i,t){if(i&1&&(d(0,"div",17),L(1,$F,2,0,"small",18)(2,GF,2,0,"small",18),u()),i&2){let e=C();g(),y("ngIf",e.forgotPasswordForm.get("identity").errors.required),g(),y("ngIf",e.forgotPasswordForm.get("identity").errors.email)}}var wC=(()=>{class i{constructor(e,n,r,o){this.fb=e,this.router=n,this.local=r,this.httpRequest=o,this.isLoading=!1,this.forgotPasswordForm=this.fb.group({identity:["",Id.required]})}onSubmit(){if(this.forgotPasswordForm.invalid)return;this.isLoading=!0;let e=this.forgotPasswordForm.value;this.httpRequest.makePostRequest("/auth/forgot_password",e).subscribe(n=>{(0,bf.default)({text:"success",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.local.write("passwordToken",n.token),this.router.navigate(["/passwordAuth"]),this.forgotPasswordForm.reset(),this.isLoading=!1},n=>{this.isLoading=!1,(0,bf.default)({text:`${n.error.message}`,backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(Re),M(si),M(Me))}}static{this.\u0275cmp=H({type:i,selectors:[["app-forgotpassword"]],decls:51,vars:7,consts:[[1,"login-page"],[1,"left-panel"],[1,"features-grid"],[1,"row"],[1,"col-3","feature-item"],[1,"fa","fa-lock"],["href","tel:+23414721521"],["href","tel:+23412790421"],["href","mailto:cpd@ncaa.gov.ng"],["href","https://www.ncaa.gov.ng"],[1,"right-panel"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","identity","placeholder","Identity (Username or Email)","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),m(4,"IMSET-AI 4.2"),u(),d(5,"h1"),m(6,"INTEGRATED MEMO SECURITY TERMINAL"),u(),d(7,"p"),m(8,"A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information"),u(),d(9,"div",2)(10,"div",3)(11,"div",4),_(12,"i",5),d(13,"p"),m(14,"Security"),u()(),d(15,"div",4),_(16,"i",5),d(17,"p"),m(18,"Confidentiality"),u()(),d(19,"div",4),_(20,"i",5),d(21,"p"),m(22,"integrity"),u()(),d(23,"div",4),_(24,"i",5),d(25,"p"),m(26,"availability"),u()()()()(),d(27,"address"),m(28," Aviation House P.M.B. 21029 Ikeja Murtala Mohammed Airport Ikeja Lagos"),_(29,"br"),d(30,"a",6),m(31,"+234-1-472-1521"),u(),m(32,", "),d(33,"a",7),m(34,"+234-1-279-0421"),u(),_(35,"br"),d(36,"a",8),m(37,"cpd.gov.ng"),u(),_(38,"br"),d(39,"a",9),m(40,"www.ncaa.gov.ng"),u()()(),d(41,"div",10)(42,"div",11)(43,"h2"),m(44,"Forgot Password"),u(),d(45,"form",12),I("ngSubmit",function(){return r.onSubmit()}),d(46,"div",13),_(47,"input",14),L(48,qF,3,2,"div",15),u(),d(49,"button",16),m(50),u()()()()()),n&2&&(g(45),y("formGroup",r.forgotPasswordForm),g(2),y("ngClass",oi(5,jF,r.forgotPasswordForm.get("identity").invalid&&r.forgotPasswordForm.get("identity").touched)),g(),y("ngIf",r.forgotPasswordForm.get("identity").invalid&&r.forgotPasswordForm.get("identity").touched),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Logging in...":"Login"," "))},dependencies:[se,Yi,ge,Ne,We,Oe,Fe,$e,ai,Et,Mt],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;overflow:hidden}.login-page[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-panel[_ngcontent-%COMP%]{width:60%;background-color:#111c44;color:#fff;padding:2.5rem 4rem;display:flex;flex-direction:column;justify-content:space-between}.left-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1rem}.left-panel[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:3rem}.features-grid[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:2rem;margin:2rem 0;margin-top:100px}.feature-item[_ngcontent-%COMP%]{text-align:center}.feature-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:1rem;filter:invert(1)}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:#fffc}address[_ngcontent-%COMP%]{font-style:normal;font-size:.9rem;line-height:1.8}address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.right-panel[_ngcontent-%COMP%]{width:40%;background-color:#f8f9fa;padding:2rem;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:2rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.forgot-password[_ngcontent-%COMP%]{color:#3182ce;text-decoration:none;font-size:.9rem;display:block;margin-bottom:1.5rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#2563eb;border:none;border-radius:8px;color:#fff;font-weight:500;text-align:center;display:flex;justify-content:center}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1d4ea8}"]})}}return i})();var wu=Nt(jt());var UF=i=>({"is-invalid":i});function WF(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),u())}function XF(i,t){i&1&&(d(0,"small"),m(1,"Password must be at least 6 characters long."),u())}function YF(i,t){if(i&1&&(d(0,"div",9),L(1,WF,2,0,"small",10)(2,XF,2,0,"small",10),u()),i&2){let e=C();g(),y("ngIf",e.authForm.get("otp").errors.required),g(),y("ngIf",e.authForm.get("otp").errors.minlength)}}var SC=(()=>{class i{constructor(e,n,r){this.fb=e,this.http=n,this.router=r,this.isLoading=!1}ngOnInit(){this.token=JSON.parse(localStorage.getItem("passwordToken")),this.authForm=new Ai({otp:new _e("",[je.required])})}onSubmit(){if(!this.authForm.valid){(0,wu.default)({text:"OTP cannot be empty.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast();return}this.isLoading=!0;let e=this.authForm.value,n=new ki({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"});this.http.post("https://lendnode.creditclan.com/memo/api/auth/verify_two_fact_auth",e,{headers:n}).subscribe(r=>{this.isLoading=!1,(0,wu.default)({text:"OTP verified successfully!",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.router.navigate(["/resetPassword"])},r=>{this.isLoading=!1,(0,wu.default)({text:"Failed to verify OTP. Please try again.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(An),M(Re))}}static{this.\u0275cmp=H({type:i,selectors:[["app-passwordauth"]],decls:13,vars:7,consts:[[1,"form-membership",2,"background","url(../../assets/media/image/image1.jpg)"],[1,"form-wrapper"],["id","logo"],["src","../../assets/media/image/logo-dark.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","otp","formControlName","otp","placeholder","number","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),u(),d(4,"h5"),m(5,"Enter your Otp"),u(),d(6,"form",4),I("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),_(8,"input",6),L(9,YF,3,2,"div",7),u(),d(10,"button",8),m(11),u(),_(12,"hr"),u()()()),n&2&&(g(6),y("formGroup",r.authForm),g(2),y("ngClass",oi(5,UF,r.authForm.get("otp").invalid&&r.authForm.get("otp").touched)),g(),y("ngIf",r.authForm.get("otp").invalid&&r.authForm.get("otp").touched),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[se,Yi,ge,Ne,We,Oe,Fe,$e,ai,Et,Mt],encapsulation:2})}}return i})();var Su=Nt(jt());var TC=i=>({"is-invalid":i});function QF(i,t){i&1&&(d(0,"small"),m(1,"Password is required."),u())}function KF(i,t){i&1&&(d(0,"small"),m(1,"password is required."),u())}function JF(i,t){if(i&1&&(d(0,"div",10),L(1,QF,2,0,"small",11)(2,KF,2,0,"small",11),u()),i&2){let e=C();g(),y("ngIf",e.resetPassword.get("password").errors.required),g(),y("ngIf",e.resetPassword.get("identity").errors.required)}}function ZF(i,t){i&1&&(d(0,"small"),m(1,"Confirm Password is required."),u())}function e5(i,t){i&1&&(d(0,"small"),m(1,"Passwords must match."),u())}function t5(i,t){if(i&1&&(d(0,"div",10),L(1,ZF,2,0,"small",11)(2,e5,2,0,"small",11),u()),i&2){let e=C();g(),y("ngIf",e.resetPassword.get("confirmPassword").errors.required),g(),y("ngIf",e.resetPassword.errors.passwordMismatch)}}var kC=(()=>{class i{constructor(e,n,r){this.fb=e,this.http=n,this.router=r,this.isLoading=!1}ngOnInit(){this.token=JSON.parse(localStorage.getItem("passwordToken")),this.resetPassword=this.fb.group({password:["",[je.required]],confirmPassword:["",[je.required]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(e){return e.get("password").value===e.get("confirmPassword").value?null:{passwordMismatch:!0}}onSubmit(){if(this.resetPassword.errors?.passwordMismatch){(0,Su.default)({text:"Passwords do not match.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast();return}if(this.resetPassword.valid){this.isLoading=!0;let e=this.resetPassword.value,n=new ki({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"});this.http.patch("https://lendnode.creditclan.com/memo/api/auth/reset_password",{password:e.password},{headers:n}).subscribe(r=>{console.log(r),this.isLoading=!1,(0,Su.default)({text:"Password reset request submitted successfully!",backgroundColor:"blue",gravity:"top",position:"right",duration:3e3}).showToast(),this.router.navigate(["/login"])},r=>{console.error(r),this.isLoading=!1,(0,Su.default)({text:"An error occurred. Please try again.",backgroundColor:"red",gravity:"top",position:"right",duration:3e3}).showToast()})}}static{this.\u0275fac=function(n){return new(n||i)(M(Jt),M(An),M(Re))}}static{this.\u0275cmp=H({type:i,selectors:[["app-passwordreset"]],decls:15,vars:11,consts:[[1,"form-membership",2,"background","url(../../assets/media/image/image1.jpg)"],[1,"form-wrapper"],["id","logo"],["src","../../assets/media/image/logo-dark.png","alt","image"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","password","formControlName","password","placeholder","New Password","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-700",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),u(),d(4,"h5"),m(5,"Reset Password"),u(),d(6,"form",4),I("ngSubmit",function(){return r.onSubmit()}),d(7,"div",5),_(8,"input",6),L(9,JF,3,2,"div",7),u(),d(10,"div",5),_(11,"input",8),L(12,t5,3,2,"div",7),u(),d(13,"button",9),m(14),u()()()()),n&2&&(g(6),y("formGroup",r.resetPassword),g(2),y("ngClass",oi(7,TC,r.resetPassword.get("password").invalid&&r.resetPassword.get("password").touched)),g(),y("ngIf",r.resetPassword.get("password").invalid&&r.resetPassword.get("password").touched),g(2),y("ngClass",oi(9,TC,r.resetPassword.get("confirmPassword").invalid&&r.resetPassword.get("confirmPassword").touched)),g(),y("ngIf",r.resetPassword.get("confirmPassword").invalid&&r.resetPassword.get("confirmPassword").touched),g(),y("disabled",r.isLoading),g(),U(" ",r.isLoading?"Submitting...":"Submit"," "))},dependencies:[se,Yi,ge,Ne,We,Oe,Fe,$e,ai,Et,Mt],encapsulation:2})}}return i})();var EC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,r){n&1&&(d(0,"div"),_(1,"router-outlet"),u())},dependencies:[Ac,$r],encapsulation:2})}}return i})();var MC=(()=>{class i{constructor(e,n){this.router=e,this.route=n,this.macAddress="XX:XX:XX:XX:XX:XX"}ngOnInit(){this.route.queryParams.subscribe(e=>{let n=e.mac;n&&(this.macAddress=n)})}navigateToLogin(){this.router.navigate(["/login"],{queryParams:{mac:this.macAddress}})}static{this.\u0275fac=function(n){return new(n||i)(M(Re),M(xi))}}static{this.\u0275cmp=H({type:i,selectors:[["app-navbar"]],decls:8,vars:0,consts:[[1,"navbar","navbar-expand-lg","px-4","justify-content-between"],["href","#",1,"navbar-brand","d-flex","align-items-center","gap-2"],["src","assets/media/image/logo.png","width","30","height","30","alt","coindox"],[1,"brand-text"],[1,"button",3,"click"]],template:function(n,r){n&1&&(d(0,"nav",0)(1,"a",1),_(2,"img",2),d(3,"span",3),m(4,"IMSET-AI 4.2"),u()(),d(5,"button",4),I("click",function(){return r.navigateToLogin()}),d(6,"span"),m(7,"LOGIN"),u()()())},styles:['.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:#0b0e13;z-index:1000;display:flex;align-items:center;padding:1rem 2rem;box-shadow:0 2px 5px #0000001a}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;font-size:1.5rem;color:#fff;text-transform:uppercase}.navbar-brand[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#fff}.nav-link[_ngcontent-%COMP%]{color:#fff!important;font-size:1rem;font-weight:700;padding:.5rem 1.5rem!important;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#00bcd4!important}.btn-dark[_ngcontent-%COMP%]{background-color:#24292e;border:none;color:#fff;padding:.5rem 1rem;font-size:1rem;border-radius:5px}.btn-dark[_ngcontent-%COMP%]:hover{background-color:#3a3f45}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;padding:.5rem 1rem;font-size:1rem;border-radius:5px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.navbar-nav[_ngcontent-%COMP%]{display:flex;gap:2rem}.nav-item[_ngcontent-%COMP%]{list-style:none}.d-flex[_ngcontent-%COMP%]{gap:1rem;display:flex;align-items:center}.button[_ngcontent-%COMP%]{background:transparent;position:relative;padding:0 15px;display:flex;align-items:center;font-size:17px;font-weight:600;text-decoration:none;cursor:pointer;border:1px solid white;border-radius:25px;outline:none;overflow:hidden;color:#fff;transition:color .3s .1s ease-out;text-align:center}.button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px}.button[_ngcontent-%COMP%]:before{position:absolute;margin:auto;content:"";border-radius:50%;display:block;width:20em;height:20em;inset:0 0 0 -5em;text-align:center;transition:box-shadow .5s ease-out;z-index:-1}.button[_ngcontent-%COMP%]:hover{color:#000;border:1px solid white}.button[_ngcontent-%COMP%]:hover:before{box-shadow:inset 0 0 0 10em #fff}']})}}return i})();var AC=(()=>{class i{constructor(e){this.router=e}static{this.\u0275fac=function(n){return new(n||i)(M(Re))}}static{this.\u0275cmp=H({type:i,selectors:[["app-navigating"]],decls:24,vars:0,consts:[[1,"hero-bg"],[1,"row","align-items-center","absolute","p-4"],["id","landing-page",1,"col-6"],[1,"navigating"],[1,"text-white-50","mb-4","my-5"],[1,"col-6"],["id","safesecure",1,"d-flex","justify-content-center","align-items-center"],[1,"text-white","mt-2"],["src","assets/media/image/safe.png","width","40","height","40","alt","logo",1,"logo"],["id","safesecure2",1,"d-flex","justify-content-center","align-items-center"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m(4," INTEGRATED MEMO "),u(),d(5,"h1",3),m(6,"SECURITY TERMINAL (IMSET AI)"),u(),d(7,"p",4),m(8," A comprehensive system designed to protect organization\u2019s sensitive\xA0information "),u()(),d(9,"div",5)(10,"div",6)(11,"p",7),m(12,"Secure & safe"),u(),_(13,"img",8),d(14,"p",7),m(15,"Trustworthy"),u(),_(16,"img",8),u(),d(17,"div",9)(18,"p",7),m(19,"Tested"),u(),_(20,"img",8)(21,"img",8),d(22,"p",7),m(23,"Optimized"),u()()()()())},styles:['.hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:100px 20px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#ddd}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;max-width:600px;margin:0 auto;color:#ddd}.features[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:40px;gap:50px}.feature[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.1rem}.icon[_ngcontent-%COMP%], .feature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00bcd4;font-size:1.5rem}#landing-page[_ngcontent-%COMP%]{margin-top:130px}.navigating[_ngcontent-%COMP%]{color:#fff;font-size:50px;font-weight:light}#safesecure[_ngcontent-%COMP%]{margin-top:100px;gap:10px;font-size:20px;margin-left:100px}#safesecure2[_ngcontent-%COMP%]{gap:50px;margin-top:200px;font-size:20px}#white-paper[_ngcontent-%COMP%]{gap:20px}.custom-button[_ngcontent-%COMP%]{padding:1.1em 2em;background:none;border:2px solid #fff;font-size:15px;color:#fff;cursor:pointer;position:relative;overflow:hidden;transition:all .3s;border-radius:12px;font-weight:700}.get-started[_ngcontent-%COMP%]{background-color:#04060e;color:#fff!important}.white-paper[_ngcontent-%COMP%]{background-color:#333;color:#fff!important}.custom-button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:120%;background-color:green;top:50%;transform:skew(30deg) translate(-150%,-50%);transition:all .5s}.custom-button[_ngcontent-%COMP%]:hover{color:#fff;box-shadow:0 2px 0 2px #0d3b66;box-shadow:0 2px 0 2px green}.custom-button[_ngcontent-%COMP%]:hover:before{transform:skew(30deg) translate(150%,-50%);transition-delay:.1s}.custom-button[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (max-width: 991px){.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.navigating[_ngcontent-%COMP%]{font-size:30px}#safesecure[_ngcontent-%COMP%], #safesecure2[_ngcontent-%COMP%]{margin-left:0;margin-top:50px}}@media (max-width: 767px){.hero[_ngcontent-%COMP%]{padding:50px 20px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.navigating[_ngcontent-%COMP%]{font-size:40px}.features[_ngcontent-%COMP%]{flex-direction:column;gap:30px}#landing-page[_ngcontent-%COMP%]{margin-top:50px}#safesecure[_ngcontent-%COMP%], #safesecure2[_ngcontent-%COMP%]{margin-top:30px}}']})}}return i})();var DC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-landingpageusers"]],decls:72,vars:0,consts:[[1,"users-section"],[1,"section-title","text-center"],[1,"section-subtitle","text-center"],[1,"row","justify-content-between","align-items-center"],[1,"col-md-4","user-card"],[1,"card-corner"],["src","assets/media/image/personal.jpeg","width","100","height","100","alt","logo"],[1,"feature-list"],[1,"feature-item"],["src","assets/media/image/check.svg","width","20","height","20","alt","logo"],[1,"feature-content"],["src","assets/media/image/check.svg","width","30","height","30","alt","logo"],[1,"col-md-3","text-center"],["id","cdesign","src","assets/media/image/cdesign.png","width","400","height","400","alt","logo"],["src","assets/media/image/commercial.png","width","100","height","100","alt","logo",1,"logo"]],template:function(n,r){n&1&&(d(0,"section",0)(1,"div")(2,"h2",1),m(3,"Features"),u(),d(4,"p",2),m(5,"Tailored for Integrity & Confidentiality"),u(),d(6,"div",3)(7,"div",4),_(8,"div",5)(9,"img",6),d(10,"div",7)(11,"div",8),_(12,"img",9),d(13,"div",10)(14,"h4"),m(15,"Confidentiality"),u(),d(16,"p"),m(17,"Keeping information secret or private to protect it from unauthorized acces"),u()()(),d(18,"div",8),_(19,"img",9),d(20,"div",10)(21,"h4"),m(22,"Security"),u(),d(23,"p"),m(24,"Information protection against unauthorized access."),u()()(),d(25,"div",8),_(26,"img",9),d(27,"div",10)(28,"h4"),m(29,"Integrity"),u(),d(30,"p"),m(31,"Accuracy and Completeness of Information."),u()()(),d(32,"div",8),_(33,"img",11),d(34,"div",10)(35,"h4"),m(36,"Intelligent"),u(),d(37,"p"),m(38,"Essential proactive communication"),u()()()()(),d(39,"div",12),_(40,"img",13),u(),d(41,"div",4),_(42,"img",14),d(43,"div",7)(44,"div",8),_(45,"img",9),d(46,"div",10)(47,"h4"),m(48,"Geofencing"),u(),d(49,"p"),m(50,"Boundary access to the viewers."),u()()(),d(51,"div",8),_(52,"img",9),d(53,"div",10)(54,"h4"),m(55,"IP Fencing"),u(),d(56,"p"),m(57,"Boundary access to the viewers."),u()()(),d(58,"div",8),_(59,"img",9),d(60,"div",10)(61,"h4"),m(62,"Multifactor Authentication"),u(),d(63,"p"),m(64,"Multi level authentication framework"),u()()(),d(65,"div",8),_(66,"img",11),d(67,"div",10)(68,"h4"),m(69,"Mac Fencing"),u(),d(70,"p"),m(71,"System level access restriction"),u()()()()()()()())},styles:[".users-section[_ngcontent-%COMP%]{padding:80px 100px;color:#fff}.section-title[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-subtitle[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:3rem}.user-card[_ngcontent-%COMP%]{background-color:#111;border-radius:15px;padding:2rem;position:relative}.card-corner[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-20px;width:40px;height:40px;background:#fff;transform:rotate(45deg)}.hexagon-icon[_ngcontent-%COMP%]{background-color:#1a1a1a;width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:10px;margin-bottom:1.5rem}.hexagon-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:1.5rem}.user-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.feature-item[_ngcontent-%COMP%]{display:flex;gap:1rem}.bullet[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid #333;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-top:5px}.bullet[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#007bff;border-radius:50%}.feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem}.feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0}#cdesign[_ngcontent-%COMP%]{margin-left:-60px;z-index:-1}.circuit-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}}return i})();var LC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-addressblockchain"]],decls:41,vars:0,consts:[[1,"pain-points-section"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6","position-relative"],[1,"gradient-circle"],["src","assets/media/image/circle.png","width","500","height","500","alt","logo"],[1,"lock-icon"],["src","assets/media/image/lockicon.png","width","150","height","150","alt","logo"],[1,"col-md-6"],[1,"section-title","mb-4"],[1,"section-description","mb-5"],[1,"pain-points-list"],[1,"row"],[1,"pain-point-item"],[1,"star-icon"]],template:function(n,r){n&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_(5,"img",5),u(),d(6,"div",6),_(7,"img",7),u()(),d(8,"div",8)(9,"h1",9),m(10,"INTEGRATED MEMO SECURITY TERMINAL (IMSET AI)"),u(),d(11,"p",10),m(12," A comprehensive system designed to protect the integrity, accessibility, availability organization\u2019s sensitive information "),u(),d(13,"div",11)(14,"div",12)(15,"div",8)(16,"div",13)(17,"span",14),m(18,"\u2605"),u(),m(19," Privacy and Security "),u(),d(20,"div",13)(21,"span",14),m(22,"\u2605"),u(),m(23," Confidentiality "),u(),d(24,"div",13)(25,"span",14),m(26,"\u2605"),u(),m(27," Integrity "),u()(),d(28,"div",8)(29,"div",13)(30,"span",14),m(31,"\u2605"),u(),m(32," Intelligent "),u(),d(33,"div",13)(34,"span",14),m(35,"\u2605"),u(),m(36," Multifactor Authentication "),u(),d(37,"div",13)(38,"span",14),m(39,"\u2605"),u(),m(40," Geofencing "),u()()()()()()()())},styles:[".pain-points-section[_ngcontent-%COMP%]{background-color:#0a0a0a;padding:100px 0;color:#fff;min-height:100vh;display:flex;align-items:center}.section-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;line-height:1.2}.section-description[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem;line-height:1.6}.gradient-circle[_ngcontent-%COMP%]{position:relative}.lock-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:47%;transform:translate(-50%,-50%);z-index:1;color:#fff;font-size:3rem}.pain-point-item[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:10px}.star-icon[_ngcontent-%COMP%]{color:#00f2c3;font-size:1rem}@media (max-width: 768px){.gradient-circle[_ngcontent-%COMP%]{width:300px;height:300px;margin-bottom:50px}.section-title[_ngcontent-%COMP%]{font-size:2.5rem}}"]})}}return i})();var IC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-folder"]],decls:5,vars:0,consts:[[1,"landing-page"]],template:function(n,r){n&1&&(d(0,"div",0),_(1,"app-navbar")(2,"app-navigating")(3,"app-landingpageusers")(4,"app-addressblockchain"),u())},dependencies:[MC,AC,DC,LC],styles:[".landing-page[_ngcontent-%COMP%]{background-image:url(https://html.xpressbuddy.com/coindox/assets/img/bg/blockchain_hero_bg.png);background-size:cover;position:relative;height:auto;overflow:hidden;background-color:#0a0a0f}"]})}}return i})();var OC=[{path:"",component:IC},{path:"login",component:hC},{path:"auth",component:vC},{path:"forgotpassword",component:wC},{path:"passwordAuth",component:SC},{path:"resetPassword",component:kC},{path:"portal",component:z1,canActivate:[xC],children:[{path:"dashboard",component:dC},{path:"files",component:pC},{path:"",component:EC,canActivate:[_C],children:[{path:"activities",component:mC},{path:"users",component:fC},{path:"settings",component:gC},{path:"newuser",component:Nd}]}]},{path:"securitycheck",component:yC},{path:"viewer/:id",component:bC},{path:"errorpage",component:CC},{path:"**",redirectTo:"/errorpage"}];var i5=(()=>{class i extends ec{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(re(gt),re(Ks),re(Zl))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function n5(){return new Dg}function r5(i,t,e){return new Ig(i,t,e)}var FC=[{provide:Zl,useFactory:n5},{provide:ec,useClass:i5},{provide:Vo,useFactory:r5,deps:[jo,ec,lt]}],Cf=[{provide:Ks,useFactory:()=>new Lg},{provide:js,useValue:"BrowserAnimations"},...FC],o5=[{provide:Ks,useClass:Ag},{provide:js,useValue:"NoopAnimations"},...FC],NC=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?o5:Cf}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ie({type:i});static \u0275inj=Le({providers:Cf,imports:[a0]})}return i})();function RC(){return Hs("NgEagerAnimations"),[...Cf]}var Ml="Service workers are disabled or not supported by this browser";function s5(i){return Kn(()=>Ir(new Error(i)))}var Fs=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=s5(Ml);else{let n=Si(t,"controllerchange").pipe(ve(()=>t.controller)),r=Kn(()=>ee(t.controller)),o=Hl(r,n);this.worker=o.pipe(mi(h=>!!h)),this.registration=this.worker.pipe(Lt(()=>t.getRegistration()));let c=Si(t,"message").pipe(ve(h=>h.data)).pipe(mi(h=>h&&h.type)).pipe(Rf());c.connect(),this.events=c}}postMessage(t,e){return this.worker.pipe(fi(1),mt(n=>{n.postMessage(R({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,n){let r=this.waitForOperationCompleted(n),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=n=>n.type===t:e=n=>t.includes(n.type),this.events.pipe(mi(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(fi(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(mi(e=>e.nonce===t),fi(1),ve(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},a5=(()=>{class i{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Xt;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Oo,this.notificationClicks=Oo,this.subscription=Oo;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ve(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(r=>r.data)),this.pushManager=this.sw.registration.pipe(ve(r=>r.pushManager));let n=this.pushManager.pipe(Lt(r=>r.getSubscription()));this.subscription=Mu(n,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ml));let n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return n.applicationServerKey=o,this.pushManager.pipe(Lt(s=>s.subscribe(n)),fi(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ml));let e=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(fi(1),Lt(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||i)(re(Fs))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),l5=(()=>{class i{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Oo,this.unrecoverable=Oo;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ml));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ml));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||i)(re(Fs))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var PC=new we("");function c5(i,t,e){return()=>{if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=i.get(lt),r=i.get(rn);n.runOutsideAngular(()=>{let s=navigator.serviceWorker,a=()=>s.controller?.postMessage({action:"INITIALIZE"});s.addEventListener("controllerchange",a),r.onDestroy(()=>{s.removeEventListener("controllerchange",a)})});let o;if(typeof e.registrationStrategy=="function")o=e.registrationStrategy();else{let[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=ee(null);break;case"registerWithDelay":o=VC(+a[0]||0);break;case"registerWhenStable":let l=pt(i.get(rn).whenStable());o=a[0]?Mu(l,VC(+a[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.runOutsideAngular(()=>o.pipe(fi(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function VC(i){return ee(null).pipe(Ff(i))}function d5(i){return new Fs(i.enabled!==!1?navigator.serviceWorker:void 0)}var El=class{enabled;scope;registrationStrategy};function BC(i,t={}){return nn([a5,l5,{provide:PC,useValue:i},{provide:El,useValue:t},{provide:Fs,useFactory:d5,deps:[El]},{provide:Us,useFactory:c5,deps:[Yt,PC,El],multi:!0}])}var u5="@",h5=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=G(Yt);loadingSchedulerFn=G(p5,{optional:!0});_engine;constructor(e,n,r,o,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-WKA5VUFF.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new Ae(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new wf(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,n);o.use(a),this.scheduler??=this.injector.get(Gf,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){$l()};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),wf=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(u5)}},p5=new we("");function zC(i="animations"){return Hs("NgAsyncAnimations"),nn([{provide:Vo,useFactory:(t,e,n)=>new h5(t,e,n,i),deps:[gt,jo,lt]},{provide:js,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var HC={providers:[dg({eventCoalescing:!0}),J0(OC),RC(),Iu(Yg),Iu(NC),BC("ngsw-worker.js",{enabled:!ug(),registrationStrategy:"registerWhenStable:30000"}),zC()]};var jC=(()=>{class i{constructor(){this.title="memoapp"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=H({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&_(0,"router-outlet")},dependencies:[$r],encapsulation:2})}}return i})();o0(jC,HC).catch(i=>console.error(i));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/src/service-worker.js").then(i=>{console.log("Service Worker registered with scope:",i.scope)}).catch(i=>{console.log("Service Worker registration failed:",i)})});
